From bugs+caf_=bugs=bugs.plt-scheme.org@plt-scheme.org Fri Apr 11 00:22:35 2008
Received: from wr-out-0506.google.com (wr-out-0506.google.com [64.233.184.232])
	by champlain.ccs.neu.edu (8.13.8/8.13.7) with ESMTP id m3B4MZip032217
	for <bugs@bugs.plt-scheme.org>; Fri, 11 Apr 2008 00:22:35 -0400
Message-Id: <200804110422.m3B4MUac032212@champlain.ccs.neu.edu>
Date: Fri, 11 Apr 2008 00:22:30 -0400
From: ryanc@ccs.neu.edu
To: bugs@plt-scheme.org
Subject: File | Open... should be relative to file in current buffer

>Number:         9289
>Category:       drscheme
>Synopsis:       File | Open... should be relative to file in current buffer
>Class:          sw-bug
>Responsible:    robby
>Severity:       serious
>Priority:       medium
>State:          open
>Confidential:   no
>Arrival-Date:   Fri Apr 11 00:25:01 -0400 2008
>Last-Modified:  Fri May 09 15:58:08 -0400 2008
>Originator:     Ryan Culpepper
>Organization:
plt
>Submitter-Id:   unknown
>Release:        3.99.0.22-svn7apr2008
>Environment:
unix "Linux artichoke 2.6.22-14-generic #1 SMP Tue Feb 12 07:42:25 UTC 2008 i686 GNU/Linux" (i386-linux/3m) (get-display-depth) = 24
Human Language: english
(current-memory-use) 111662824

Collections:
(("/home/ryan/.plt-scheme/3.99.0.22/collects" non-existent-path) ("/home/ryan/projects/plt/collects" "afm" "ffi" "net" "sgl" "xml" ".svn" "eopl" "file" "help" "htdp" "html" "lang" "lazy" "make" "r5rs" "r6rs" "mred" "plot" "rnrs" "srfi" "wxme" "framework" "teachpack" "handin-client" "mzscheme" "games" "icons" "htdch" "s-exp" "mrlib" "mzcom" "mzlib" "graphics" "profj" "setup" "tests" "trace" "test-engine" "combinator-parser" "waterworld" "preprocessor" "sirmail" "test-box-recovery" "handin-server" "tex2page" "texpict" "scribblings" "profjWizard" "stepper" "scribble" "typed-scheme" "web-server" "config" "compiler" "swindle" "dynext" "hierlist" "macro-debugger" "frtime" "defaults" "gui-debugger" "guibuilder" "drscheme" "syntax-color" "srpersist" "planet" "mysterx" "errortrace" "scheme" "slatex" "syntax" "version" "algol60" "honu-module" "parser-tools" "little-helper" "openssl" "embedded-gui" "slideshow" "repos-time-stamp" "info-domain" "readline" "launcher" "string-constants" "b!
 rowser" "stxclass"))
Computer Language: (("Module") (#(#t write mixed-fraction-e #f #t debug) (default) #()))
>Description:
When I am editing a file in DrScheme that I've opened via "Open Recent" or by passing it as a command-line argument to DrScheme, when I use "Open..." or "C-x,C-f" to reach the open file dialog, it starts in an unrelated directory. I would like it to start in the directory containing the file I'm already editing. I know I can go directly there using the dropdown menu on the left side of the toolbar, but I'd prefer to use the keyboard.
>How-To-Repeat:
>Fix:
>Audit-Trail:
From: "Robby Findler" <robby@cs.uchicago.edu>
To: ryanc@ccs.neu.edu, bugs@plt-scheme.org
Cc: nobody@plt-scheme.org, eli@plt-scheme.org, matthias@plt-scheme.org,
        sk@plt-scheme.org, mflatt@plt-scheme.org, clements@plt-scheme.org,
        jay@plt-scheme.org, meunier@plt-scheme.org, sowens@plt-scheme.org,
        kathyg@plt-scheme.org, jacobm@plt-scheme.org, cce@plt-scheme.org,
        samth@plt-scheme.org, ryanc@plt-scheme.org
Subject: Re: [plt-bug] all/9289: File | Open... should be relative to file in current buffer
Date: Fri, 11 Apr 2008 07:14:28 -0500

 This is, I believe, actually something that is a convention
 established by the platforms and so DrScheem follows it by letting the
 platform keep its own state about where the file|open dialog starts
 out.
 
 But maybe I'm wrong about that?
 
 Robby
 
 On Thu, Apr 10, 2008 at 11:25 PM,  <ryanc@ccs.neu.edu> wrote:
 > A new problem report is waiting at
 >   http://bugs.plt-scheme.org/query/?cmd=view&pr=9289
 >
 >  Reported by Ryan Culpepper for release: 3.99.0.22-svn7apr2008
 >
 >  *** Description:
 >  When I am editing a file in DrScheme that I've opened via "Open Recent" or by passing it as a command-line argument to DrScheme, when I use "Open..." or "C-x,C-f" to reach the open file dialog, it starts in an unrelated directory. I would like it to start in the directory containing the file I'm already editing. I know I can go directly there using the dropdown menu on the left side of the toolbar, but I'd prefer to use the keyboard.
 >
 >  *** How to repeat:
 >
 >
 >  *** Environment:
 >  unix "Linux artichoke 2.6.22-14-generic #1 SMP Tue Feb 12 07:42:25 UTC 2008 i686 GNU/Linux" (i386-linux/3m) (get-display-depth) = 24
 >  Human Language: english
 >  (current-memory-use) 111662824
 >
 >  Collections:
 >  (("/home/ryan/.plt-scheme/3.99.0.22/collects" non-existent-path) ("/home/ryan/projects/plt/collects" "afm" "ffi" "net" "sgl" "xml" ".svn" "eopl" "file" "help" "htdp" "html" "lang" "lazy" "make" "r5rs" "r6rs" "mred" "plot" "rnrs" "srfi" "wxme" "framework" "teachpack" "handin-client" "mzscheme" "games" "icons" "htdch" "s-exp" "mrlib" "mzcom" "mzlib" "graphics" "profj" "setup" "tests" "trace" "test-engine" "combinator-parser" "waterworld" "preprocessor" "sirmail" "test-box-recovery" "handin-server" "tex2page" "texpict" "scribblings" "profjWizard" "stepper" "scribble" "typed-scheme" "web-server" "config" "compiler" "swindle" "dynext" "hierlist" "macro-debugger" "frtime" "defaults" "gui-debugger" "guibuilder" "drscheme" "syntax-color" "srpersist" "planet" "mysterx" "errortrace" "scheme" "slatex" "syntax" "version" "algol60" "honu-module" "parser-tools" "little-helper" "openssl" "embedded-gui" "slideshow" "repos-time-stamp" "info-domain" "readline" "launcher" "string-constants" "b!
 >   rowser" "stxclass"))
 >  Computer Language: (("Module") (#(#t write mixed-fraction-e #f #t debug) (default) #()))
 >
 >
From: "Sam TH" <samth@plt-scheme.org>
To: "Robby Findler" <robby@cs.uchicago.edu>
Cc: ryanc@ccs.neu.edu, bugs@plt-scheme.org, nobody@plt-scheme.org,
        eli@plt-scheme.org, matthias@plt-scheme.org, sk@plt-scheme.org,
        mflatt@plt-scheme.org, clements@plt-scheme.org, jay@plt-scheme.org,
        meunier@plt-scheme.org, sowens@plt-scheme.org, kathyg@plt-scheme.org,
        jacobm@plt-scheme.org, cce@plt-scheme.org, ryanc@plt-scheme.org
Subject: Re: [plt-bug] all/9289: File | Open... should be relative to file in current buffer
Date: Fri, 11 Apr 2008 09:17:17 -0400

 I just tested this on some editors for both GNOME and OS X.4.
 
 Gedit, for Gnome, works as Ryan suggests - if you open a
 recently-opened file, and then choose `Open' from the menu, you get
 the directory the recent file is in.
 
 TextEdit, for OS X, always opens its dialog in the `Documents'
 directory, regardless of previous opened files, or what directory the
 application was run from.  However, if you *save* a file, and then do
 `Open', it goes to the directory the file was saved in.
 
 OpenOffice, on Gnome, behaves like TextEdit, but with my home
 directory instead of the Documents directory, until you open a file
 with the Open dialog, in which case it behaves like DrScheme.
 
 Word 2004 for OS X behaves like OpenOffice.
 
 Pages, the Apple word processor, behaves like TextEdit.
 
 Emacs has yet another behavior, starting in whatever directory the
 current buffer is in.
 
 Overall, I think there's no clear convention on OS X, and programs the
 use the Gnome file manager to open files seem to follow the convention
 Ryan suggests.  There's also the Emacs behavior, which could be
 reasonable.
 
 Thanks,
 sam th
 
 On Fri, Apr 11, 2008 at 8:14 AM, Robby Findler <robby@cs.uchicago.edu> wrote:
 > This is, I believe, actually something that is a convention
 >  established by the platforms and so DrScheem follows it by letting the
 >  platform keep its own state about where the file|open dialog starts
 >  out.
 >
 >  But maybe I'm wrong about that?
 >
 >  Robby
 >
 >
 >
 >  On Thu, Apr 10, 2008 at 11:25 PM,  <ryanc@ccs.neu.edu> wrote:
 >  > A new problem report is waiting at
 >  >   http://bugs.plt-scheme.org/query/?cmd=view&pr=9289
 >  >
 >  >  Reported by Ryan Culpepper for release: 3.99.0.22-svn7apr2008
 >  >
 >  >  *** Description:
 >  >  When I am editing a file in DrScheme that I've opened via "Open Recent" or by passing it as a command-line argument to DrScheme, when I use "Open..." or "C-x,C-f" to reach the open file dialog, it starts in an unrelated directory. I would like it to start in the directory containing the file I'm already editing. I know I can go directly there using the dropdown menu on the left side of the toolbar, but I'd prefer to use the keyboard.
 >  >
 >  >  *** How to repeat:
 >  >
 >  >
 >  >  *** Environment:
 >  >  unix "Linux artichoke 2.6.22-14-generic #1 SMP Tue Feb 12 07:42:25 UTC 2008 i686 GNU/Linux" (i386-linux/3m) (get-display-depth) = 24
 >  >  Human Language: english
 >  >  (current-memory-use) 111662824
 >  >
 >  >  Collections:
 >  >  (("/home/ryan/.plt-scheme/3.99.0.22/collects" non-existent-path) ("/home/ryan/projects/plt/collects" "afm" "ffi" "net" "sgl" "xml" ".svn" "eopl" "file" "help" "htdp" "html" "lang" "lazy" "make" "r5rs" "r6rs" "mred" "plot" "rnrs" "srfi" "wxme" "framework" "teachpack" "handin-client" "mzscheme" "games" "icons" "htdch" "s-exp" "mrlib" "mzcom" "mzlib" "graphics" "profj" "setup" "tests" "trace" "test-engine" "combinator-parser" "waterworld" "preprocessor" "sirmail" "test-box-recovery" "handin-server" "tex2page" "texpict" "scribblings" "profjWizard" "stepper" "scribble" "typed-scheme" "web-server" "config" "compiler" "swindle" "dynext" "hierlist" "macro-debugger" "frtime" "defaults" "gui-debugger" "guibuilder" "drscheme" "syntax-color" "srpersist" "planet" "mysterx" "errortrace" "scheme" "slatex" "syntax" "version" "algol60" "honu-module" "parser-tools" "little-helper" "openssl" "embedded-gui" "slideshow" "repos-time-stamp" "info-domain" "readline" "launcher" "string-constants" "b!
 >  >   rowser" "stxclass"))
 >  >  Computer Language: (("Module") (#(#t write mixed-fraction-e #f #t debug) (default) #()))
 >  >
 >  >
 >
 
 
 
 -- 
 sam th
 samth@ccs.neu.edu
From: "Robby Findler" <robby@cs.uchicago.edu>
To: "Sam TH" <samth@plt-scheme.org>
Cc: ryanc@ccs.neu.edu, bugs@plt-scheme.org, nobody@plt-scheme.org,
        eli@plt-scheme.org, matthias@plt-scheme.org, sk@plt-scheme.org,
        mflatt@plt-scheme.org, clements@plt-scheme.org, jay@plt-scheme.org,
        meunier@plt-scheme.org, sowens@plt-scheme.org, kathyg@plt-scheme.org,
        jacobm@plt-scheme.org, cce@plt-scheme.org, ryanc@plt-scheme.org
Subject: Re: [plt-bug] all/9289: File | Open... should be relative to file in current buffer
Date: Fri, 11 Apr 2008 08:19:24 -0500

 You didn't happen to check here, did you?
 
 http://developer.apple.com/documentation/UserExperience/Conceptual/OSXHIGuidelines/XHIGIntro/chapter_1_section_1.html
 
 (not that I know what it'll say, but for the mac it is supposed to be
 considered definitive)
 
 Robby
 
 On Fri, Apr 11, 2008 at 8:17 AM, Sam TH <samth@plt-scheme.org> wrote:
 > I just tested this on some editors for both GNOME and OS X.4.
 >
 >  Gedit, for Gnome, works as Ryan suggests - if you open a
 >  recently-opened file, and then choose `Open' from the menu, you get
 >  the directory the recent file is in.
 >
 >  TextEdit, for OS X, always opens its dialog in the `Documents'
 >  directory, regardless of previous opened files, or what directory the
 >  application was run from.  However, if you *save* a file, and then do
 >  `Open', it goes to the directory the file was saved in.
 >
 >  OpenOffice, on Gnome, behaves like TextEdit, but with my home
 >  directory instead of the Documents directory, until you open a file
 >  with the Open dialog, in which case it behaves like DrScheme.
 >
 >  Word 2004 for OS X behaves like OpenOffice.
 >
 >  Pages, the Apple word processor, behaves like TextEdit.
 >
 >  Emacs has yet another behavior, starting in whatever directory the
 >  current buffer is in.
 >
 >  Overall, I think there's no clear convention on OS X, and programs the
 >  use the Gnome file manager to open files seem to follow the convention
 >  Ryan suggests.  There's also the Emacs behavior, which could be
 >  reasonable.
 >
 >  Thanks,
 >  sam th
 >
 >
 >
 >  On Fri, Apr 11, 2008 at 8:14 AM, Robby Findler <robby@cs.uchicago.edu> wrote:
 >  > This is, I believe, actually something that is a convention
 >  >  established by the platforms and so DrScheem follows it by letting the
 >  >  platform keep its own state about where the file|open dialog starts
 >  >  out.
 >  >
 >  >  But maybe I'm wrong about that?
 >  >
 >  >  Robby
 >  >
 >  >
 >  >
 >  >  On Thu, Apr 10, 2008 at 11:25 PM,  <ryanc@ccs.neu.edu> wrote:
 >  >  > A new problem report is waiting at
 >  >  >   http://bugs.plt-scheme.org/query/?cmd=view&pr=9289
 >  >  >
 >  >  >  Reported by Ryan Culpepper for release: 3.99.0.22-svn7apr2008
 >  >  >
 >  >  >  *** Description:
 >  >  >  When I am editing a file in DrScheme that I've opened via "Open Recent" or by passing it as a command-line argument to DrScheme, when I use "Open..." or "C-x,C-f" to reach the open file dialog, it starts in an unrelated directory. I would like it to start in the directory containing the file I'm already editing. I know I can go directly there using the dropdown menu on the left side of the toolbar, but I'd prefer to use the keyboard.
 >  >  >
 >  >  >  *** How to repeat:
 >  >  >
 >  >  >
 >  >  >  *** Environment:
 >  >  >  unix "Linux artichoke 2.6.22-14-generic #1 SMP Tue Feb 12 07:42:25 UTC 2008 i686 GNU/Linux" (i386-linux/3m) (get-display-depth) = 24
 >  >  >  Human Language: english
 >  >  >  (current-memory-use) 111662824
 >  >  >
 >  >  >  Collections:
 >  >  >  (("/home/ryan/.plt-scheme/3.99.0.22/collects" non-existent-path) ("/home/ryan/projects/plt/collects" "afm" "ffi" "net" "sgl" "xml" ".svn" "eopl" "file" "help" "htdp" "html" "lang" "lazy" "make" "r5rs" "r6rs" "mred" "plot" "rnrs" "srfi" "wxme" "framework" "teachpack" "handin-client" "mzscheme" "games" "icons" "htdch" "s-exp" "mrlib" "mzcom" "mzlib" "graphics" "profj" "setup" "tests" "trace" "test-engine" "combinator-parser" "waterworld" "preprocessor" "sirmail" "test-box-recovery" "handin-server" "tex2page" "texpict" "scribblings" "profjWizard" "stepper" "scribble" "typed-scheme" "web-server" "config" "compiler" "swindle" "dynext" "hierlist" "macro-debugger" "frtime" "defaults" "gui-debugger" "guibuilder" "drscheme" "syntax-color" "srpersist" "planet" "mysterx" "errortrace" "scheme" "slatex" "syntax" "version" "algol60" "honu-module" "parser-tools" "little-helper" "openssl" "embedded-gui" "slideshow" "repos-time-stamp" "info-domain" "readline" "launcher" "string-constant
 >   s" "b!
 >  >  >   rowser" "stxclass"))
 >  >  >  Computer Language: (("Module") (#(#t write mixed-fraction-e #f #t debug) (default) #()))
 >  >  >
 >  >  >
 >  >
 >
 >
 >
 >  --
 >  sam th
 >  samth@ccs.neu.edu
 >
From: "Sam TH" <samth@plt-scheme.org>
To: "Robby Findler" <robby@cs.uchicago.edu>
Cc: ryanc@ccs.neu.edu, bugs@plt-scheme.org, nobody@plt-scheme.org,
        eli@plt-scheme.org, matthias@plt-scheme.org, sk@plt-scheme.org,
        mflatt@plt-scheme.org, clements@plt-scheme.org, jay@plt-scheme.org,
        meunier@plt-scheme.org, sowens@plt-scheme.org, kathyg@plt-scheme.org,
        jacobm@plt-scheme.org, cce@plt-scheme.org, ryanc@plt-scheme.org
Subject: Re: [plt-bug] all/9289: File | Open... should be relative to file in current buffer
Date: Fri, 11 Apr 2008 09:24:37 -0400

 I did look there, and it doesn't seem to say anything about this
 issue.  Both the Apple-written applications behave the same way,
 though, so I imagine that's what they would suggest.  Sadly, that's
 the least useful of the behaviors, and oriented toward saving
 basically all your files in `Documents'.
 
 The GNOME HIG [1] and the KDE HIG [2] also don't seem to mention it.
 All of them just mention that you should use the platform-standard
 dialog (which sadly we don't on Unix, but that's neither here nor
 there).
 
 sam th
 
 [1] http://library.gnome.org/devel/hig-book/stable/
 [2] http://developer.kde.org/documentation/standards/kde/style/basics/
 
 On Fri, Apr 11, 2008 at 9:19 AM, Robby Findler <robby@cs.uchicago.edu> wrote:
 > You didn't happen to check here, did you?
 >
 >  http://developer.apple.com/documentation/UserExperience/Conceptual/OSXHIGuidelines/XHIGIntro/chapter_1_section_1.html
 >
 >  (not that I know what it'll say, but for the mac it is supposed to be
 >  considered definitive)
 >
 >  Robby
 >
 >
 >
 >  On Fri, Apr 11, 2008 at 8:17 AM, Sam TH <samth@plt-scheme.org> wrote:
 >  > I just tested this on some editors for both GNOME and OS X.4.
 >  >
 >  >  Gedit, for Gnome, works as Ryan suggests - if you open a
 >  >  recently-opened file, and then choose `Open' from the menu, you get
 >  >  the directory the recent file is in.
 >  >
 >  >  TextEdit, for OS X, always opens its dialog in the `Documents'
 >  >  directory, regardless of previous opened files, or what directory the
 >  >  application was run from.  However, if you *save* a file, and then do
 >  >  `Open', it goes to the directory the file was saved in.
 >  >
 >  >  OpenOffice, on Gnome, behaves like TextEdit, but with my home
 >  >  directory instead of the Documents directory, until you open a file
 >  >  with the Open dialog, in which case it behaves like DrScheme.
 >  >
 >  >  Word 2004 for OS X behaves like OpenOffice.
 >  >
 >  >  Pages, the Apple word processor, behaves like TextEdit.
 >  >
 >  >  Emacs has yet another behavior, starting in whatever directory the
 >  >  current buffer is in.
 >  >
 >  >  Overall, I think there's no clear convention on OS X, and programs the
 >  >  use the Gnome file manager to open files seem to follow the convention
 >  >  Ryan suggests.  There's also the Emacs behavior, which could be
 >  >  reasonable.
 >  >
 >  >  Thanks,
 >  >  sam th
 >  >
 >  >
 >  >
 >  >  On Fri, Apr 11, 2008 at 8:14 AM, Robby Findler <robby@cs.uchicago.edu> wrote:
 >  >  > This is, I believe, actually something that is a convention
 >  >  >  established by the platforms and so DrScheem follows it by letting the
 >  >  >  platform keep its own state about where the file|open dialog starts
 >  >  >  out.
 >  >  >
 >  >  >  But maybe I'm wrong about that?
 >  >  >
 >  >  >  Robby
 >  >  >
 >  >  >
 >  >  >
 >  >  >  On Thu, Apr 10, 2008 at 11:25 PM,  <ryanc@ccs.neu.edu> wrote:
 >  >  >  > A new problem report is waiting at
 >  >  >  >   http://bugs.plt-scheme.org/query/?cmd=view&pr=9289
 >  >  >  >
 >  >  >  >  Reported by Ryan Culpepper for release: 3.99.0.22-svn7apr2008
 >  >  >  >
 >  >  >  >  *** Description:
 >  >  >  >  When I am editing a file in DrScheme that I've opened via "Open Recent" or by passing it as a command-line argument to DrScheme, when I use "Open..." or "C-x,C-f" to reach the open file dialog, it starts in an unrelated directory. I would like it to start in the directory containing the file I'm already editing. I know I can go directly there using the dropdown menu on the left side of the toolbar, but I'd prefer to use the keyboard.
 >  >  >  >
 >  >  >  >  *** How to repeat:
 >  >  >  >
 >  >  >  >
 >  >  >  >  *** Environment:
 >  >  >  >  unix "Linux artichoke 2.6.22-14-generic #1 SMP Tue Feb 12 07:42:25 UTC 2008 i686 GNU/Linux" (i386-linux/3m) (get-display-depth) = 24
 >  >  >  >  Human Language: english
 >  >  >  >  (current-memory-use) 111662824
 >  >  >  >
 >  >  >  >  Collections:
 >  >  >  >  (("/home/ryan/.plt-scheme/3.99.0.22/collects" non-existent-path) ("/home/ryan/projects/plt/collects" "afm" "ffi" "net" "sgl" "xml" ".svn" "eopl" "file" "help" "htdp" "html" "lang" "lazy" "make" "r5rs" "r6rs" "mred" "plot" "rnrs" "srfi" "wxme" "framework" "teachpack" "handin-client" "mzscheme" "games" "icons" "htdch" "s-exp" "mrlib" "mzcom" "mzlib" "graphics" "profj" "setup" "tests" "trace" "test-engine" "combinator-parser" "waterworld" "preprocessor" "sirmail" "test-box-recovery" "handin-server" "tex2page" "texpict" "scribblings" "profjWizard" "stepper" "scribble" "typed-scheme" "web-server" "config" "compiler" "swindle" "dynext" "hierlist" "macro-debugger" "frtime" "defaults" "gui-debugger" "guibuilder" "drscheme" "syntax-color" "srpersist" "planet" "mysterx" "errortrace" "scheme" "slatex" "syntax" "version" "algol60" "honu-module" "parser-tools" "little-helper" "openssl" "embedded-gui" "slideshow" "repos-time-stamp" "info-domain" "readline" "launcher" "string-constant
 >  >   s" "b!
 >  >  >  >   rowser" "stxclass"))
 >  >  >  >  Computer Language: (("Module") (#(#t write mixed-fraction-e #f #t debug) (default) #()))
 >  >  >  >
 >  >  >  >
 >  >  >
 >  >
 >  >
 >  >
 >  >  --
 >  >  sam th
 >  >  samth@ccs.neu.edu
 >  >
 >
 
 
 
 -- 
 sam th
 samth@ccs.neu.edu
From: Eli Barzilay <eli@barzilay.org>
To: "Sam TH" <samth@plt-scheme.org>
Cc: "Robby Findler" <robby@cs.uchicago.edu>, ryanc@ccs.neu.edu,
        bugs@plt-scheme.org, nobody@plt-scheme.org, matthias@plt-scheme.org,
        sk@plt-scheme.org, mflatt@plt-scheme.org, clements@plt-scheme.org,
        jay@plt-scheme.org, meunier@plt-scheme.org, sowens@plt-scheme.org,
        kathyg@plt-scheme.org, jacobm@plt-scheme.org, cce@plt-scheme.org,
        ryanc@plt-scheme.org
Subject: Re: [plt-bug] all/9289: File | Open... should be relative to file in current buffer
Date: Fri, 11 Apr 2008 09:31:54 -0400

 On Apr 11, Sam TH wrote:
 > 
 > [...]  There's also the Emacs behavior, which could be reasonable.
 
 +1.
 
 I think that the best way for this is to:
 
 1. Always use the `current-directory' for openning a file.
 
 2. When viewing a buffer, set the `current-directory' to the file's
    directory if there is a file, or the directory in effect when an
    unsaved buffer was created.
 
 3. When DrScheme starts from a unix launcher script, have it use the
    directory that it was started from.
 
 4. When it starts through an application (either DrScheme.app or
    DrScheme.exe on OSX and Windows), set the current directory
    according to the system's default.  (Since at least on Windows the
    directory is set to some useless value like the PLT folder.)
 
 5. I think that doing all this is a good idea even if it contradicts
    some standard ui guidelines.  The target is developers -- and it's
    very rare (I think) to find programmers who save their code in the
    same place they save "documents".
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
From: "Robby Findler" <robby@cs.uchicago.edu>
To: "Eli Barzilay" <eli@barzilay.org>
Cc: "Sam TH" <samth@plt-scheme.org>, ryanc@ccs.neu.edu, bugs@plt-scheme.org,
        nobody@plt-scheme.org, matthias@plt-scheme.org, sk@plt-scheme.org,
        mflatt@plt-scheme.org, clements@plt-scheme.org, jay@plt-scheme.org,
        meunier@plt-scheme.org, sowens@plt-scheme.org, kathyg@plt-scheme.org,
        jacobm@plt-scheme.org, cce@plt-scheme.org, ryanc@plt-scheme.org
Subject: Re: [plt-bug] all/9289: File | Open... should be relative to file in current buffer
Date: Fri, 11 Apr 2008 08:59:13 -0500

 We also have to keep students in mind and they are, I suspect, much
 more in the Documents world than we are. So I'll try to match the mac
 os x behavior on mac os x.
 
 I'm perfectly happy to have other ways to open files that work better
 for developers, tho. Perhaps there is a way to make the popup menu be
 attached to a key? Would that help?
 
 Robby
 
 On Fri, Apr 11, 2008 at 8:31 AM, Eli Barzilay <eli@barzilay.org> wrote:
 > On Apr 11, Sam TH wrote:
 >  >
 >  > [...]  There's also the Emacs behavior, which could be reasonable.
 >
 >  +1.
 >
 >  I think that the best way for this is to:
 >
 >  1. Always use the `current-directory' for openning a file.
 >
 >  2. When viewing a buffer, set the `current-directory' to the file's
 >    directory if there is a file, or the directory in effect when an
 >    unsaved buffer was created.
 >
 >  3. When DrScheme starts from a unix launcher script, have it use the
 >    directory that it was started from.
 >
 >  4. When it starts through an application (either DrScheme.app or
 >    DrScheme.exe on OSX and Windows), set the current directory
 >    according to the system's default.  (Since at least on Windows the
 >    directory is set to some useless value like the PLT folder.)
 >
 >  5. I think that doing all this is a good idea even if it contradicts
 >    some standard ui guidelines.  The target is developers -- and it's
 >    very rare (I think) to find programmers who save their code in the
 >    same place they save "documents".
 >
 >  --
 >           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
 >                   http://www.barzilay.org/                 Maze is Life!
 >
From: Eli Barzilay <eli@barzilay.org>
To: "Robby Findler" <robby@cs.uchicago.edu>
Cc: "Sam TH" <samth@plt-scheme.org>, ryanc@ccs.neu.edu, bugs@plt-scheme.org,
        nobody@plt-scheme.org, matthias@plt-scheme.org, sk@plt-scheme.org,
        mflatt@plt-scheme.org, clements@plt-scheme.org, jay@plt-scheme.org,
        meunier@plt-scheme.org, sowens@plt-scheme.org, kathyg@plt-scheme.org,
        jacobm@plt-scheme.org, cce@plt-scheme.org, ryanc@plt-scheme.org
Subject: Re: [plt-bug] all/9289: File | Open... should be relative to file in current buffer
Date: Fri, 11 Apr 2008 11:08:42 -0400

 On Apr 11, Robby Findler wrote:
 > We also have to keep students in mind and they are, I suspect, much
 > more in the Documents world than we are. So I'll try to match the mac
 > os x behavior on mac os x.
 
 But they will get it -- they'll start DrScheme.app, which according to
 my suggestion does start in "Documents".  And if they keep saving
 files there, they'll never get out.  My point is that if you start
 drscheme from a shell then you're likely to use your dirrectory.
 
 > I'm perfectly happy to have other ways to open files that work better
 > for developers, tho. Perhaps there is a way to make the popup menu be
 > attached to a key? Would that help?
 > 
 > Robby
 > 
 > On Fri, Apr 11, 2008 at 8:31 AM, Eli Barzilay <eli@barzilay.org> wrote:
 > > On Apr 11, Sam TH wrote:
 > >  >
 > >  > [...]  There's also the Emacs behavior, which could be reasonable.
 > >
 > >  +1.
 > >
 > >  I think that the best way for this is to:
 > >
 > >  1. Always use the `current-directory' for openning a file.
 > >
 > >  2. When viewing a buffer, set the `current-directory' to the file's
 > >    directory if there is a file, or the directory in effect when an
 > >    unsaved buffer was created.
 > >
 > >  3. When DrScheme starts from a unix launcher script, have it use the
 > >    directory that it was started from.
 > >
 > >  4. When it starts through an application (either DrScheme.app or
 > >    DrScheme.exe on OSX and Windows), set the current directory
 > >    according to the system's default.  (Since at least on Windows the
 > >    directory is set to some useless value like the PLT folder.)
 > >
 > >  5. I think that doing all this is a good idea even if it contradicts
 > >    some standard ui guidelines.  The target is developers -- and it's
 > >    very rare (I think) to find programmers who save their code in the
 > >    same place they save "documents".
 > >
 > >  --
 > >           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
 > >                   http://www.barzilay.org/                 Maze is Life!
 > >
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
From: Ryan Culpepper <ryanc@ccs.neu.edu>
To: Eli Barzilay <eli@barzilay.org>
Cc: mflatt@plt-scheme.org, kathyg@plt-scheme.org, cce@plt-scheme.org,
        bugs@plt-scheme.org, "Robby Findler" <robby@cs.uchicago.edu>,
        nobody@plt-scheme.org, jay@plt-scheme.org, ryanc@plt-scheme.org,
        clements@plt-scheme.org, sowens@plt-scheme.org,
        "Sam TH" <samth@plt-scheme.org>, meunier@plt-scheme.org,
        jacobm@plt-scheme.org, sk@plt-scheme.org, matthias@plt-scheme.org
Subject: Re: [plt-bug] all/9289: File | Open... should be relative to file in current buffer
Date: Fri, 11 Apr 2008 11:49:39 -0400

 I think Eli has it exactly right. The unsophisticated student use cases 
 won't change, and the sophisticated developer use cases will improve.
 
 Ryan
 
 On Apr 11, 2008, at 11:08 AM, Eli Barzilay wrote:
 
 > On Apr 11, Robby Findler wrote:
 >> We also have to keep students in mind and they are, I suspect, much
 >> more in the Documents world than we are. So I'll try to match the mac
 >> os x behavior on mac os x.
 >
 > But they will get it -- they'll start DrScheme.app, which according to
 > my suggestion does start in "Documents".  And if they keep saving
 > files there, they'll never get out.  My point is that if you start
 > drscheme from a shell then you're likely to use your dirrectory.
 >
 >> I'm perfectly happy to have other ways to open files that work better
 >> for developers, tho. Perhaps there is a way to make the popup menu be
 >> attached to a key? Would that help?
 >>
 >> Robby
 >>
 >> On Fri, Apr 11, 2008 at 8:31 AM, Eli Barzilay <eli@barzilay.org> 
 >> wrote:
 >>> On Apr 11, Sam TH wrote:
 >>>>
 >>>> [...]  There's also the Emacs behavior, which could be reasonable.
 >>>
 >>>  +1.
 >>>
 >>>  I think that the best way for this is to:
 >>>
 >>>  1. Always use the `current-directory' for openning a file.
 >>>
 >>>  2. When viewing a buffer, set the `current-directory' to the file's
 >>>    directory if there is a file, or the directory in effect when an
 >>>    unsaved buffer was created.
 >>>
 >>>  3. When DrScheme starts from a unix launcher script, have it use the
 >>>    directory that it was started from.
 >>>
 >>>  4. When it starts through an application (either DrScheme.app or
 >>>    DrScheme.exe on OSX and Windows), set the current directory
 >>>    according to the system's default.  (Since at least on Windows the
 >>>    directory is set to some useless value like the PLT folder.)
 >>>
 >>>  5. I think that doing all this is a good idea even if it contradicts
 >>>    some standard ui guidelines.  The target is developers -- and it's
 >>>    very rare (I think) to find programmers who save their code in the
 >>>    same place they save "documents".
 >>>
 >>>  --
 >>>           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli 
 >>> Barzilay:
 >>>                   http://www.barzilay.org/                 Maze is 
 >>> Life!
 >>>
 >
 > -- 
 >           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli 
 > Barzilay:
 >                   http://www.barzilay.org/                 Maze is 
 > Life!
 
From: "Robby Findler" <robby@cs.uchicago.edu>
To: "Eli Barzilay" <eli@barzilay.org>
Cc: "Sam TH" <samth@plt-scheme.org>, ryanc@ccs.neu.edu, bugs@plt-scheme.org,
        nobody@plt-scheme.org, matthias@plt-scheme.org, sk@plt-scheme.org,
        mflatt@plt-scheme.org, clements@plt-scheme.org, jay@plt-scheme.org,
        meunier@plt-scheme.org, sowens@plt-scheme.org, kathyg@plt-scheme.org,
        jacobm@plt-scheme.org, cce@plt-scheme.org, ryanc@plt-scheme.org
Subject: Re: [plt-bug] all/9289: File | Open... should be relative to file in current buffer
Date: Fri, 11 Apr 2008 12:34:20 -0500

 Thanks for the clarifications.
 
 I don't think we want to involve current-directory here. In fact,
 DrScheme sets current-directory for the user's program based on where
 the file being run was saved and I don't think it ever sets its own
 current-directory (and I think I'd like to preserve that).
 
 So, here's what I think I can do:
 
   when opening a file, drscheme opens a get-file dialog in
   (picking whichever one is available in the following order):
 
    - the directory containing the currently edited file, if there is one
    - the directory where a file was last opened from
    - whatever #f does when passed to get-file (platform-specific)
 
 Alternatively, I can skip that middle step. That middle step is
 currently Scheme code from the framework and I see no reason to keep
 it. Should I? (I see that the documentation for handler:open-file
 makes no mention of this middle step, but that's where the middle step
 is documented.) Unless I hear otherwise shorly, that middle step is
 going to be gone.
 
 I think this will match Eli's suggestion if Matthew changes the
 behavior of get-file so that it starts out in the Documents folder
 when it gets #f the first time.
 
 Robby
From: "Robby Findler" <robby@cs.uchicago.edu>
To: "Eli Barzilay" <eli@barzilay.org>
Cc: "Sam TH" <samth@plt-scheme.org>, ryanc@ccs.neu.edu, bugs@plt-scheme.org,
        nobody@plt-scheme.org, matthias@plt-scheme.org, sk@plt-scheme.org,
        mflatt@plt-scheme.org, clements@plt-scheme.org, jay@plt-scheme.org,
        meunier@plt-scheme.org, sowens@plt-scheme.org, kathyg@plt-scheme.org,
        jacobm@plt-scheme.org, cce@plt-scheme.org, ryanc@plt-scheme.org
Subject: Re: [plt-bug] all/9289: File | Open... should be relative to file in current buffer
Date: Fri, 11 Apr 2008 12:58:53 -0500

 I've checked the below in, with the middle option below not included.
 
 So now I think it works to everyone's satisfaction, except the
 beginner who just starts up drscheme and does file|open. They start in
 the desktop instead of the documents folder under mac so x. (Just
 because (get-file) starts in the desktop in that situation.)
 
 Robby
 
 On Fri, Apr 11, 2008 at 12:34 PM, Robby Findler <robby@cs.uchicago.edu> wrote:
 > Thanks for the clarifications.
 >
 >  I don't think we want to involve current-directory here. In fact,
 >  DrScheme sets current-directory for the user's program based on where
 >  the file being run was saved and I don't think it ever sets its own
 >  current-directory (and I think I'd like to preserve that).
 >
 >  So, here's what I think I can do:
 >
 >   when opening a file, drscheme opens a get-file dialog in
 >   (picking whichever one is available in the following order):
 >
 >    - the directory containing the currently edited file, if there is one
 >    - the directory where a file was last opened from
 >    - whatever #f does when passed to get-file (platform-specific)
 >
 >  Alternatively, I can skip that middle step. That middle step is
 >  currently Scheme code from the framework and I see no reason to keep
 >  it. Should I? (I see that the documentation for handler:open-file
 >  makes no mention of this middle step, but that's where the middle step
 >  is documented.) Unless I hear otherwise shorly, that middle step is
 >  going to be gone.
 >
 >  I think this will match Eli's suggestion if Matthew changes the
 >  behavior of get-file so that it starts out in the Documents folder
 >  when it gets #f the first time.
 >
 >  Robby
 >
From: Eli Barzilay <eli@barzilay.org>
To: "Robby Findler" <robby@cs.uchicago.edu>
Cc: "Sam TH" <samth@plt-scheme.org>, ryanc@ccs.neu.edu, bugs@plt-scheme.org,
        nobody@plt-scheme.org, matthias@plt-scheme.org, sk@plt-scheme.org,
        mflatt@plt-scheme.org, clements@plt-scheme.org, jay@plt-scheme.org,
        meunier@plt-scheme.org, sowens@plt-scheme.org, kathyg@plt-scheme.org,
        jacobm@plt-scheme.org, cce@plt-scheme.org, ryanc@plt-scheme.org
Subject: Re: [plt-bug] all/9289: File | Open... should be relative to file in current buffer
Date: Fri, 11 Apr 2008 19:11:16 -0400

 On Apr 11, Robby Findler wrote:
 > I've checked the below in, with the middle option below not
 > included.
 
 The middle option is important, IMO.  IIUC, without it, every time you
 create a new buffer you "lose" your place in the filesystem.  If
 saving a file uses the same strategy (and it should, I think), then
 this will be very annoying since for each new file you will need to
 navigate to where you want to save it even if it's all in the same
 directory.
 
 (BTW, in my original suggestion, not using `current-directory' is not
 a problem -- all you need is some per-buffer value.)
 
 
 > So now I think it works to everyone's satisfaction, except the
 > beginner who just starts up drscheme and does file|open. They start
 > in the desktop instead of the documents folder under mac so x. (Just
 > because (get-file) starts in the desktop in that situation.)
 
 This seems to me like a mred-level issue, but I think that using
 (find-system-path 'doc-dir) should do the right thing.
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
From: "Robby Findler" <robby@cs.uchicago.edu>
To: "Eli Barzilay" <eli@barzilay.org>
Cc: "Sam TH" <samth@plt-scheme.org>, ryanc@ccs.neu.edu, bugs@plt-scheme.org,
        nobody@plt-scheme.org, matthias@plt-scheme.org, sk@plt-scheme.org,
        mflatt@plt-scheme.org, clements@plt-scheme.org, jay@plt-scheme.org,
        meunier@plt-scheme.org, sowens@plt-scheme.org, kathyg@plt-scheme.org,
        jacobm@plt-scheme.org, cce@plt-scheme.org, ryanc@plt-scheme.org
Subject: Re: [plt-bug] all/9289: File | Open... should be relative to file in current buffer
Date: Fri, 11 Apr 2008 18:13:39 -0500

 On Fri, Apr 11, 2008 at 6:11 PM, Eli Barzilay <eli@barzilay.org> wrote:
 > On Apr 11, Robby Findler wrote:
 >
 > > I've checked the below in, with the middle option below not
 >  > included.
 >
 >  The middle option is important, IMO.  IIUC, without it, every time you
 >  create a new buffer you "lose" your place in the filesystem.  If
 >  saving a file uses the same strategy (and it should, I think), then
 >  this will be very annoying since for each new file you will need to
 >  navigate to where you want to save it even if it's all in the same
 >  directory.
 
 It does the platform-specific thing in that case now. There is memory
 in the get-file dialog (at the OS level I think, not in mred).
 
 >  (BTW, in my original suggestion, not using `current-directory' is not
 >  a problem -- all you need is some per-buffer value.)
 
 A per-buffer value beyond the saved file?
 
 >  > So now I think it works to everyone's satisfaction, except the
 >  > beginner who just starts up drscheme and does file|open. They start
 >  > in the desktop instead of the documents folder under mac so x. (Just
 >  > because (get-file) starts in the desktop in that situation.)
 >
 >  This seems to me like a mred-level issue, but I think that using
 >  (find-system-path 'doc-dir) should do the right thing.
 
 I think it is a mred-level issue, too, so I won't do anything until
 Matthew tells me otherwise.
 
 Robby
From: Eli Barzilay <eli@barzilay.org>
To: "Robby Findler" <robby@cs.uchicago.edu>
Cc: "Sam TH" <samth@plt-scheme.org>, ryanc@ccs.neu.edu, bugs@plt-scheme.org,
        nobody@plt-scheme.org, matthias@plt-scheme.org, sk@plt-scheme.org,
        mflatt@plt-scheme.org, clements@plt-scheme.org, jay@plt-scheme.org,
        meunier@plt-scheme.org, sowens@plt-scheme.org, kathyg@plt-scheme.org,
        jacobm@plt-scheme.org, cce@plt-scheme.org, ryanc@plt-scheme.org
Subject: Re: [plt-bug] all/9289: File | Open... should be relative to file in current buffer
Date: Fri, 11 Apr 2008 19:20:12 -0400

 On Apr 11, Robby Findler wrote:
 > On Fri, Apr 11, 2008 at 6:11 PM, Eli Barzilay <eli@barzilay.org> wrote:
 > > On Apr 11, Robby Findler wrote:
 > >
 > > > I've checked the below in, with the middle option below not
 > >  > included.
 > >
 > >  The middle option is important, IMO.  IIUC, without it, every
 > >  time you create a new buffer you "lose" your place in the
 > >  filesystem.  If saving a file uses the same strategy (and it
 > >  should, I think), then this will be very annoying since for each
 > >  new file you will need to navigate to where you want to save it
 > >  even if it's all in the same directory.
 > 
 > It does the platform-specific thing in that case now. There is
 > memory in the get-file dialog (at the OS level I think, not in
 > mred).
 
 Ah right, that's probably equivalent.  (It is probably in mred for X.)
 
 
 > >  (BTW, in my original suggestion, not using `current-directory' is
 > >  not a problem -- all you need is some per-buffer value.)
 > 
 > A per-buffer value beyond the saved file?
 
 Yes, for unsaved buffers.  This is roughly what Emacs is doing --
 whenever a buffer is created, it's `default-directory' is set to the
 current buffer's value, so if you switch to some other buffer and get
 back to the newly-created-but-unsaved buffer, it still remembers where
 it was created.
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
From: "Robby Findler" <robby@cs.uchicago.edu>
To: "Eli Barzilay" <eli@barzilay.org>
Cc: "Sam TH" <samth@plt-scheme.org>, ryanc@ccs.neu.edu, bugs@plt-scheme.org,
        nobody@plt-scheme.org, matthias@plt-scheme.org, sk@plt-scheme.org,
        mflatt@plt-scheme.org, clements@plt-scheme.org, jay@plt-scheme.org,
        meunier@plt-scheme.org, sowens@plt-scheme.org, kathyg@plt-scheme.org,
        jacobm@plt-scheme.org, cce@plt-scheme.org, ryanc@plt-scheme.org
Subject: Re: [plt-bug] all/9289: File | Open... should be relative to file in current buffer
Date: Fri, 11 Apr 2008 18:31:01 -0500

 I think I'll leave that one for another day.
 
 Robby
 
 On Fri, Apr 11, 2008 at 6:20 PM, Eli Barzilay <eli@barzilay.org> wrote:
 > On Apr 11, Robby Findler wrote:
 >  > On Fri, Apr 11, 2008 at 6:11 PM, Eli Barzilay <eli@barzilay.org> wrote:
 >  > > On Apr 11, Robby Findler wrote:
 >  > >
 >  > > > I've checked the below in, with the middle option below not
 >  > >  > included.
 >  > >
 >  > >  The middle option is important, IMO.  IIUC, without it, every
 >  > >  time you create a new buffer you "lose" your place in the
 >  > >  filesystem.  If saving a file uses the same strategy (and it
 >  > >  should, I think), then this will be very annoying since for each
 >  > >  new file you will need to navigate to where you want to save it
 >  > >  even if it's all in the same directory.
 >  >
 >  > It does the platform-specific thing in that case now. There is
 >  > memory in the get-file dialog (at the OS level I think, not in
 >  > mred).
 >
 >  Ah right, that's probably equivalent.  (It is probably in mred for X.)
 >
 >
 >
 >  > >  (BTW, in my original suggestion, not using `current-directory' is
 >  > >  not a problem -- all you need is some per-buffer value.)
 >  >
 >  > A per-buffer value beyond the saved file?
 >
 >  Yes, for unsaved buffers.  This is roughly what Emacs is doing --
 >  whenever a buffer is created, it's `default-directory' is set to the
 >  current buffer's value, so if you switch to some other buffer and get
 >  back to the newly-created-but-unsaved buffer, it still remembers where
 >  it was created.
 >
 >
 >
 >  --
 >           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
 >                   http://www.barzilay.org/                 Maze is Life!
 >

