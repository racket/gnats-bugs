From bugs+caf_=bugs=bugs.plt-scheme.org@plt-scheme.org Tue Nov 11 11:13:42 2008
Received: from rv-out-0506.google.com (rv-out-0506.google.com [209.85.198.239])
	by champlain.ccs.neu.edu (8.14.2/8.14.2) with ESMTP id mABGDZOa015042
	for <bugs@bugs.plt-scheme.org>; Tue, 11 Nov 2008 11:13:35 -0500
Message-Id: <200811111613.mABGDXAv015036@champlain.ccs.neu.edu>
Date: Tue, 11 Nov 2008 11:13:33 -0500
From: eyetoy46@cox.net
To: bugs@plt-scheme.org
Subject: Helpdesk wont work

>Number:         9904
>Category:       help-desk
>Synopsis:       Helpdesk wont work
>Class:          sw-bug
>Responsible:    eli
>Severity:       serious
>Priority:       medium
>State:          closed
>Confidential:   no
>Arrival-Date:   Tue Nov 11 11:16:01 -0500 2008
>Closed-Date:    Mon Mar 16 06:38:28 -0400 2009
>Last-Modified:  Mon Mar 16 06:38:28 -0400 2009
>Originator:     Stephen
>Organization:
plt
>Submitter-Id:   unknown
>Release:        4.1.2
>Environment:
windows "Windows NT 5.1 (Build 2600) Service Pack 3" (win32\i386\3m) (get-display-depth) = 32
Human Language: english
(current-memory-use) 74789936

Collections:
(("C:\\Documents and Settings\\preib i\\Application Data\\PLT Scheme\\4.1.2\\collects" "installed-teachpacks") ("C:\\Program Files\\PLT\\collects" "afm" "algol60" "browser" "combinator-parser" "compiler" "config" "defaults" "drscheme" "dynext" "embedded-gui" "eopl" "errortrace" "ffi" "file" "framework" "frtime" "games" "graphics" "gui-debugger" "help" "hierlist" "htdch" "htdp" "html" "icons" "info-domain" "lang" "launcher" "lazy" "macro-debugger" "make" "mred" "mrlib" "mysterx" "mzcom" "mzlib" "mzscheme" "net" "openssl" "parser-tools" "planet" "plot" "preprocessor" "profj" "r5rs" "r6rs" "readline" "redex" "rnrs" "s-exp" "scheme" "scribble" "scribblings" "setup" "sgl" "slatex" "slideshow" "srfi" "stepper" "string-constants" "swindle" "syntax" "syntax-color" "teachpack" "test-box-recovery" "test-engine" "tex2page" "texpict" "trace" "typed-scheme" "version" "web-server" "wxme" "xml"))
Computer Language: (("Teaching Languages" "How to Design Programs" "Beginning Student") (#(#t constructor repeating-decimal #f #t none) #f ((lib "universe2.ss" "installed-teachpacks"))))
>Description:
For me and others in my class, help desk will not work, when clicking "Help > Help Desk" it will just sit there for a second then not do anything
>How-To-Repeat:
Click Help Desk
>Fix:
>Audit-Trail:
From: Matthias Felleisen <matthias@ccs.neu.edu>
To: eyetoy46@cox.net, bugs@plt-scheme.org
Cc: nobody@plt-scheme.org, eli@plt-scheme.org, matthias@plt-scheme.org,
        sk@plt-scheme.org, mflatt@plt-scheme.org, robby@plt-scheme.org,
        clements@plt-scheme.org, jay@plt-scheme.org, meunier@plt-scheme.org,
        kathyg@plt-scheme.org, jacobm@plt-scheme.org, cce@plt-scheme.org,
        samth@plt-scheme.org, ryanc@plt-scheme.org, gcooper@plt-scheme.org,
        sstrickl@plt-scheme.org
Subject: Re: [plt-bug] all/9904: Helpdesk wont work
Date: Tue, 11 Nov 2008 11:41:05 -0500

 At which college/university/school are you?
 
 (NU, for example, has a Windows setup that interferes in some way  
 with Help Desk. Yours could suffer from a similar bug.)
 
 
 
 
 On Nov 11, 2008, at 11:16 AM, eyetoy46@cox.net wrote:
 
 > A new problem report is waiting at
 >   http://bugs.plt-scheme.org/query/?cmd=view&pr=9904
 >
 > Reported by Stephen for release: 4.1.2
 >
 > *** Description:
 > For me and others in my class, help desk will not work, when  
 > clicking "Help > Help Desk" it will just sit there for a second  
 > then not do anything
 >
 > *** How to repeat:
 > Click Help Desk
 >
 > *** Environment:
 > windows "Windows NT 5.1 (Build 2600) Service Pack 3" (win32\i386 
 > \3m) (get-display-depth) = 32
 > Human Language: english
 > (current-memory-use) 74789936
 >
 > Collections:
 > (("C:\\Documents and Settings\\preib i\\Application Data\\PLT Scheme 
 > \\4.1.2\\collects" "installed-teachpacks") ("C:\\Program Files\\PLT\ 
 > \collects" "afm" "algol60" "browser" "combinator-parser" "compiler"  
 > "config" "defaults" "drscheme" "dynext" "embedded-gui" "eopl"  
 > "errortrace" "ffi" "file" "framework" "frtime" "games" "graphics"  
 > "gui-debugger" "help" "hierlist" "htdch" "htdp" "html" "icons"  
 > "info-domain" "lang" "launcher" "lazy" "macro-debugger" "make"  
 > "mred" "mrlib" "mysterx" "mzcom" "mzlib" "mzscheme" "net" "openssl"  
 > "parser-tools" "planet" "plot" "preprocessor" "profj" "r5rs" "r6rs"  
 > "readline" "redex" "rnrs" "s-exp" "scheme" "scribble" "scribblings"  
 > "setup" "sgl" "slatex" "slideshow" "srfi" "stepper" "string- 
 > constants" "swindle" "syntax" "syntax-color" "teachpack" "test-box- 
 > recovery" "test-engine" "tex2page" "texpict" "trace" "typed-scheme"  
 > "version" "web-server" "wxme" "xml"))
 > Computer Language: (("Teaching Languages" "How to Design Programs"  
 > "Beginning Student") (#(#t constructor repeating-decimal #f #t  
 > none) #f ((lib "universe2.ss" "installed-teachpacks"))))
 >
 
From: Eli Barzilay <eli@barzilay.org>
To: Matthias Felleisen <matthias@ccs.neu.edu>
Cc: eyetoy46@cox.net, bugs@plt-scheme.org, matthias@plt-scheme.org,
        sk@plt-scheme.org, mflatt@plt-scheme.org, robby@plt-scheme.org,
        clements@plt-scheme.org, jay@plt-scheme.org, meunier@plt-scheme.org,
        kathyg@plt-scheme.org, jacobm@plt-scheme.org, cce@plt-scheme.org,
        samth@plt-scheme.org, ryanc@plt-scheme.org, gcooper@plt-scheme.org,
        sstrickl@plt-scheme.org
Subject: Re: [plt-bug] all/9904: Helpdesk wont work
Date: Tue, 11 Nov 2008 13:18:36 -0500

 The more important question is how exactly do you get to run PLT.
 
 For example, what Matthias talks about is a setup that uses something
 called "softgrid" where applications are distributed to machines
 whenever you run them.  In this setup, each application has its own
 "bubble", and it cannot see files that belong to other distributed
 processes.  The result is that DrScheme would run IE, but IE cannot
 see the help files because they're in the PLT bubble; and IE will
 unhelpfully not even show an error message.
 
 
 On Nov 11, Matthias Felleisen wrote:
 > 
 > At which college/university/school are you?
 > 
 > (NU, for example, has a Windows setup that interferes in some way  
 > with Help Desk. Yours could suffer from a similar bug.)
 > 
 > 
 > On Nov 11, 2008, at 11:16 AM, eyetoy46@cox.net wrote:
 > 
 > > A new problem report is waiting at
 > >   http://bugs.plt-scheme.org/query/?cmd=view&pr=9904
 > >
 > > Reported by Stephen for release: 4.1.2
 > >
 > > *** Description:
 > > For me and others in my class, help desk will not work, when  
 > > clicking "Help > Help Desk" it will just sit there for a second  
 > > then not do anything
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
From: Eli Barzilay <eli@barzilay.org>
To: Matthias Felleisen <matthias@ccs.neu.edu>
Cc: "Stephen" <eyetoy46@cox.net>, Matthew Flatt <mflatt@cs.utah.edu>,
        Robby Findler <robby@cs.uchicago.edu>, bugs@plt-scheme.org
Subject: Re: [plt-bug] all/9904: Helpdesk wont work
Date: Tue, 11 Nov 2008 21:38:12 -0500

 [I'm adding bugs@plt-scheme.org back so there's a record of the
 problem for future reference.]
 
 
 Stephen: I'm not sure what you mean by "with what Eli Barzilay talked
 about" -- if you mean that your system uses softgrid, then you're
 right, you have exactly the same problem that we have here.  Assuming
 that this is the case, I'll describe the problem in more details.
 This can get pretty confusing, so it might be better to forward this
 email to the system administrators in your school.
 
 What happens is that softgrid downloads each application that you run
 in a local virtual directory, and the application only sees the whole
 system through this virtual directory.  For example, if PLT were
 changing the system registry in some way, then it will actually be
 changing something in its own virtual world, and the system will not
 actually change.  (This causes problems with other applications too,
 for example, we have firefox distributed through softgrid as well --
 and if you make firefox set itself as the default browser, then this
 setting has an effect only on the firefox bubble, which means that you
 cannot set it as a default.)
 
 In any case, things are a little different with IE (assuming that it's
 part of the system and not something that gets distributed through
 softgrid too).  It will be able to see the PLT bubble *only if* plt
 starts it.  An experiment to try it: run IE, and run DrScheme; chose
 help desk and you will see that nothing happens, because its files are
 not visible.  Now quit all IE windows (and use the system monitor to
 see that there are no iexplore.exe processes running); then run help
 desk from PLT and it should work as expected -- because now it starts
 a new process from inside the PLT bubble, so it can see the PLT
 files.  (This is all roughly what I remember, it was all pretty
 confusing and hard to remember all the details.)
 
 This means that it's possible to use IE, but only when PLT gets to run
 it.  That in itself is a problem because the PLT documentation works
 much better with other browsers (for various reasons that are
 unrelated to softgrid).
 
 After a long time that our sysadmins have tried to find a solution, it
 looked like there is no reasonable way out of this.  The only solution
 is to wait for softgrid to be able to disable this virtualization for
 some packages -- and IIUC, this was something that they said they are
 working on ages ago.  But the company was acquired by Microsoft some
 time ago, which means that such work is going to go much more slowly,
 if ever.
 
 The best solution we came up with is to hack PLT to use a network URL
 for serving its help files.  Remote contents is outside of any
 softgrid bubbles so things work right.  The way to do that is as
 follows:
 
 * Copy the plt `doc' directory to a place that is visible from the
   lab.  For this example, I'll assume that the documentation is
   available in some http://foo.bar/plt/doc/ (it only needs to be
   visible inside the school).
 
 * In the master copy of the PLT that the sysadmins use to `sequence'
   the plt package, open ...collects/help/search.ss for editing
 
 * Comment out the definition of `send-main-page' at the top of the
   file.  You can do that quickly by adding a #; before the definition
   and it is all going to be treated as a comment.
 
 * Below that definition, there is some code that looks like this:
 
     ;; This is an example of changing this code to use the online manuals.
     ;; Useful in cases like schools that use systems that have problems
     ;; running a browser on local files (like NEU).  If you use this, then
     ;; it is a good idea to put the documentation tree somewhere local, to
     ;; have better interaction times and not overload the PLT server.
     ;; (define doc-url "http://download.plt-scheme.org/doc/4.1/html/")
     ;; (define (send-main-page #:sub [sub "index.html"]
     ;;                         #:fragment [fragment #f] #:query [query #f])
     ;;   (define (part pfx x) (if x (list pfx x) '()))
     ;;   (send-url (apply string-append doc-url sub
     ;;                    (append (part "#" fragment) (part "?" query)))))
 
   Un-comment the code (from the `define' line and on, by removing the
   smicolons in the beginning), and change the value in the `doc-url'
   definition to:
 
     (define doc-url "http://foo.bar/plt/doc/")
 
   substituting the actual place where the documentation was put in the
   first step.
 
 * At this point, using the "help desk" menu item or `F1' will start
   the browser at this URL.  (Since everything will happen at this URL,
   it is better to have a copy of it at school -- to minimize traffic
   and make it fast enough to be convenient.)
 
 If all of this works, then this patched version of the "search.ss"
 file needs to be saved as the master copy, and thing should work fine.
 
 
 On Nov 11, Matthias Felleisen wrote:
 > 
 > Eli, this looks like something changed at Millard North. Can you work  
 > with Stephen to figure out what's blocking Help Desk? Thanks.
 > 
 > 
 > On Nov 11, 2008, at 7:21 PM, Stephen wrote:
 > 
 > > I'm at Millard North High School.  And with what Eli Barzilay
 > > talked about, I have tried entering the file path in IE however it
 > > says its restricted but I have gotten to helpdesk before on that
 > > computer, it just wont work anymore.
 > >
 > > -----Original Message-----
 > > From: Matthias Felleisen [mailto:matthias@ccs.neu.edu]
 > > Sent: Tuesday, November 11, 2008 10:41 AM
 > > To: eyetoy46@cox.net; bugs@plt-scheme.org
 > > Cc: nobody@plt-scheme.org; eli@plt-scheme.org; matthias@plt- 
 > > scheme.org;
 > > sk@plt-scheme.org; mflatt@plt-scheme.org; robby@plt-scheme.org;
 > > clements@plt-scheme.org; jay@plt-scheme.org; meunier@plt-scheme.org;
 > > kathyg@plt-scheme.org; jacobm@plt-scheme.org; cce@plt-scheme.org;
 > > samth@plt-scheme.org; ryanc@plt-scheme.org; gcooper@plt-scheme.org;
 > > sstrickl@plt-scheme.org
 > > Subject: Re: [plt-bug] all/9904: Helpdesk wont work
 > >
 > >
 > > At which college/university/school are you?
 > >
 > > (NU, for example, has a Windows setup that interferes in some way
 > > with Help Desk. Yours could suffer from a similar bug.)
 > >
 > >
 > >
 > >
 > > On Nov 11, 2008, at 11:16 AM, eyetoy46@cox.net wrote:
 > >
 > >> A new problem report is waiting at
 > >>   http://bugs.plt-scheme.org/query/?cmd=view&pr=9904
 > >>
 > >> Reported by Stephen for release: 4.1.2
 > >>
 > >> *** Description:
 > >> For me and others in my class, help desk will not work, when
 > >> clicking "Help > Help Desk" it will just sit there for a second
 > >> then not do anything
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!

Responsible changed from "nobody" to "eli" by eli at Mon, 16 Mar 2009 06:38:28 -0400
Reason>>> .

State changed from "open" to "closed" by eli at Mon, 16 Mar 2009 06:38:28 -0400
Reason>>> Looks like the softgrid issue

