From bugs+caf_=bugs=bugs.plt-scheme.org@plt-scheme.org Mon Jun  9 07:37:42 2014
Received: from mail-oa0-f50.google.com (mail-oa0-f50.google.com [209.85.219.50])
	by winooski.ccs.neu.edu (8.14.7/8.14.7) with ESMTP id s59BbWTx018016
	for <bugs@bugs.plt-scheme.org>; Mon, 9 Jun 2014 07:37:33 -0400
Message-Id: <201406091137.s59BbTpI018008@winooski.ccs.neu.edu>
Date: Mon, 9 Jun 2014 07:37:29 -0400
From: gustavo@oma.org.ar
To: bugs@racket-lang.org
Subject: mzcom =?UTF-8?B?ZG9lc27igJl0?= build with Visual Studio Express

>Number:         14555
>Category:       all
>Synopsis:       mzcom doesn’t build with Visual Studio Express
>Class:          sw-bug
>Responsible:    mflatt
>Severity:       non-critical
>Priority:       medium
>State:          closed
>Confidential:   no
>Arrival-Date:   Mon Jun 09 07:40:01 -0400 2014
>Closed-Date:    Mon Jun 09 09:00:03 -0400 2014
>Last-Modified:  Mon Jun 09 09:00:03 -0400 2014
>Originator:     Gustavo Massaccesi
>Organization:
plt
>Submitter-Id:   unknown
>Release:        6.0
>Environment:
windows "Windows NT 6.1 (Build 7601) Service Pack 1" (win32\i386\3m) (get-display-depth) = 32
Human Language: english
(current-memory-use) 133495912
Links: (links) = (); (links #:user? #f) = ("syntax" "contract-profile" "ds-store" "sgl" "racklog" "trace" "mrlib" "mysterx" "slatex" "icons" "shell-completion" "games" "make" "plai" "eopl" "lazy" "preprocessor" "algol60" "datalog" "mzcom" "swindle" "unstable" "schemeunit" "frtime" "realm" "profile"); (links #:root? #t) = (); (links #:user? #f #:root? #t) = (#<path:C:\Program Files\Racket\share\pkgs\racket-lib> #<path:C:\Program Files\Racket\share\pkgs\racket-win32-i386> #<path:C:\Program Files\Racket\share\pkgs\db-win32-i386> #<path:C:\Program Files\Racket\share\pkgs\com-win32-i386> #<path:C:\Program Files\Racket\share\pkgs\base> #<path:C:\Program Files\Racket\share\pkgs\main-distribution> #<path:C:\Program Files\Racket\share\pkgs\at-exp-lib> #<path:C:\Program Files\Racket\share\pkgs\compatibility> #<path:C:\Program Files\Racket\share\pkgs\compiler> #<path:C:\Program Files\Racket\share\pkgs\data> #<path:C:\Program Files\Racket\share\pkgs\db> #<path:C:\Program Files\Racket\sh!
 are\pkgs\deinprogramm> #<path:C:\Program Files\Racket\share\pkgs\draw> #<path:C:\Program Files\Racket\share\pkgs\draw-doc> #<path:C:\Program Files\Racket\share\pkgs\draw-lib> #<path:C:\Program Files\Racket\share\pkgs\drracket> #<path:C:\Program Files\Racket\share\pkgs\errortrace> #<path:C:\Program Files\Racket\share\pkgs\future-visualizer> #<path:C:\Program Files\Racket\share\pkgs\future-visualizer-typed> #<path:C:\Program Files\Racket\share\pkgs\gui> #<path:C:\Program Files\Racket\share\pkgs\htdp> #<path:C:\Program Files\Racket\share\pkgs\html> #<path:C:\Program Files\Racket\share\pkgs\images> #<path:C:\Program Files\Racket\share\pkgs\macro-debugger> #<path:C:\Program Files\Racket\share\pkgs\macro-debugger-text-lib> #<path:C:\Program Files\Racket\share\pkgs\math> #<path:C:\Program Files\Racket\share\pkgs\mzscheme> #<path:C:\Program Files\Racket\share\pkgs\net> #<path:C:\Program Files\Racket\share\pkgs\parser-tools> #<path:C:\Program Files\Racket\share\pkgs\pconvert-lib> #<!
 path:C:\Program Files\Racket\share\pkgs\pict> #<path:C:\Progra!
 m Files\Racket\share\pkgs\picturing-programs> #<path:C:\Program Files\Racket\share\pkgs\planet> #<path:C:\Program Files\Racket\share\pkgs\plot> #<path:C:\Program Files\Racket\share\pkgs\profile> #<path:C:\Program Files\Racket\share\pkgs\r5rs> #<path:C:\Program Files\Racket\share\pkgs\r6rs> #<path:C:\Program Files\Racket\share\pkgs\racket-doc> #<path:C:\Program Files\Racket\share\pkgs\distributed-places> #<path:C:\Program Files\Racket\share\pkgs\racket-index> #<path:C:\Program Files\Racket\share\pkgs\rackunit> #<path:C:\Program Files\Racket\share\pkgs\readline> #<path:C:\Program Files\Racket\share\pkgs\redex> #<path:C:\Program Files\Racket\share\pkgs\sandbox-lib> #<path:C:\Program Files\Racket\share\pkgs\scribble> #<path:C:\Program Files\Racket\share\pkgs\serialize-cstruct-lib> #<path:C:\Program Files\Racket\share\pkgs\slideshow> #<path:C:\Program Files\Racket\share\pkgs\snip> #<path:C:\Program Files\Racket\share\pkgs\srfi> #<path:C:\Program Files\Racket\share\pkgs\string-co!
 nstants> #<path:C:\Program Files\Racket\share\pkgs\syntax-color> #<path:C:\Program Files\Racket\share\pkgs\typed-racket> #<path:C:\Program Files\Racket\share\pkgs\typed-racket-more> #<path:C:\Program Files\Racket\share\pkgs\unstable> #<path:C:\Program Files\Racket\share\pkgs\unstable-contract-lib> #<path:C:\Program Files\Racket\share\pkgs\unstable-latent-contract-lib> #<path:C:\Program Files\Racket\share\pkgs\unstable-list-lib> #<path:C:\Program Files\Racket\share\pkgs\unstable-options-lib> #<path:C:\Program Files\Racket\share\pkgs\unstable-parameter-group-lib> #<path:C:\Program Files\Racket\share\pkgs\unstable-2d> #<path:C:\Program Files\Racket\share\pkgs\web-server> #<path:C:\Program Files\Racket\share\pkgs\wxme> #<path:C:\Program Files\Racket\share\pkgs\xrepl> #<path:C:\Program Files\Racket\share\pkgs\compatibility-lib> #<path:C:\Program Files\Racket\share\pkgs\drracket-plugin-lib> #<path:C:\Program Files\Racket\share\pkgs\errortrace-lib> #<path:C:\Program Files\Racket\s!
 hare\pkgs\gui-lib> #<path:C:\Program Files\Racket\share\pkgs\parser-too!
 ls-lib> #<path:C:\Program Files\Racket\share\pkgs\string-constants-lib> #<path:C:\Program Files\Racket\share\pkgs\rackunit-lib> #<path:C:\Program Files\Racket\share\pkgs\scribble-doc> #<path:C:\Program Files\Racket\share\pkgs\scribble-lib> #<path:C:\Program Files\Racket\share\pkgs\scheme-lib> #<path:C:\Program Files\Racket\share\pkgs\compatibility-doc> #<path:C:\Program Files\Racket\share\pkgs\math-lib> #<path:C:\Program Files\Racket\share\pkgs\compiler-lib> #<path:C:\Program Files\Racket\share\pkgs\data-lib> #<path:C:\Program Files\Racket\share\pkgs\data-doc> #<path:C:\Program Files\Racket\share\pkgs\db-lib> #<path:C:\Program Files\Racket\share\pkgs\db-doc> #<path:C:\Program Files\Racket\share\pkgs\srfi-lib> #<path:C:\Program Files\Racket\share\pkgs\wxme-lib> #<path:C:\Program Files\Racket\share\pkgs\gui-doc> #<path:C:\Program Files\Racket\share\pkgs\pict-doc> #<path:C:\Program Files\Racket\share\pkgs\pict-lib> #<path:C:\Program Files\Racket\share\pkgs\draw-win32-i386> #<p!
 ath:C:\Program Files\Racket\share\pkgs\planet-lib> #<path:C:\Program Files\Racket\share\pkgs\snip-lib> #<path:C:\Program Files\Racket\share\pkgs\typed-racket-lib> #<path:C:\Program Files\Racket\share\pkgs\html-lib> #<path:C:\Program Files\Racket\share\pkgs\images-lib> #<path:C:\Program Files\Racket\share\pkgs\net-lib> #<path:C:\Program Files\Racket\share\pkgs\srfi-doc> #<path:C:\Program Files\Racket\share\pkgs\gui-pkg-manager-lib> #<path:C:\Program Files\Racket\share\pkgs\mzscheme-doc> #<path:C:\Program Files\Racket\share\pkgs\net-doc> #<path:C:\Program Files\Racket\share\pkgs\planet-doc> #<path:C:\Program Files\Racket\share\pkgs\string-constants-doc> #<path:C:\Program Files\Racket\share\pkgs\errortrace-doc> #<path:C:\Program Files\Racket\share\pkgs\profile-doc> #<path:C:\Program Files\Racket\share\pkgs\r5rs-doc> #<path:C:\Program Files\Racket\share\pkgs\srfi-lite-lib> #<path:C:\Program Files\Racket\share\pkgs\htdp-lib> #<path:C:\Program Files\Racket\share\pkgs\htdp-doc> #<!
 path:C:\Program Files\Racket\share\pkgs\html-doc> #<path:C:\Program Fil!
 es\Racket\share\pkgs\images-gui-lib> #<path:C:\Program Files\Racket\share\pkgs\images-doc> #<path:C:\Program Files\Racket\share\pkgs\eli-tester> #<path:C:\Program Files\Racket\share\pkgs\cext-lib> #<path:C:\Program Files\Racket\share\pkgs\math-doc> #<path:C:\Program Files\Racket\share\pkgs\mzscheme-lib> #<path:C:\Program Files\Racket\share\pkgs\parser-tools-doc> #<path:C:\Program Files\Racket\share\pkgs\web-server-lib> #<path:C:\Program Files\Racket\share\pkgs\web-server-doc> #<path:C:\Program Files\Racket\share\pkgs\plot-lib> #<path:C:\Program Files\Racket\share\pkgs\plot-gui-lib> #<path:C:\Program Files\Racket\share\pkgs\plot-doc> #<path:C:\Program Files\Racket\share\pkgs\r5rs-lib> #<path:C:\Program Files\Racket\share\pkgs\r6rs-lib> #<path:C:\Program Files\Racket\share\pkgs\r6rs-doc> #<path:C:\Program Files\Racket\share\pkgs\rackunit-doc> #<path:C:\Program Files\Racket\share\pkgs\typed-racket-doc> #<path:C:\Program Files\Racket\share\pkgs\slideshow-doc> #<path:C:\Program !
 Files\Racket\share\pkgs\distributed-places-lib> #<path:C:\Program Files\Racket\share\pkgs\distributed-places-doc> #<path:C:\Program Files\Racket\share\pkgs\rackunit-gui> #<path:C:\Program Files\Racket\share\pkgs\rackunit-plugin-lib> #<path:C:\Program Files\Racket\share\pkgs\readline-lib> #<path:C:\Program Files\Racket\share\pkgs\readline-doc> #<path:C:\Program Files\Racket\share\pkgs\redex-doc> #<path:C:\Program Files\Racket\share\pkgs\redex-examples> #<path:C:\Program Files\Racket\share\pkgs\redex-lib> #<path:C:\Program Files\Racket\share\pkgs\redex-gui-lib> #<path:C:\Program Files\Racket\share\pkgs\slideshow-lib> #<path:C:\Program Files\Racket\share\pkgs\slideshow-exe> #<path:C:\Program Files\Racket\share\pkgs\slideshow-plugin> #<path:C:\Program Files\Racket\share\pkgs\syntax-color-lib> #<path:C:\Program Files\Racket\share\pkgs\syntax-color-doc> #<path:C:\Program Files\Racket\share\pkgs\unstable-flonum-lib> #<path:C:\Program Files\Racket\share\pkgs\xrepl-lib> #<path:C:\Pr!
 ogram Files\Racket\share\pkgs\xrepl-doc> #<path:C:\Program Files\Racket!
 \share\pkgs\gui-win32-i386> #<path:C:\Program Files\Racket\share\pkgs\scribble-text-lib> #<path:C:\Program Files\Racket\share\pkgs\math-win32-i386> #<path:C:\Program Files\Racket\share\pkgs\unstable-macro-testing-lib> #<path:C:\Program Files\Racket\share\pkgs\unstable-debug-lib> #<path:C:\Program Files\Racket\share\pkgs\unstable-pretty-lib> #<path:C:\Program Files\Racket\share\pkgs\plot-compat> #<path:C:\Program Files\Racket\share\pkgs\redex-pict-lib>)
raco pkg (show):
Installation-wide:
 Package              Checksum                                    Source
 main-distribution    3374a1a5514fd2924a0ede8bdb8598643edefb18    (catalog main-distribution)
 racket-lib           a252902ba8a8cf43065608682933909fca0fb87d    (catalog racket-lib)
 [178 auto-installed packages not shown]
User-specific for installation "6.0":
 [none]



Collections:
("C:\\Users\\User\\AppData\\Roaming\\Racket\\6.0\\collects"
 (non-existent-path))
("C:\\Program Files\\Racket\\collects"
 (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket" "raco" "reader" "realm" "s-exp" "setup" "syntax" "unstable" "version" "xml"))

Recent Internal Errors: 
Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t none) (default) #() "#lang racket\n" #t #t ((main) (test)) #t))
>Description:
Building mzcom with Visual Studio Express produces an error, because “winres.h” is missing. Apparently, winres.h is (a very small) part of the MFC.

This change “fixs” the problem, but it’s more a workaround than a real solution.
  
File: plt\racket\src\worksp\mzcom\mzcom.rc
Line 12:
-#include "winres.h"
+#define IDC_STATIC (-1)

See also Line 40:
???    "#include ""winres.h""\r\n"
(I don’t know what it does.)
>How-To-Repeat:

>Fix:
>Audit-Trail:
From: Matthew Flatt <mflatt@cs.utah.edu>
To: gustavo@oma.org.ar, bugs@racket-lang.org
Cc: nobody@racket-lang.org, bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/14555: mzcom =?UTF-8?B?ZG9lc27igJl0?= build with Visual Studio Express
Date: Mon, 9 Jun 2014 13:11:21 +0100

 I'm surprised that replacing "windres.h" with a definition IDC_STATIC
 is enough, since MzCOM v6.0 relies on ATL. The ATL dependency has been
 removed in v6.0.1.12 (the current development version), though, and so
 it should build with VS Express --- but I haven't yet tried it.
 
 At Mon, 9 Jun 2014 07:40:01 -0400, gustavo@oma.org.ar wrote:
 > A new problem report is waiting at
 >   http://bugs.racket-lang.org/query/?cmd=view&pr=14555
 > 
 > Reported by Gustavo Massaccesi for release: 6.0
 > 
 > *** Description:
 > Building mzcom with Visual Studio Express produces an error, because âwinres.hâ 
 > is missing. Apparently, winres.h is (a very small) part of the MFC.
 > 
 > This change âfixsâ the problem, but itâs more a workaround than a real solution.
 >   
 > File: plt\racket\src\worksp\mzcom\mzcom.rc
 > Line 12:
 > -#include "winres.h"
 > +#define IDC_STATIC (-1)
 > 
 > See also Line 40:
 > ???    "#include ""winres.h""\r\n"
 > (I donât know what it does.)
 > 
 > *** How to repeat:
 > 
 > 
 > *** Environment:
 > windows "Windows NT 6.1 (Build 7601) Service Pack 1" (win32\i386\3m) 
 > (get-display-depth) = 32
 > Human Language: english
 > (current-memory-use) 133495912
 > Links: (links) = (); (links #:user? #f) = ("syntax" "contract-profile" 
 > "ds-store" "sgl" "racklog" "trace" "mrlib" "mysterx" "slatex" "icons" 
 > "shell-completion" "games" "make" "plai" "eopl" "lazy" "preprocessor" "algol60" 
 > "datalog" "mzcom" "swindle" "unstable" "schemeunit" "frtime" "realm" 
 > "profile"); (links #:root? #t) = (); (links #:user? #f #:root? #t) = 
 > (#<path:C:\Program Files\Racket\share\pkgs\racket-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\racket-win32-i386> #<path:C:\Program 
 > Files\Racket\share\pkgs\db-win32-i386> #<path:C:\Program 
 > Files\Racket\share\pkgs\com-win32-i386> #<path:C:\Program 
 > Files\Racket\share\pkgs\base> #<path:C:\Program 
 > Files\Racket\share\pkgs\main-distribution> #<path:C:\Program 
 > Files\Racket\share\pkgs\at-exp-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\compatibility> #<path:C:\Program 
 > Files\Racket\share\pkgs\compiler> #<path:C:\Program 
 > Files\Racket\share\pkgs\data> #<path:C:\Program Files\Racket\share\pkgs\db> 
 > #<path:C:\Program Files\Racket\sh!
 >  are\pkgs\deinprogramm> #<path:C:\Program Files\Racket\share\pkgs\draw> 
 > #<path:C:\Program Files\Racket\share\pkgs\draw-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\draw-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\drracket> #<path:C:\Program 
 > Files\Racket\share\pkgs\errortrace> #<path:C:\Program 
 > Files\Racket\share\pkgs\future-visualizer> #<path:C:\Program 
 > Files\Racket\share\pkgs\future-visualizer-typed> #<path:C:\Program 
 > Files\Racket\share\pkgs\gui> #<path:C:\Program Files\Racket\share\pkgs\htdp> 
 > #<path:C:\Program Files\Racket\share\pkgs\html> #<path:C:\Program 
 > Files\Racket\share\pkgs\images> #<path:C:\Program 
 > Files\Racket\share\pkgs\macro-debugger> #<path:C:\Program 
 > Files\Racket\share\pkgs\macro-debugger-text-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\math> #<path:C:\Program 
 > Files\Racket\share\pkgs\mzscheme> #<path:C:\Program 
 > Files\Racket\share\pkgs\net> #<path:C:\Program 
 > Files\Racket\share\pkgs\parser-tools> #<path:C:\Program 
 > Files\Racket\share\pkgs\pconvert-lib> #<!
 >  path:C:\Program Files\Racket\share\pkgs\pict> #<path:C:\Progra!
 >  m Files\Racket\share\pkgs\picturing-programs> #<path:C:\Program 
 > Files\Racket\share\pkgs\planet> #<path:C:\Program Files\Racket\share\pkgs\plot> 
 > #<path:C:\Program Files\Racket\share\pkgs\profile> #<path:C:\Program 
 > Files\Racket\share\pkgs\r5rs> #<path:C:\Program Files\Racket\share\pkgs\r6rs> 
 > #<path:C:\Program Files\Racket\share\pkgs\racket-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\distributed-places> #<path:C:\Program 
 > Files\Racket\share\pkgs\racket-index> #<path:C:\Program 
 > Files\Racket\share\pkgs\rackunit> #<path:C:\Program 
 > Files\Racket\share\pkgs\readline> #<path:C:\Program 
 > Files\Racket\share\pkgs\redex> #<path:C:\Program 
 > Files\Racket\share\pkgs\sandbox-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\scribble> #<path:C:\Program 
 > Files\Racket\share\pkgs\serialize-cstruct-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\slideshow> #<path:C:\Program 
 > Files\Racket\share\pkgs\snip> #<path:C:\Program Files\Racket\share\pkgs\srfi> 
 > #<path:C:\Program Files\Racket\share\pkgs\string-co!
 >  nstants> #<path:C:\Program Files\Racket\share\pkgs\syntax-color> 
 > #<path:C:\Program Files\Racket\share\pkgs\typed-racket> #<path:C:\Program 
 > Files\Racket\share\pkgs\typed-racket-more> #<path:C:\Program 
 > Files\Racket\share\pkgs\unstable> #<path:C:\Program 
 > Files\Racket\share\pkgs\unstable-contract-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\unstable-latent-contract-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\unstable-list-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\unstable-options-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\unstable-parameter-group-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\unstable-2d> #<path:C:\Program 
 > Files\Racket\share\pkgs\web-server> #<path:C:\Program 
 > Files\Racket\share\pkgs\wxme> #<path:C:\Program Files\Racket\share\pkgs\xrepl> 
 > #<path:C:\Program Files\Racket\share\pkgs\compatibility-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\drracket-plugin-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\errortrace-lib> #<path:C:\Program Files\Racket\s!
 >  hare\pkgs\gui-lib> #<path:C:\Program Files\Racket\share\pkgs\parser-too!
 >  ls-lib> #<path:C:\Program Files\Racket\share\pkgs\string-constants-lib> 
 > #<path:C:\Program Files\Racket\share\pkgs\rackunit-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\scribble-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\scribble-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\scheme-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\compatibility-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\math-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\compiler-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\data-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\data-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\db-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\db-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\srfi-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\wxme-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\gui-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\pict-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\pict-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\draw-win32-i386> #<p!
 >  ath:C:\Program Files\Racket\share\pkgs\planet-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\snip-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\typed-racket-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\html-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\images-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\net-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\srfi-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\gui-pkg-manager-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\mzscheme-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\net-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\planet-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\string-constants-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\errortrace-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\profile-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\r5rs-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\srfi-lite-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\htdp-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\htdp-doc> #<!
 >  path:C:\Program Files\Racket\share\pkgs\html-doc> #<path:C:\Program Fil!
 >  es\Racket\share\pkgs\images-gui-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\images-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\eli-tester> #<path:C:\Program 
 > Files\Racket\share\pkgs\cext-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\math-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\mzscheme-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\parser-tools-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\web-server-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\web-server-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\plot-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\plot-gui-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\plot-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\r5rs-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\r6rs-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\r6rs-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\rackunit-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\typed-racket-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\slideshow-doc> #<path:C:\Program !
 >  Files\Racket\share\pkgs\distributed-places-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\distributed-places-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\rackunit-gui> #<path:C:\Program 
 > Files\Racket\share\pkgs\rackunit-plugin-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\readline-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\readline-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\redex-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\redex-examples> #<path:C:\Program 
 > Files\Racket\share\pkgs\redex-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\redex-gui-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\slideshow-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\slideshow-exe> #<path:C:\Program 
 > Files\Racket\share\pkgs\slideshow-plugin> #<path:C:\Program 
 > Files\Racket\share\pkgs\syntax-color-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\syntax-color-doc> #<path:C:\Program 
 > Files\Racket\share\pkgs\unstable-flonum-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\xrepl-lib> #<path:C:\Pr!
 >  ogram Files\Racket\share\pkgs\xrepl-doc> #<path:C:\Program Files\Racket!
 >  \share\pkgs\gui-win32-i386> #<path:C:\Program 
 > Files\Racket\share\pkgs\scribble-text-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\math-win32-i386> #<path:C:\Program 
 > Files\Racket\share\pkgs\unstable-macro-testing-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\unstable-debug-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\unstable-pretty-lib> #<path:C:\Program 
 > Files\Racket\share\pkgs\plot-compat> #<path:C:\Program 
 > Files\Racket\share\pkgs\redex-pict-lib>)
 > raco pkg (show):
 > Installation-wide:
 >  Package              Checksum                                    Source
 >  main-distribution    3374a1a5514fd2924a0ede8bdb8598643edefb18    (catalog 
 > main-distribution)
 >  racket-lib           a252902ba8a8cf43065608682933909fca0fb87d    (catalog 
 > racket-lib)
 >  [178 auto-installed packages not shown]
 > User-specific for installation "6.0":
 >  [none]
 > 
 > 
 > 
 > Collections:
 > ("C:\\Users\\User\\AppData\\Roaming\\Racket\\6.0\\collects"
 >  (non-existent-path))
 > ("C:\\Program Files\\Racket\\collects"
 >  (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" 
 > "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket" "raco" 
 > "reader" "realm" "s-exp" "setup" "syntax" "unstable" "version" "xml"))
 > 
 > Recent Internal Errors: 
 > Computer Language: (("Determine language from source") (#(#t print 
 > mixed-fraction-e #f #t none) (default) #() "#lang racket\n" #t #t ((main) 
 > (test)) #t))
 
From: Matthew Flatt <mflatt@cs.utah.edu>
To: gustavo@oma.org.ar
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/14555: mzcom =?UTF-8?B?ZG9lc27igJl0?= build with Visual Studio Express
Date: Mon, 9 Jun 2014 13:15:40 +0100

 Oh, sorry... You must be saying that v6.0.1.12 doesn't build with VS
 Express because it's still using "winres.h".
 
 I'll look into this, and thanks for the report!
 
 At Mon, 9 Jun 2014 13:11:21 +0100, Matthew Flatt wrote:
 > I'm surprised that replacing "windres.h" with a definition IDC_STATIC
 > is enough, since MzCOM v6.0 relies on ATL. The ATL dependency has been
 > removed in v6.0.1.12 (the current development version), though, and so
 > it should build with VS Express --- but I haven't yet tried it.
 > 
 > At Mon, 9 Jun 2014 07:40:01 -0400, gustavo@oma.org.ar wrote:
 > > A new problem report is waiting at
 > >   http://bugs.racket-lang.org/query/?cmd=view&pr=14555
 > > 
 > > Reported by Gustavo Massaccesi for release: 6.0
 > > 
 > > *** Description:
 > > Building mzcom with Visual Studio Express produces an error, because 
 > âwinres.hâ 
 > > is missing. Apparently, winres.h is (a very small) part of the MFC.
 > > 
 > > This change âfixsâ the problem, but itâs more a workaround than a real 
 > solution.
 > >   
 > > File: plt\racket\src\worksp\mzcom\mzcom.rc
 > > Line 12:
 > > -#include "winres.h"
 > > +#define IDC_STATIC (-1)
 > > 
 > > See also Line 40:
 > > ???    "#include ""winres.h""\r\n"
 > > (I donât know what it does.)
 > > 
 > > *** How to repeat:
 > > 
 > > 
 > > *** Environment:
 > > windows "Windows NT 6.1 (Build 7601) Service Pack 1" (win32\i386\3m) 
 > > (get-display-depth) = 32
 > > Human Language: english
 > > (current-memory-use) 133495912
 > > Links: (links) = (); (links #:user? #f) = ("syntax" "contract-profile" 
 > > "ds-store" "sgl" "racklog" "trace" "mrlib" "mysterx" "slatex" "icons" 
 > > "shell-completion" "games" "make" "plai" "eopl" "lazy" "preprocessor" 
 > "algol60" 
 > > "datalog" "mzcom" "swindle" "unstable" "schemeunit" "frtime" "realm" 
 > > "profile"); (links #:root? #t) = (); (links #:user? #f #:root? #t) = 
 > > (#<path:C:\Program Files\Racket\share\pkgs\racket-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\racket-win32-i386> #<path:C:\Program 
 > > Files\Racket\share\pkgs\db-win32-i386> #<path:C:\Program 
 > > Files\Racket\share\pkgs\com-win32-i386> #<path:C:\Program 
 > > Files\Racket\share\pkgs\base> #<path:C:\Program 
 > > Files\Racket\share\pkgs\main-distribution> #<path:C:\Program 
 > > Files\Racket\share\pkgs\at-exp-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\compatibility> #<path:C:\Program 
 > > Files\Racket\share\pkgs\compiler> #<path:C:\Program 
 > > Files\Racket\share\pkgs\data> #<path:C:\Program Files\Racket\share\pkgs\db> 
 > > #<path:C:\Program Files\Racket\sh!
 > >  are\pkgs\deinprogramm> #<path:C:\Program Files\Racket\share\pkgs\draw> 
 > > #<path:C:\Program Files\Racket\share\pkgs\draw-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\draw-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\drracket> #<path:C:\Program 
 > > Files\Racket\share\pkgs\errortrace> #<path:C:\Program 
 > > Files\Racket\share\pkgs\future-visualizer> #<path:C:\Program 
 > > Files\Racket\share\pkgs\future-visualizer-typed> #<path:C:\Program 
 > > Files\Racket\share\pkgs\gui> #<path:C:\Program Files\Racket\share\pkgs\htdp> 
 > > #<path:C:\Program Files\Racket\share\pkgs\html> #<path:C:\Program 
 > > Files\Racket\share\pkgs\images> #<path:C:\Program 
 > > Files\Racket\share\pkgs\macro-debugger> #<path:C:\Program 
 > > Files\Racket\share\pkgs\macro-debugger-text-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\math> #<path:C:\Program 
 > > Files\Racket\share\pkgs\mzscheme> #<path:C:\Program 
 > > Files\Racket\share\pkgs\net> #<path:C:\Program 
 > > Files\Racket\share\pkgs\parser-tools> #<path:C:\Program 
 > > Files\Racket\share\pkgs\pconvert-lib> #<!
 > >  path:C:\Program Files\Racket\share\pkgs\pict> #<path:C:\Progra!
 > >  m Files\Racket\share\pkgs\picturing-programs> #<path:C:\Program 
 > > Files\Racket\share\pkgs\planet> #<path:C:\Program 
 > Files\Racket\share\pkgs\plot> 
 > > #<path:C:\Program Files\Racket\share\pkgs\profile> #<path:C:\Program 
 > > Files\Racket\share\pkgs\r5rs> #<path:C:\Program Files\Racket\share\pkgs\r6rs> 
 > > #<path:C:\Program Files\Racket\share\pkgs\racket-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\distributed-places> #<path:C:\Program 
 > > Files\Racket\share\pkgs\racket-index> #<path:C:\Program 
 > > Files\Racket\share\pkgs\rackunit> #<path:C:\Program 
 > > Files\Racket\share\pkgs\readline> #<path:C:\Program 
 > > Files\Racket\share\pkgs\redex> #<path:C:\Program 
 > > Files\Racket\share\pkgs\sandbox-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\scribble> #<path:C:\Program 
 > > Files\Racket\share\pkgs\serialize-cstruct-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\slideshow> #<path:C:\Program 
 > > Files\Racket\share\pkgs\snip> #<path:C:\Program Files\Racket\share\pkgs\srfi> 
 > > #<path:C:\Program Files\Racket\share\pkgs\string-co!
 > >  nstants> #<path:C:\Program Files\Racket\share\pkgs\syntax-color> 
 > > #<path:C:\Program Files\Racket\share\pkgs\typed-racket> #<path:C:\Program 
 > > Files\Racket\share\pkgs\typed-racket-more> #<path:C:\Program 
 > > Files\Racket\share\pkgs\unstable> #<path:C:\Program 
 > > Files\Racket\share\pkgs\unstable-contract-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\unstable-latent-contract-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\unstable-list-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\unstable-options-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\unstable-parameter-group-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\unstable-2d> #<path:C:\Program 
 > > Files\Racket\share\pkgs\web-server> #<path:C:\Program 
 > > Files\Racket\share\pkgs\wxme> #<path:C:\Program 
 > Files\Racket\share\pkgs\xrepl> 
 > > #<path:C:\Program Files\Racket\share\pkgs\compatibility-lib> 
 > #<path:C:\Program 
 > > Files\Racket\share\pkgs\drracket-plugin-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\errortrace-lib> #<path:C:\Program Files\Racket\s!
 > >  hare\pkgs\gui-lib> #<path:C:\Program Files\Racket\share\pkgs\parser-too!
 > >  ls-lib> #<path:C:\Program Files\Racket\share\pkgs\string-constants-lib> 
 > > #<path:C:\Program Files\Racket\share\pkgs\rackunit-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\scribble-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\scribble-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\scheme-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\compatibility-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\math-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\compiler-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\data-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\data-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\db-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\db-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\srfi-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\wxme-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\gui-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\pict-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\pict-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\draw-win32-i386> #<p!
 > >  ath:C:\Program Files\Racket\share\pkgs\planet-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\snip-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\typed-racket-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\html-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\images-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\net-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\srfi-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\gui-pkg-manager-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\mzscheme-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\net-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\planet-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\string-constants-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\errortrace-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\profile-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\r5rs-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\srfi-lite-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\htdp-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\htdp-doc> #<!
 > >  path:C:\Program Files\Racket\share\pkgs\html-doc> #<path:C:\Program Fil!
 > >  es\Racket\share\pkgs\images-gui-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\images-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\eli-tester> #<path:C:\Program 
 > > Files\Racket\share\pkgs\cext-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\math-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\mzscheme-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\parser-tools-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\web-server-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\web-server-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\plot-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\plot-gui-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\plot-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\r5rs-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\r6rs-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\r6rs-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\rackunit-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\typed-racket-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\slideshow-doc> #<path:C:\Program !
 > >  Files\Racket\share\pkgs\distributed-places-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\distributed-places-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\rackunit-gui> #<path:C:\Program 
 > > Files\Racket\share\pkgs\rackunit-plugin-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\readline-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\readline-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\redex-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\redex-examples> #<path:C:\Program 
 > > Files\Racket\share\pkgs\redex-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\redex-gui-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\slideshow-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\slideshow-exe> #<path:C:\Program 
 > > Files\Racket\share\pkgs\slideshow-plugin> #<path:C:\Program 
 > > Files\Racket\share\pkgs\syntax-color-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\syntax-color-doc> #<path:C:\Program 
 > > Files\Racket\share\pkgs\unstable-flonum-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\xrepl-lib> #<path:C:\Pr!
 > >  ogram Files\Racket\share\pkgs\xrepl-doc> #<path:C:\Program Files\Racket!
 > >  \share\pkgs\gui-win32-i386> #<path:C:\Program 
 > > Files\Racket\share\pkgs\scribble-text-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\math-win32-i386> #<path:C:\Program 
 > > Files\Racket\share\pkgs\unstable-macro-testing-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\unstable-debug-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\unstable-pretty-lib> #<path:C:\Program 
 > > Files\Racket\share\pkgs\plot-compat> #<path:C:\Program 
 > > Files\Racket\share\pkgs\redex-pict-lib>)
 > > raco pkg (show):
 > > Installation-wide:
 > >  Package              Checksum                                    Source
 > >  main-distribution    3374a1a5514fd2924a0ede8bdb8598643edefb18    (catalog 
 > > main-distribution)
 > >  racket-lib           a252902ba8a8cf43065608682933909fca0fb87d    (catalog 
 > > racket-lib)
 > >  [178 auto-installed packages not shown]
 > > User-specific for installation "6.0":
 > >  [none]
 > > 
 > > 
 > > 
 > > Collections:
 > > ("C:\\Users\\User\\AppData\\Roaming\\Racket\\6.0\\collects"
 > >  (non-existent-path))
 > > ("C:\\Program Files\\Racket\\collects"
 > >  (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" 
 > > "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket" 
 > "raco" 
 > > "reader" "realm" "s-exp" "setup" "syntax" "unstable" "version" "xml"))
 > > 
 > > Recent Internal Errors: 
 > > Computer Language: (("Determine language from source") (#(#t print 
 > > mixed-fraction-e #f #t none) (default) #() "#lang racket\n" #t #t ((main) 
 > > (test)) #t))
 
Responsible changed from "nobody" to "mflatt" by mflatt@racket-lang.org at Mon, 09 Jun 2014 09:00:03 -0400
Reason>>> A commit by mflatt@racket-lang.org has resolved this report
  http://git.racket-lang.org/plt/commit/f90bf5e43b
State changed from "open" to "closed" by mflatt@racket-lang.org at Mon, 09 Jun 2014 09:00:03 -0400
Reason>>> A commit by mflatt@racket-lang.org has resolved this report
  http://git.racket-lang.org/plt/commit/f90bf5e43b
  | win32: repair for VS Studio build
  | 
  | Thanks to Gustavo Massaccesi
  | 
  | Closes PR 14555

