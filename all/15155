From bugs+caf_=bugs=bugs.plt-scheme.org@plt-scheme.org Wed Sep 16 09:32:15 2015
Received: from mail-io0-f171.google.com (mail-io0-f171.google.com [209.85.223.171])
	by winooski.ccs.neu.edu (8.14.7/8.14.7) with ESMTP id t8GDW4Pn022737
	for <bugs@bugs.plt-scheme.org>; Wed, 16 Sep 2015 09:32:04 -0400
Message-Id: <201509161332.t8GDW069022711@winooski.ccs.neu.edu>
Date: Wed, 16 Sep 2015 09:32:00 -0400
From: dpavlov@ipa.nw.ru
To: bugs@racket-lang.org
Subject: DrRacket's Search in Files + Show Replace does not work

>Number:         15155
>Category:       all
>Synopsis:       DrRacket's Search in Files + Show Replace does not work
>Class:          sw-bug
>Responsible:    nobody
>Severity:       non-critical
>Priority:       medium
>State:          closed
>Confidential:   no
>Arrival-Date:   Wed Sep 16 09:36:01 -0400 2015
>Closed-Date:    Wed Sep 16 11:48:04 -0400 2015
>Last-Modified:  Wed Sep 16 11:48:04 -0400 2015
>Originator:     Dmitry Pavlov
>Organization:
plt
>Submitter-Id:   unknown
>Release:        6.2.0.3--2015-01-12(486debd/a)
>Environment:
unix "Linux dp 3.2.0-4-amd64 #1 SMP Debian 3.2.68-1+deb7u3 x86_64 GNU/Linux" (x86_64-linux/3m) (get-display-depth) = 32
Human Language: english
(current-memory-use) 392299268
raco pkg (show):
Installation-wide:
 Package                 Checksum     Source
 games                   fb4ec6f1...  catalog games
 main-distribution       97177977...  catalog main-distribution
 main-distribution-test  bda18d3f...  catalog main-distribution-test
 optimization-coach      1ca9a63e...  catalog optimization-coach
 racket-lib              7fbd782c...  catalog racket-lib
 [215 auto-installed packages not shown]
User-specific for installation "snapshot":
 Package             Checksum             Source
 spreadsheet-editor  20862a0c...          catalog...et-editor
 table-panel         45fcf335...          catalog...ble-panel



Collections:
("/home/dpavlov/.racket/snapshot/collects"
 (non-existent-path))
("/opt/racket/collects"
 (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket" "raco" "reader" "realm" "s-exp" "setup" "syntax" "unstable" "version" "xml"))

Recent Internal Errors: Saved 5 internal errors:

send: no such method
  method name: set-search-anchor
  class name: ...k/private/racket.rkt:1411:2
  context...:
   /opt/racket/collects/racket/private/class-internal.rkt:4600:0: obj-error35
   /opt/racket/share/pkgs/gui-lib/framework/private/frame.rkt:2009:4: on-focus method in find-text%
   /opt/racket/share/pkgs/gui-lib/mred/private/wxme/editor-canvas.rkt:349:2: on-focus method in editor-canvas%
   /opt/racket/collects/racket/private/more-scheme.rkt:147:2: call-with-break-parameterization
   /opt/racket/collects/racket/private/more-scheme.rkt:264:2: call-with-exception-handler
   /opt/racket/collects/racket/private/more-scheme.rkt:147:2: call-with-break-parameterization
   /opt/racket/collects/racket/private/more-scheme.rkt:264:2: call-with-exception-handler


send: no such method
  method name: set-search-anchor
  class name: ...k/private/racket.rkt:1411:2
  context...:
   /opt/racket/collects/racket/private/class-internal.rkt:4600:0: obj-error35
   /opt/racket/share/pkgs/gui-lib/framework/private/frame.rkt:2009:4: on-focus method in find-text%
   /opt/racket/share/pkgs/gui-lib/mred/private/wxme/editor-canvas.rkt:349:2: on-focus method in editor-canvas%
   /opt/racket/collects/racket/private/more-scheme.rkt:147:2: call-with-break-parameterization
   /opt/racket/collects/racket/private/more-scheme.rkt:264:2: call-with-exception-handler
   /opt/racket/collects/racket/private/more-scheme.rkt:147:2: call-with-break-parameterization
   /opt/racket/collects/racket/private/more-scheme.rkt:264:2: call-with-exception-handler


send: no such method
  method name: set-search-anchor
  class name: ...k/private/racket.rkt:1411:2
  context...:
   /opt/racket/collects/racket/private/class-internal.rkt:4600:0: obj-error35
   /opt/racket/share/pkgs/gui-lib/framework/private/frame.rkt:2009:4: on-focus method in find-text%
   /opt/racket/share/pkgs/gui-lib/mred/private/wxme/editor-canvas.rkt:349:2: on-focus method in editor-canvas%
   /opt/racket/collects/racket/private/more-scheme.rkt:147:2: call-with-break-parameterization
   /opt/racket/collects/racket/private/more-scheme.rkt:264:2: call-with-exception-handler
   /opt/racket/collects/racket/private/more-scheme.rkt:147:2: call-with-break-parameterization
   /opt/racket/collects/racket/private/more-scheme.rkt:264:2: call-with-exception-handler


send: no such method
  method name: set-search-anchor
  class name: ...k/private/racket.rkt:1411:2
  context...:
   /opt/racket/collects/racket/private/class-internal.rkt:4600:0: obj-error35
   /opt/racket/share/pkgs/gui-lib/framework/private/frame.rkt:2009:4: on-focus method in find-text%
   /opt/racket/share/pkgs/gui-lib/mred/private/wxme/editor-canvas.rkt:349:2: on-focus method in editor-canvas%
   /opt/racket/collects/racket/private/more-scheme.rkt:147:2: call-with-break-parameterization
   /opt/racket/collects/racket/private/more-scheme.rkt:264:2: call-with-exception-handler
   /opt/racket/collects/racket/private/more-scheme.rkt:147:2: call-with-break-parameterization
   /opt/racket/collects/racket/private/more-scheme.rkt:264:2: call-with-exception-handler


send: no such method
  method name: set-search-anchor
  class name: ...k/private/racket.rkt:1411:2
  context...:
   /opt/racket/collects/racket/private/class-internal.rkt:4600:0: obj-error35
   /opt/racket/share/pkgs/gui-lib/framework/private/frame.rkt:2009:4: on-focus method in find-text%
   /opt/racket/share/pkgs/gui-lib/mred/private/wxme/editor-canvas.rkt:349:2: on-focus method in editor-canvas%
   /opt/racket/collects/racket/private/more-scheme.rkt:147:2: call-with-break-parameterization
   /opt/racket/collects/racket/private/more-scheme.rkt:264:2: call-with-exception-handler
   /opt/racket/collects/racket/private/more-scheme.rkt:147:2: call-with-break-parameterization
   /opt/racket/collects/racket/private/more-scheme.rkt:264:2: call-with-exception-handler

Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default) #() "#lang racket\n" #t #t ((test) (main)) #t))
>Description:
I wonder if replacing in multiple files is supposed to work.
When I try it, I get the error message:

send: no such method
  method name: set-searching-state
  class name: ...k/private/racket.rkt:1411:2
  context...:
   /opt/racket/collects/racket/private/class-internal.rkt:4600:0: obj-error35
   /opt/racket/share/pkgs/gui-lib/framework/private/frame.rkt:2379:4: search-parameters-changed method in ...rk/private/frame.rkt:2274:2
   /opt/racket/share/pkgs/gui-lib/framework/private/frame.rkt:2404:4: core9786
   /opt/racket/share/pkgs/gui-lib/framework/private/frame.rkt:2302:4: edit-menu:show/hide-replace-callback method in ...rk/private/frame.rkt:2274:2
   /opt/racket/share/pkgs/gui-lib/mred/private/mrmenu.rkt:250:14: command method in basic-selectable-menu-item%
   /opt/racket/collects/racket/private/more-scheme.rkt:147:2: call-with-break-parameterization
   /opt/racket/collects/racket/private/more-scheme.rkt:264:2: call-with-exception-handler
   /opt/racket/share/pkgs/gui-lib/mred/private/wx/common/queue.rkt:454:6
   /opt/racket/share/pkgs/gui-lib/mred/private/wx/common/queue.rkt:505:32
   /opt/racket/share/pkgs/gui-lib/mred/private/wx/common/queue.rkt:653:3
>How-To-Repeat:
File -> Search in Files -> enter some string to search -> OK -> Edit->Show Replace
not sure if it should actually replace the found string, but the error window is still bad
>Fix:
>Audit-Trail:
State changed from "open" to "closed" by robby at Wed, 16 Sep 2015 11:48:04 -0400
Reason>>> 
fixed with

https://github.com/racket/drracket/commit/de3f1b5e9666f00567a35fb
0a1772b9504af2a27

