From bugs+caf_=bugs=bugs.plt-scheme.org@plt-scheme.org Mon Sep 12 15:59:14 2016
Received: from mail-it0-f52.google.com (mail-it0-f52.google.com [209.85.214.52])
	by winooski.ccs.neu.edu (8.14.7/8.14.7) with ESMTP id u8CJxA7X022352
	for <bugs@bugs.plt-scheme.org>; Mon, 12 Sep 2016 15:59:10 -0400
Message-Id: <201609121959.u8CJx8Jr022345@winooski.ccs.neu.edu>
Date: Mon, 12 Sep 2016 15:59:08 -0400
From: schuster@ccs.neu.edu
To: bugs@racket-lang.org
Subject: Disabling Test Engine results in weird error when running BSL programs

>Number:         15349
>Category:       all
>Synopsis:       Disabling Test Engine results in weird error when running BSL programs
>Class:          sw-bug
>Responsible:    nobody
>Severity:       non-critical
>Priority:       medium
>State:          open
>Confidential:   no
>Arrival-Date:   Mon Sep 12 16:00:01 -0400 2016
>Last-Modified:  Tue Sep 13 08:28:01 -0400 2016
>Originator:     Jonathan Schuster
>Organization:
plt
>Submitter-Id:   unknown
>Release:        6.6
>Environment:
macosx "Darwin zephyr.local 15.6.0 Darwin Kernel Version 15.6.0: Mon Aug 29 20:21:34 PDT 2016; root:xnu-3248.60.11~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
Human Language: english
(current-memory-use) 242762656
raco pkg (show):
Installation-wide:
 Package            Checksum             Source
 main-distribution  e24e5af07557ac0f...  catalog...tribution
 racket-lib         21b7fee99c95a8d7...  catalog racket-lib
 [189 auto-installed packages not shown]
User-specific for installation "6.6":
 Package       Checksum               Source
 asyncunit                            link...ects/asyncunit
 bitsyntax                            link...cket-bitsyntax
 csa                                  link...u/projects/csa
 erlcore                              link...ojects/erlcore
 gregor        0d7c40c8d6ce616541...  catalog...path=gregor
 irc                                  link...cts/racket-irc
 lightspeed                           link...cts/lightspeed
 nanopass      72c071fda7841d3aa4...  catalog...work-racket
 pfds          d4a8809b4d621dc367...  catalog...pfds/master
 ppict         c6f6b66af8c88cdf02...  catalog...epper/ppict
 rsvg          da8eef09d52ac2236a...  catalog...rsvg/master
 sl2014        4ffef910ae5109eef9...  catalog...isen/sl2014
 staged-slide  28b9389ea83984306d...  catalog...taged-slide
 vcard                                link...s/racket-vcard
 [10 auto-installed packages not shown]



Collections:
("/Users/schu/Library/Racket/6.6/collects"
 (non-existent-path))
("/Applications/Racket v6.6/collects"
 ("acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket" "raco" "reader" "realm" "s-exp" "setup" "syntax" "version" "xml"))

Recent Internal Errors: Saved 1 internal error:

preferences:get: tried to get a preference but no default set for 'test-engine:enable?
  context...:
   /Applications/Racket v6.6/share/pkgs/gui-lib/framework/preferences.rkt:82:0: preferences:get
   /Applications/Racket v6.6/collects/racket/contract/private/arrow-val-first.rkt:357:18
   /Applications/Racket v6.6/share/pkgs/htdp-lib/lang/htdp-langs.rkt:141:10: on-execute method in .../lang/htdp-langs.rkt:77:8
   /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/language.rkt:695:6: on-execute method in ...private/language.rkt:675:4
   /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/rep.rkt:1266:6: init-evaluation-thread method in ...cket/private/rep.rkt:432:4
   /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/rep.rkt:1683:6: reset-console method in ...cket/private/rep.rkt:432:4
   /Applications/Racket v6.6/share/pkgs/drracket/gui-debugger/debug-tool.rkt:746:8: reset-console method in ...ugger/debug-tool.rkt:603:6
   /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/rep.rkt:1754:6: initialize-console method in ...cket/private/rep.rkt:432:4
   /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/unit.rkt:5493:2: create-new-drscheme-frame
   /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/main.rkt:801:0: make-basic
   /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/main.rkt:839:1
   /Applications/Racket v6.6/share/pkgs/gui-lib/mred/private/wx/common/queue.rkt:454:6
   /Applications/Racket v6.6/share/pkgs/gui-lib/mred/private/wx/common/queue.rkt:505:32
   /Applications/Racket v6.6/share/pkgs/gui-lib/mred/private/wx/common/queue.rkt:653:3

Computer Language: (("Teaching Languages" "How to Design Programs" "Beginning Student") (#(#t constructor repeating-decimal #f #t none) #f () #f))
>Description:
I had disabled many of the tools in DrRacket to speed up the startup time, but in the process I uncovered a bug. If you disable Test Engine and try to run a BSL program (even an empty buffer), it results in the following obscure error:

preferences:get: tried to get a preference but no default set for 'test-engine:enable?
  context...:
   /Applications/Racket v6.6/share/pkgs/gui-lib/framework/preferences.rkt:82:0: preferences:get
   /Applications/Racket v6.6/collects/racket/contract/private/arrow-val-first.rkt:357:18
   /Applications/Racket v6.6/share/pkgs/htdp-lib/lang/htdp-langs.rkt:141:10: on-execute method in .../lang/htdp-langs.rkt:77:8
   /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/language.rkt:695:6: on-execute method in ...private/language.rkt:675:4
   /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/rep.rkt:1266:6: init-evaluation-thread method in ...cket/private/rep.rkt:432:4
   /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/rep.rkt:1683:6: reset-console method in ...cket/private/rep.rkt:432:4
   /Applications/Racket v6.6/share/pkgs/drracket/gui-debugger/debug-tool.rkt:746:8: reset-console method in ...ugger/debug-tool.rkt:603:6
   /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/rep.rkt:1754:6: initialize-console method in ...cket/private/rep.rkt:432:4
   /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/unit.rkt:5493:2: create-new-drscheme-frame
   /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/main.rkt:801:0: make-basic
   /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/main.rkt:839:1
   /Applications/Racket v6.6/share/pkgs/gui-lib/mred/private/wx/common/queue.rkt:454:6
   /Applications/Racket v6.6/share/pkgs/gui-lib/mred/private/wx/common/queue.rkt:505:32
   /Applications/Racket v6.6/share/pkgs/gui-lib/mred/private/wx/common/queue.rkt:653:3

There should instead probably be some sort of warning, either when disabling Test Engine or when running a BSL program, that Test Engine must be loaded to run BSL programs. The latter is probably easier to implelment; the former would require adding some notion of tool dependencies to tools.
>How-To-Repeat:
See description above.
>Fix:
>Audit-Trail:
From: Robby Findler <robby@eecs.northwestern.edu>
To: "schuster@ccs.neu.edu" <schuster@ccs.neu.edu>,
        "bugs@racket-lang.org" <bugs@racket-lang.org>
Cc: "nobody@racket-lang.org" <nobody@racket-lang.org>,
        "bug-notification@racket-lang.org" <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/15349: Disabling Test Engine results in weird
 error when running BSL programs
Date: Mon, 12 Sep 2016 19:30:25 -0500

 --001a113d18f82fc41a053c58b86f
 Content-Type: text/plain; charset=UTF-8
 
 I think you need to disable the teaching languages tools too then. Or
 enable test engine.
 
 Robby
 
 On Monday, September 12, 2016, <schuster@ccs.neu.edu> wrote:
 
 > A new problem report is waiting at
 >   http://bugs.racket-lang.org/query/?cmd=view&pr=15349
 >
 > Reported by Jonathan Schuster for release: 6.6
 >
 > *** Description:
 > I had disabled many of the tools in DrRacket to speed up the startup time,
 > but in the process I uncovered a bug. If you disable Test Engine and try to
 > run a BSL program (even an empty buffer), it results in the following
 > obscure error:
 >
 > preferences:get: tried to get a preference but no default set for
 > 'test-engine:enable?
 >   context...:
 >    /Applications/Racket v6.6/share/pkgs/gui-lib/
 > framework/preferences.rkt:82:0: preferences:get
 >    /Applications/Racket v6.6/collects/racket/contract/
 > private/arrow-val-first.rkt:357:18
 >    /Applications/Racket v6.6/share/pkgs/htdp-lib/lang/htdp-langs.rkt:141:10:
 > on-execute method in .../lang/htdp-langs.rkt:77:8
 >    /Applications/Racket v6.6/share/pkgs/drracket/
 > drracket/private/language.rkt:695:6: on-execute method in
 > ...private/language.rkt:675:4
 >    /Applications/Racket v6.6/share/pkgs/drracket/
 > drracket/private/rep.rkt:1266:6: init-evaluation-thread method in
 > ...cket/private/rep.rkt:432:4
 >    /Applications/Racket v6.6/share/pkgs/drracket/
 > drracket/private/rep.rkt:1683:6: reset-console method in
 > ...cket/private/rep.rkt:432:4
 >    /Applications/Racket v6.6/share/pkgs/drracket/gui-debugger/debug-tool.rkt:746:8:
 > reset-console method in ...ugger/debug-tool.rkt:603:6
 >    /Applications/Racket v6.6/share/pkgs/drracket/
 > drracket/private/rep.rkt:1754:6: initialize-console method in
 > ...cket/private/rep.rkt:432:4
 >    /Applications/Racket v6.6/share/pkgs/drracket/
 > drracket/private/unit.rkt:5493:2: create-new-drscheme-frame
 >    /Applications/Racket v6.6/share/pkgs/drracket/
 > drracket/private/main.rkt:801:0: make-basic
 >    /Applications/Racket v6.6/share/pkgs/drracket/
 > drracket/private/main.rkt:839:1
 >    /Applications/Racket v6.6/share/pkgs/gui-lib/mred/
 > private/wx/common/queue.rkt:454:6
 >    /Applications/Racket v6.6/share/pkgs/gui-lib/mred/
 > private/wx/common/queue.rkt:505:32
 >    /Applications/Racket v6.6/share/pkgs/gui-lib/mred/
 > private/wx/common/queue.rkt:653:3
 >
 > There should instead probably be some sort of warning, either when
 > disabling Test Engine or when running a BSL program, that Test Engine must
 > be loaded to run BSL programs. The latter is probably easier to implelment;
 > the former would require adding some notion of tool dependencies to tools.
 >
 > *** How to repeat:
 > See description above.
 >
 > *** Environment:
 > macosx "Darwin zephyr.local 15.6.0 Darwin Kernel Version 15.6.0: Mon Aug
 > 29 20:21:34 PDT 2016; root:xnu-3248.60.11~1/RELEASE_X86_64 x86_64"
 > (x86_64-macosx/3m) (get-display-depth) = 32
 > Human Language: english
 > (current-memory-use) 242762656
 > raco pkg (show):
 > Installation-wide:
 >  Package            Checksum             Source
 >  main-distribution  e24e5af07557ac0f...  catalog...tribution
 >  racket-lib         21b7fee99c95a8d7...  catalog racket-lib
 >  [189 auto-installed packages not shown]
 > User-specific for installation "6.6":
 >  Package       Checksum               Source
 >  asyncunit                            link...ects/asyncunit
 >  bitsyntax                            link...cket-bitsyntax
 >  csa                                  link...u/projects/csa
 >  erlcore                              link...ojects/erlcore
 >  gregor        0d7c40c8d6ce616541...  catalog...path=gregor
 >  irc                                  link...cts/racket-irc
 >  lightspeed                           link...cts/lightspeed
 >  nanopass      72c071fda7841d3aa4...  catalog...work-racket
 >  pfds          d4a8809b4d621dc367...  catalog...pfds/master
 >  ppict         c6f6b66af8c88cdf02...  catalog...epper/ppict
 >  rsvg          da8eef09d52ac2236a...  catalog...rsvg/master
 >  sl2014        4ffef910ae5109eef9...  catalog...isen/sl2014
 >  staged-slide  28b9389ea83984306d...  catalog...taged-slide
 >  vcard                                link...s/racket-vcard
 >  [10 auto-installed packages not shown]
 >
 >
 >
 > Collections:
 > ("/Users/schu/Library/Racket/6.6/collects"
 >  (non-existent-path))
 > ("/Applications/Racket v6.6/collects"
 >  ("acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" "info-domain"
 > "json" "launcher" "net" "openssl" "pkg" "planet" "racket" "raco" "reader"
 > "realm" "s-exp" "setup" "syntax" "version" "xml"))
 >
 > Recent Internal Errors: Saved 1 internal error:
 >
 > preferences:get: tried to get a preference but no default set for
 > 'test-engine:enable?
 >   context...:
 >    /Applications/Racket v6.6/share/pkgs/gui-lib/
 > framework/preferences.rkt:82:0: preferences:get
 >    /Applications/Racket v6.6/collects/racket/contract/
 > private/arrow-val-first.rkt:357:18
 >    /Applications/Racket v6.6/share/pkgs/htdp-lib/lang/htdp-langs.rkt:141:10:
 > on-execute method in .../lang/htdp-langs.rkt:77:8
 >    /Applications/Racket v6.6/share/pkgs/drracket/
 > drracket/private/language.rkt:695:6: on-execute method in
 > ...private/language.rkt:675:4
 >    /Applications/Racket v6.6/share/pkgs/drracket/
 > drracket/private/rep.rkt:1266:6: init-evaluation-thread method in
 > ...cket/private/rep.rkt:432:4
 >    /Applications/Racket v6.6/share/pkgs/drracket/
 > drracket/private/rep.rkt:1683:6: reset-console method in
 > ...cket/private/rep.rkt:432:4
 >    /Applications/Racket v6.6/share/pkgs/drracket/gui-debugger/debug-tool.rkt:746:8:
 > reset-console method in ...ugger/debug-tool.rkt:603:6
 >    /Applications/Racket v6.6/share/pkgs/drracket/
 > drracket/private/rep.rkt:1754:6: initialize-console method in
 > ...cket/private/rep.rkt:432:4
 >    /Applications/Racket v6.6/share/pkgs/drracket/
 > drracket/private/unit.rkt:5493:2: create-new-drscheme-frame
 >    /Applications/Racket v6.6/share/pkgs/drracket/
 > drracket/private/main.rkt:801:0: make-basic
 >    /Applications/Racket v6.6/share/pkgs/drracket/
 > drracket/private/main.rkt:839:1
 >    /Applications/Racket v6.6/share/pkgs/gui-lib/mred/
 > private/wx/common/queue.rkt:454:6
 >    /Applications/Racket v6.6/share/pkgs/gui-lib/mred/
 > private/wx/common/queue.rkt:505:32
 >    /Applications/Racket v6.6/share/pkgs/gui-lib/mred/
 > private/wx/common/queue.rkt:653:3
 >
 > Computer Language: (("Teaching Languages" "How to Design Programs"
 > "Beginning Student") (#(#t constructor repeating-decimal #f #t none) #f ()
 > #f))
 >
 >
 
 --001a113d18f82fc41a053c58b86f
 Content-Type: text/html; charset=UTF-8
 Content-Transfer-Encoding: quoted-printable
 
 I think you need to disable the teaching languages tools=C2=A0too then. Or =
 enable test engine.=C2=A0<span></span><div><br></div><div>Robby=C2=A0<br><b=
 r>On Monday, September 12, 2016,  &lt;<a href=3D"mailto:schuster@ccs.neu.ed=
 u">schuster@ccs.neu.edu</a>&gt; wrote:<br><blockquote class=3D"gmail_quote"=
  style=3D"margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">A =
 new problem report is waiting at<br>
 =C2=A0 <a href=3D"http://bugs.racket-lang.org/query/?cmd=3Dview&amp;pr=3D15=
 349" target=3D"_blank">http://bugs.racket-lang.org/<wbr>query/?cmd=3Dview&a=
 mp;pr=3D15349</a><br>
 <br>
 Reported by Jonathan Schuster for release: 6.6<br>
 <br>
 *** Description:<br>
 I had disabled many of the tools in DrRacket to speed up the startup time, =
 but in the process I uncovered a bug. If you disable Test Engine and try to=
  run a BSL program (even an empty buffer), it results in the following obsc=
 ure error:<br>
 <br>
 preferences:get: tried to get a preference but no default set for &#39;test=
 -engine:enable?<br>
 =C2=A0 context...:<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/gui-lib/<wbr>framework/pr=
 eferences.rkt:82:<wbr>0: preferences:get<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/collects/racket/contract/<wbr>privat=
 e/arrow-val-first.rkt:<wbr>357:18<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/htdp-lib/lang/<wbr>htdp-l=
 angs.rkt:141:10: on-execute method in .../lang/htdp-langs.rkt:77:8<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/<wbr>drracket/pr=
 ivate/language.rkt:<wbr>695:6: on-execute method in ...private/language.rkt=
 :675:4<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/<wbr>drracket/pr=
 ivate/rep.rkt:1266:<wbr>6: init-evaluation-thread method in ...cket/private=
 /rep.rkt:432:4<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/<wbr>drracket/pr=
 ivate/rep.rkt:1683:<wbr>6: reset-console method in ...cket/private/rep.rkt:=
 432:4<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/gui-<wbr>debugge=
 r/debug-tool.rkt:746:8: reset-console method in ...ugger/debug-tool.rkt:603=
 :6<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/<wbr>drracket/pr=
 ivate/rep.rkt:1754:<wbr>6: initialize-console method in ...cket/private/rep=
 .rkt:432:4<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/<wbr>drracket/pr=
 ivate/unit.rkt:<wbr>5493:2: create-new-drscheme-frame<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/<wbr>drracket/pr=
 ivate/main.rkt:801:<wbr>0: make-basic<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/<wbr>drracket/pr=
 ivate/main.rkt:839:<wbr>1<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/gui-lib/mred/<wbr>private=
 /wx/common/queue.rkt:<wbr>454:6<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/gui-lib/mred/<wbr>private=
 /wx/common/queue.rkt:<wbr>505:32<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/gui-lib/mred/<wbr>private=
 /wx/common/queue.rkt:<wbr>653:3<br>
 <br>
 There should instead probably be some sort of warning, either when disablin=
 g Test Engine or when running a BSL program, that Test Engine must be loade=
 d to run BSL programs. The latter is probably easier to implelment; the for=
 mer would require adding some notion of tool dependencies to tools.<br>
 <br>
 *** How to repeat:<br>
 See description above.<br>
 <br>
 *** Environment:<br>
 macosx &quot;Darwin zephyr.local 15.6.0 Darwin Kernel Version 15.6.0: Mon A=
 ug 29 20:21:34 PDT 2016; root:xnu-3248.60.11~1/RELEASE_<wbr>X86_64 x86_64&q=
 uot; (x86_64-macosx/3m) (get-display-depth) =3D 32<br>
 Human Language: english<br>
 (current-memory-use) 242762656<br>
 raco pkg (show):<br>
 Installation-wide:<br>
 =C2=A0Package=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Checksum=C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Source<br>
 =C2=A0main-distribution=C2=A0 e24e5af07557ac0f...=C2=A0 catalog...tribution=
 <br>
 =C2=A0racket-lib=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A021b7fee99c95a8d7...=C2=A0=
  catalog racket-lib<br>
 =C2=A0[189 auto-installed packages not shown]<br>
 User-specific for installation &quot;6.6&quot;:<br>
 =C2=A0Package=C2=A0 =C2=A0 =C2=A0 =C2=A0Checksum=C2=A0 =C2=A0 =C2=A0 =C2=A0=
  =C2=A0 =C2=A0 =C2=A0 =C2=A0Source<br>
 =C2=A0asyncunit=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 link...ects/asyncunit<br>
 =C2=A0bitsyntax=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 link...cket-bitsyntax<br>
 =C2=A0csa=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 link...u/projects/csa<=
 br>
 =C2=A0erlcore=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
  =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 link...ojects/erlcore<br>
 =C2=A0gregor=C2=A0 =C2=A0 =C2=A0 =C2=A0 0d7c40c8d6ce616541...=C2=A0 catalog=
 ...path=3Dgregor<br>
 =C2=A0irc=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 link...cts/racket-irc<=
 br>
 =C2=A0lightspeed=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0link...cts/lightspeed<br>
 =C2=A0nanopass=C2=A0 =C2=A0 =C2=A0 72c071fda7841d3aa4...=C2=A0 catalog...wo=
 rk-racket<br>
 =C2=A0pfds=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 d4a8809b4d621dc367...=C2=A0 ca=
 talog...pfds/master<br>
 =C2=A0ppict=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0c6f6b66af8c88cdf02...=C2=A0 ca=
 talog...epper/ppict<br>
 =C2=A0rsvg=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 da8eef09d52ac2236a...=C2=A0 ca=
 talog...rsvg/master<br>
 =C2=A0sl2014=C2=A0 =C2=A0 =C2=A0 =C2=A0 4ffef910ae5109eef9...=C2=A0 catalog=
 ...isen/sl2014<br>
 =C2=A0staged-slide=C2=A0 28b9389ea83984306d...=C2=A0 catalog...taged-slide<=
 br>
 =C2=A0vcard=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 link...s/racket-vcard<br>
 =C2=A0[10 auto-installed packages not shown]<br>
 <br>
 <br>
 <br>
 Collections:<br>
 (&quot;/Users/schu/Library/Racket/<wbr>6.6/collects&quot;<br>
 =C2=A0(non-existent-path))<br>
 (&quot;/Applications/Racket v6.6/collects&quot;<br>
 =C2=A0(&quot;acks&quot; &quot;compiler&quot; &quot;data&quot; &quot;db&quot=
 ; &quot;dynext&quot; &quot;ffi&quot; &quot;file&quot; &quot;info&quot; &quo=
 t;info-domain&quot; &quot;json&quot; &quot;launcher&quot; &quot;net&quot; &=
 quot;openssl&quot; &quot;pkg&quot; &quot;planet&quot; &quot;racket&quot; &q=
 uot;raco&quot; &quot;reader&quot; &quot;realm&quot; &quot;s-exp&quot; &quot=
 ;setup&quot; &quot;syntax&quot; &quot;version&quot; &quot;xml&quot;))<br>
 <br>
 Recent Internal Errors: Saved 1 internal error:<br>
 <br>
 preferences:get: tried to get a preference but no default set for &#39;test=
 -engine:enable?<br>
 =C2=A0 context...:<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/gui-lib/<wbr>framework/pr=
 eferences.rkt:82:<wbr>0: preferences:get<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/collects/racket/contract/<wbr>privat=
 e/arrow-val-first.rkt:<wbr>357:18<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/htdp-lib/lang/<wbr>htdp-l=
 angs.rkt:141:10: on-execute method in .../lang/htdp-langs.rkt:77:8<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/<wbr>drracket/pr=
 ivate/language.rkt:<wbr>695:6: on-execute method in ...private/language.rkt=
 :675:4<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/<wbr>drracket/pr=
 ivate/rep.rkt:1266:<wbr>6: init-evaluation-thread method in ...cket/private=
 /rep.rkt:432:4<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/<wbr>drracket/pr=
 ivate/rep.rkt:1683:<wbr>6: reset-console method in ...cket/private/rep.rkt:=
 432:4<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/gui-<wbr>debugge=
 r/debug-tool.rkt:746:8: reset-console method in ...ugger/debug-tool.rkt:603=
 :6<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/<wbr>drracket/pr=
 ivate/rep.rkt:1754:<wbr>6: initialize-console method in ...cket/private/rep=
 .rkt:432:4<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/<wbr>drracket/pr=
 ivate/unit.rkt:<wbr>5493:2: create-new-drscheme-frame<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/<wbr>drracket/pr=
 ivate/main.rkt:801:<wbr>0: make-basic<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/<wbr>drracket/pr=
 ivate/main.rkt:839:<wbr>1<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/gui-lib/mred/<wbr>private=
 /wx/common/queue.rkt:<wbr>454:6<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/gui-lib/mred/<wbr>private=
 /wx/common/queue.rkt:<wbr>505:32<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/gui-lib/mred/<wbr>private=
 /wx/common/queue.rkt:<wbr>653:3<br>
 <br>
 Computer Language: ((&quot;Teaching Languages&quot; &quot;How to Design Pro=
 grams&quot; &quot;Beginning Student&quot;) (#(#t constructor repeating-deci=
 mal #f #t none) #f () #f))<br>
 <br>
 </blockquote></div>
 
 --001a113d18f82fc41a053c58b86f--
From: Jonathan Schuster <schuster@ccs.neu.edu>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: "bugs@racket-lang.org" <bugs@racket-lang.org>,
        "nobody@racket-lang.org" <nobody@racket-lang.org>,
        "bug-notification@racket-lang.org" <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/15349: Disabling Test Engine results in weird
 error when running BSL programs
Date: Tue, 13 Sep 2016 08:26:03 -0400

 --94eb2c0949e6b2166b053c62b986
 Content-Type: text/plain; charset=UTF-8
 
 I agree that that's the immediate fix for me. I'm just saying we might want
 a friendlier error message for this situation (but admittedly, it's a very
 low priority issue).
 
 On Mon, Sep 12, 2016 at 8:30 PM, Robby Findler <robby@eecs.northwestern.edu>
 wrote:
 
 > I think you need to disable the teaching languages tools too then. Or
 > enable test engine.
 >
 > Robby
 >
 > On Monday, September 12, 2016, <schuster@ccs.neu.edu> wrote:
 >
 >> A new problem report is waiting at
 >>   http://bugs.racket-lang.org/query/?cmd=view&pr=15349
 >>
 >> Reported by Jonathan Schuster for release: 6.6
 >>
 >> *** Description:
 >> I had disabled many of the tools in DrRacket to speed up the startup
 >> time, but in the process I uncovered a bug. If you disable Test Engine and
 >> try to run a BSL program (even an empty buffer), it results in the
 >> following obscure error:
 >>
 >> preferences:get: tried to get a preference but no default set for
 >> 'test-engine:enable?
 >>   context...:
 >>    /Applications/Racket v6.6/share/pkgs/gui-lib/framework/preferences.rkt:82:0:
 >> preferences:get
 >>    /Applications/Racket v6.6/collects/racket/contract/
 >> private/arrow-val-first.rkt:357:18
 >>    /Applications/Racket v6.6/share/pkgs/htdp-lib/lang/htdp-langs.rkt:141:10:
 >> on-execute method in .../lang/htdp-langs.rkt:77:8
 >>    /Applications/Racket v6.6/share/pkgs/drracket/drrac
 >> ket/private/language.rkt:695:6: on-execute method in
 >> ...private/language.rkt:675:4
 >>    /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/rep.rkt:1266:6:
 >> init-evaluation-thread method in ...cket/private/rep.rkt:432:4
 >>    /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/rep.rkt:1683:6:
 >> reset-console method in ...cket/private/rep.rkt:432:4
 >>    /Applications/Racket v6.6/share/pkgs/drracket/gui-debugger/debug-tool.rkt:746:8:
 >> reset-console method in ...ugger/debug-tool.rkt:603:6
 >>    /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/rep.rkt:1754:6:
 >> initialize-console method in ...cket/private/rep.rkt:432:4
 >>    /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/unit.rkt:5493:2:
 >> create-new-drscheme-frame
 >>    /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/main.rkt:801:0:
 >> make-basic
 >>    /Applications/Racket v6.6/share/pkgs/drracket/drrac
 >> ket/private/main.rkt:839:1
 >>    /Applications/Racket v6.6/share/pkgs/gui-lib/mred/p
 >> rivate/wx/common/queue.rkt:454:6
 >>    /Applications/Racket v6.6/share/pkgs/gui-lib/mred/p
 >> rivate/wx/common/queue.rkt:505:32
 >>    /Applications/Racket v6.6/share/pkgs/gui-lib/mred/p
 >> rivate/wx/common/queue.rkt:653:3
 >>
 >> There should instead probably be some sort of warning, either when
 >> disabling Test Engine or when running a BSL program, that Test Engine must
 >> be loaded to run BSL programs. The latter is probably easier to implelment;
 >> the former would require adding some notion of tool dependencies to tools.
 >>
 >> *** How to repeat:
 >> See description above.
 >>
 >> *** Environment:
 >> macosx "Darwin zephyr.local 15.6.0 Darwin Kernel Version 15.6.0: Mon Aug
 >> 29 20:21:34 PDT 2016; root:xnu-3248.60.11~1/RELEASE_X86_64 x86_64"
 >> (x86_64-macosx/3m) (get-display-depth) = 32
 >> Human Language: english
 >> (current-memory-use) 242762656
 >> raco pkg (show):
 >> Installation-wide:
 >>  Package            Checksum             Source
 >>  main-distribution  e24e5af07557ac0f...  catalog...tribution
 >>  racket-lib         21b7fee99c95a8d7...  catalog racket-lib
 >>  [189 auto-installed packages not shown]
 >> User-specific for installation "6.6":
 >>  Package       Checksum               Source
 >>  asyncunit                            link...ects/asyncunit
 >>  bitsyntax                            link...cket-bitsyntax
 >>  csa                                  link...u/projects/csa
 >>  erlcore                              link...ojects/erlcore
 >>  gregor        0d7c40c8d6ce616541...  catalog...path=gregor
 >>  irc                                  link...cts/racket-irc
 >>  lightspeed                           link...cts/lightspeed
 >>  nanopass      72c071fda7841d3aa4...  catalog...work-racket
 >>  pfds          d4a8809b4d621dc367...  catalog...pfds/master
 >>  ppict         c6f6b66af8c88cdf02...  catalog...epper/ppict
 >>  rsvg          da8eef09d52ac2236a...  catalog...rsvg/master
 >>  sl2014        4ffef910ae5109eef9...  catalog...isen/sl2014
 >>  staged-slide  28b9389ea83984306d...  catalog...taged-slide
 >>  vcard                                link...s/racket-vcard
 >>  [10 auto-installed packages not shown]
 >>
 >>
 >>
 >> Collections:
 >> ("/Users/schu/Library/Racket/6.6/collects"
 >>  (non-existent-path))
 >> ("/Applications/Racket v6.6/collects"
 >>  ("acks" "compiler" "data" "db" "dynext" "ffi" "file" "info"
 >> "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket"
 >> "raco" "reader" "realm" "s-exp" "setup" "syntax" "version" "xml"))
 >>
 >> Recent Internal Errors: Saved 1 internal error:
 >>
 >> preferences:get: tried to get a preference but no default set for
 >> 'test-engine:enable?
 >>   context...:
 >>    /Applications/Racket v6.6/share/pkgs/gui-lib/framework/preferences.rkt:82:0:
 >> preferences:get
 >>    /Applications/Racket v6.6/collects/racket/contract/
 >> private/arrow-val-first.rkt:357:18
 >>    /Applications/Racket v6.6/share/pkgs/htdp-lib/lang/htdp-langs.rkt:141:10:
 >> on-execute method in .../lang/htdp-langs.rkt:77:8
 >>    /Applications/Racket v6.6/share/pkgs/drracket/drrac
 >> ket/private/language.rkt:695:6: on-execute method in
 >> ...private/language.rkt:675:4
 >>    /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/rep.rkt:1266:6:
 >> init-evaluation-thread method in ...cket/private/rep.rkt:432:4
 >>    /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/rep.rkt:1683:6:
 >> reset-console method in ...cket/private/rep.rkt:432:4
 >>    /Applications/Racket v6.6/share/pkgs/drracket/gui-debugger/debug-tool.rkt:746:8:
 >> reset-console method in ...ugger/debug-tool.rkt:603:6
 >>    /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/rep.rkt:1754:6:
 >> initialize-console method in ...cket/private/rep.rkt:432:4
 >>    /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/unit.rkt:5493:2:
 >> create-new-drscheme-frame
 >>    /Applications/Racket v6.6/share/pkgs/drracket/drracket/private/main.rkt:801:0:
 >> make-basic
 >>    /Applications/Racket v6.6/share/pkgs/drracket/drrac
 >> ket/private/main.rkt:839:1
 >>    /Applications/Racket v6.6/share/pkgs/gui-lib/mred/p
 >> rivate/wx/common/queue.rkt:454:6
 >>    /Applications/Racket v6.6/share/pkgs/gui-lib/mred/p
 >> rivate/wx/common/queue.rkt:505:32
 >>    /Applications/Racket v6.6/share/pkgs/gui-lib/mred/p
 >> rivate/wx/common/queue.rkt:653:3
 >>
 >> Computer Language: (("Teaching Languages" "How to Design Programs"
 >> "Beginning Student") (#(#t constructor repeating-decimal #f #t none) #f ()
 >> #f))
 >>
 >>
 
 --94eb2c0949e6b2166b053c62b986
 Content-Type: text/html; charset=UTF-8
 Content-Transfer-Encoding: quoted-printable
 
 <div dir=3D"ltr">I agree that that&#39;s the immediate fix for me. I&#39;m =
 just saying we might want a friendlier error message for this situation (bu=
 t admittedly, it&#39;s a very low priority issue).<br></div><div class=3D"g=
 mail_extra"><br><div class=3D"gmail_quote">On Mon, Sep 12, 2016 at 8:30 PM,=
  Robby Findler <span dir=3D"ltr">&lt;<a href=3D"mailto:robby@eecs.northwest=
 ern.edu" target=3D"_blank">robby@eecs.northwestern.edu</a>&gt;</span> wrote=
 :<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-le=
 ft:1px #ccc solid;padding-left:1ex">I think you need to disable the teachin=
 g languages tools=C2=A0too then. Or enable test engine.=C2=A0<span></span><=
 div><br></div><div>Robby=C2=A0<br><br>On Monday, September 12, 2016,  &lt;<=
 a href=3D"mailto:schuster@ccs.neu.edu" target=3D"_blank">schuster@ccs.neu.e=
 du</a>&gt; wrote:<br><blockquote class=3D"gmail_quote" style=3D"margin:0 0 =
 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">A new problem report is=
  waiting at<br>
 =C2=A0 <a href=3D"http://bugs.racket-lang.org/query/?cmd=3Dview&amp;pr=3D15=
 349" target=3D"_blank">http://bugs.racket-lang.org/qu<wbr>ery/?cmd=3Dview&a=
 mp;pr=3D15349</a><br>
 <br>
 Reported by Jonathan Schuster for release: 6.6<br>
 <br>
 *** Description:<br>
 I had disabled many of the tools in DrRacket to speed up the startup time, =
 but in the process I uncovered a bug. If you disable Test Engine and try to=
  run a BSL program (even an empty buffer), it results in the following obsc=
 ure error:<br>
 <br>
 preferences:get: tried to get a preference but no default set for &#39;test=
 -engine:enable?<br>
 =C2=A0 context...:<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/gui-lib/framew<wbr>ork/pr=
 eferences.rkt:82:0: preferences:get<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/collects/racket/contract/<wbr>privat=
 e/arrow-val-first.rkt:35<wbr>7:18<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/htdp-lib/lang/<wbr>htdp-l=
 angs.rkt:141:10: on-execute method in .../lang/htdp-langs.rkt:77:8<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/drrac<wbr>ket/pr=
 ivate/language.rkt:695:<wbr>6: on-execute method in ...private/language.rkt=
 :675:4<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/drrac<wbr>ket/pr=
 ivate/rep.rkt:1266:6: init-evaluation-thread method in ...cket/private/rep.=
 rkt:432:4<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/drrac<wbr>ket/pr=
 ivate/rep.rkt:1683:6: reset-console method in ...cket/private/rep.rkt:432:4=
 <br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/gui-d<wbr>ebugge=
 r/debug-tool.rkt:746:8: reset-console method in ...ugger/debug-tool.rkt:603=
 :6<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/drrac<wbr>ket/pr=
 ivate/rep.rkt:1754:6: initialize-console method in ...cket/private/rep.rkt:=
 432:4<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/drrac<wbr>ket/pr=
 ivate/unit.rkt:5493:2: create-new-drscheme-frame<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/drrac<wbr>ket/pr=
 ivate/main.rkt:801:0: make-basic<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/drrac<wbr>ket/pr=
 ivate/main.rkt:839:1<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/gui-lib/mred/p<wbr>rivate=
 /wx/common/queue.rkt:454<wbr>:6<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/gui-lib/mred/p<wbr>rivate=
 /wx/common/queue.rkt:505<wbr>:32<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/gui-lib/mred/p<wbr>rivate=
 /wx/common/queue.rkt:653<wbr>:3<br>
 <br>
 There should instead probably be some sort of warning, either when disablin=
 g Test Engine or when running a BSL program, that Test Engine must be loade=
 d to run BSL programs. The latter is probably easier to implelment; the for=
 mer would require adding some notion of tool dependencies to tools.<br>
 <br>
 *** How to repeat:<br>
 See description above.<br>
 <br>
 *** Environment:<br>
 macosx &quot;Darwin zephyr.local 15.6.0 Darwin Kernel Version 15.6.0: Mon A=
 ug 29 20:21:34 PDT 2016; root:xnu-3248.60.11~1/RELEASE_<wbr>X86_64 x86_64&q=
 uot; (x86_64-macosx/3m) (get-display-depth) =3D 32<br>
 Human Language: english<br>
 (current-memory-use) 242762656<br>
 raco pkg (show):<br>
 Installation-wide:<br>
 =C2=A0Package=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Checksum=C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Source<br>
 =C2=A0main-distribution=C2=A0 e24e5af07557ac0f...=C2=A0 catalog...tribution=
 <br>
 =C2=A0racket-lib=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A021b7fee99c95a8d7...=C2=A0=
  catalog racket-lib<br>
 =C2=A0[189 auto-installed packages not shown]<br>
 User-specific for installation &quot;6.6&quot;:<br>
 =C2=A0Package=C2=A0 =C2=A0 =C2=A0 =C2=A0Checksum=C2=A0 =C2=A0 =C2=A0 =C2=A0=
  =C2=A0 =C2=A0 =C2=A0 =C2=A0Source<br>
 =C2=A0asyncunit=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 link...ects/asyncunit<br>
 =C2=A0bitsyntax=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 link...cket-bitsyntax<br>
 =C2=A0csa=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 link...u/projects/csa<=
 br>
 =C2=A0erlcore=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
  =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 link...ojects/erlcore<br>
 =C2=A0gregor=C2=A0 =C2=A0 =C2=A0 =C2=A0 0d7c40c8d6ce616541...=C2=A0 catalog=
 ...path=3Dgregor<br>
 =C2=A0irc=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 link...cts/racket-irc<=
 br>
 =C2=A0lightspeed=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0link...cts/lightspeed<br>
 =C2=A0nanopass=C2=A0 =C2=A0 =C2=A0 72c071fda7841d3aa4...=C2=A0 catalog...wo=
 rk-racket<br>
 =C2=A0pfds=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 d4a8809b4d621dc367...=C2=A0 ca=
 talog...pfds/master<br>
 =C2=A0ppict=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0c6f6b66af8c88cdf02...=C2=A0 ca=
 talog...epper/ppict<br>
 =C2=A0rsvg=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 da8eef09d52ac2236a...=C2=A0 ca=
 talog...rsvg/master<br>
 =C2=A0sl2014=C2=A0 =C2=A0 =C2=A0 =C2=A0 4ffef910ae5109eef9...=C2=A0 catalog=
 ...isen/sl2014<br>
 =C2=A0staged-slide=C2=A0 28b9389ea83984306d...=C2=A0 catalog...taged-slide<=
 br>
 =C2=A0vcard=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 link...s/racket-vcard<br>
 =C2=A0[10 auto-installed packages not shown]<br>
 <br>
 <br>
 <br>
 Collections:<br>
 (&quot;/Users/schu/Library/Racket/6<wbr>.6/collects&quot;<br>
 =C2=A0(non-existent-path))<br>
 (&quot;/Applications/Racket v6.6/collects&quot;<br>
 =C2=A0(&quot;acks&quot; &quot;compiler&quot; &quot;data&quot; &quot;db&quot=
 ; &quot;dynext&quot; &quot;ffi&quot; &quot;file&quot; &quot;info&quot; &quo=
 t;info-domain&quot; &quot;json&quot; &quot;launcher&quot; &quot;net&quot; &=
 quot;openssl&quot; &quot;pkg&quot; &quot;planet&quot; &quot;racket&quot; &q=
 uot;raco&quot; &quot;reader&quot; &quot;realm&quot; &quot;s-exp&quot; &quot=
 ;setup&quot; &quot;syntax&quot; &quot;version&quot; &quot;xml&quot;))<br>
 <br>
 Recent Internal Errors: Saved 1 internal error:<br>
 <br>
 preferences:get: tried to get a preference but no default set for &#39;test=
 -engine:enable?<br>
 =C2=A0 context...:<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/gui-lib/framew<wbr>ork/pr=
 eferences.rkt:82:0: preferences:get<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/collects/racket/contract/<wbr>privat=
 e/arrow-val-first.rkt:35<wbr>7:18<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/htdp-lib/lang/<wbr>htdp-l=
 angs.rkt:141:10: on-execute method in .../lang/htdp-langs.rkt:77:8<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/drrac<wbr>ket/pr=
 ivate/language.rkt:695:<wbr>6: on-execute method in ...private/language.rkt=
 :675:4<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/drrac<wbr>ket/pr=
 ivate/rep.rkt:1266:6: init-evaluation-thread method in ...cket/private/rep.=
 rkt:432:4<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/drrac<wbr>ket/pr=
 ivate/rep.rkt:1683:6: reset-console method in ...cket/private/rep.rkt:432:4=
 <br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/gui-d<wbr>ebugge=
 r/debug-tool.rkt:746:8: reset-console method in ...ugger/debug-tool.rkt:603=
 :6<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/drrac<wbr>ket/pr=
 ivate/rep.rkt:1754:6: initialize-console method in ...cket/private/rep.rkt:=
 432:4<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/drrac<wbr>ket/pr=
 ivate/unit.rkt:5493:2: create-new-drscheme-frame<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/drrac<wbr>ket/pr=
 ivate/main.rkt:801:0: make-basic<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/drracket/drrac<wbr>ket/pr=
 ivate/main.rkt:839:1<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/gui-lib/mred/p<wbr>rivate=
 /wx/common/queue.rkt:454<wbr>:6<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/gui-lib/mred/p<wbr>rivate=
 /wx/common/queue.rkt:505<wbr>:32<br>
 =C2=A0 =C2=A0/Applications/Racket v6.6/share/pkgs/gui-lib/mred/p<wbr>rivate=
 /wx/common/queue.rkt:653<wbr>:3<br>
 <br>
 Computer Language: ((&quot;Teaching Languages&quot; &quot;How to Design Pro=
 grams&quot; &quot;Beginning Student&quot;) (#(#t constructor repeating-deci=
 mal #f #t none) #f () #f))<br>
 <br>
 </blockquote></div>
 </blockquote></div><br></div>
 
 --94eb2c0949e6b2166b053c62b986--
From: Robby Findler <robby@eecs.northwestern.edu>
To: Jonathan Schuster <schuster@ccs.neu.edu>
Cc: "bugs@racket-lang.org" <bugs@racket-lang.org>,
        "nobody@racket-lang.org" <nobody@racket-lang.org>,
        "bug-notification@racket-lang.org" <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/15349: Disabling Test Engine results in weird
 error when running BSL programs
Date: Tue, 13 Sep 2016 07:29:15 -0500

 Those two tools are really not meant to be run separately and there
 are probably many situations where things will go wrong when certain
 combinations of tools are disabled (because they aren't meant to be
 independent).
 
 Maybe we could add declarations somewhere that would couple these two
 in the 'disable' dialog? Or maybe (since I think they are in the same
 pkg?) merge them into a single tool?
 
 Either way, pull requests welcome!
 
 Robby
 
 
 On Tue, Sep 13, 2016 at 7:26 AM, Jonathan Schuster <schuster@ccs.neu.edu> wrote:
 > I agree that that's the immediate fix for me. I'm just saying we might want
 > a friendlier error message for this situation (but admittedly, it's a very
 > low priority issue).
 >
 > On Mon, Sep 12, 2016 at 8:30 PM, Robby Findler <robby@eecs.northwestern.edu>
 > wrote:
 >>
 >> I think you need to disable the teaching languages tools too then. Or
 >> enable test engine.
 >>
 >> Robby
 >>
 >> On Monday, September 12, 2016, <schuster@ccs.neu.edu> wrote:
 >>>
 >>> A new problem report is waiting at
 >>>   http://bugs.racket-lang.org/query/?cmd=view&pr=15349
 >>>
 >>> Reported by Jonathan Schuster for release: 6.6
 >>>
 >>> *** Description:
 >>> I had disabled many of the tools in DrRacket to speed up the startup
 >>> time, but in the process I uncovered a bug. If you disable Test Engine and
 >>> try to run a BSL program (even an empty buffer), it results in the following
 >>> obscure error:
 >>>
 >>> preferences:get: tried to get a preference but no default set for
 >>> 'test-engine:enable?
 >>>   context...:
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/gui-lib/framework/preferences.rkt:82:0: preferences:get
 >>>    /Applications/Racket
 >>> v6.6/collects/racket/contract/private/arrow-val-first.rkt:357:18
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/htdp-lib/lang/htdp-langs.rkt:141:10: on-execute method in
 >>> .../lang/htdp-langs.rkt:77:8
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/drracket/drracket/private/language.rkt:695:6: on-execute
 >>> method in ...private/language.rkt:675:4
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/drracket/drracket/private/rep.rkt:1266:6:
 >>> init-evaluation-thread method in ...cket/private/rep.rkt:432:4
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/drracket/drracket/private/rep.rkt:1683:6: reset-console
 >>> method in ...cket/private/rep.rkt:432:4
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/drracket/gui-debugger/debug-tool.rkt:746:8: reset-console
 >>> method in ...ugger/debug-tool.rkt:603:6
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/drracket/drracket/private/rep.rkt:1754:6: initialize-console
 >>> method in ...cket/private/rep.rkt:432:4
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/drracket/drracket/private/unit.rkt:5493:2:
 >>> create-new-drscheme-frame
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/drracket/drracket/private/main.rkt:801:0: make-basic
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/drracket/drracket/private/main.rkt:839:1
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/gui-lib/mred/private/wx/common/queue.rkt:454:6
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/gui-lib/mred/private/wx/common/queue.rkt:505:32
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/gui-lib/mred/private/wx/common/queue.rkt:653:3
 >>>
 >>> There should instead probably be some sort of warning, either when
 >>> disabling Test Engine or when running a BSL program, that Test Engine must
 >>> be loaded to run BSL programs. The latter is probably easier to implelment;
 >>> the former would require adding some notion of tool dependencies to tools.
 >>>
 >>> *** How to repeat:
 >>> See description above.
 >>>
 >>> *** Environment:
 >>> macosx "Darwin zephyr.local 15.6.0 Darwin Kernel Version 15.6.0: Mon Aug
 >>> 29 20:21:34 PDT 2016; root:xnu-3248.60.11~1/RELEASE_X86_64 x86_64"
 >>> (x86_64-macosx/3m) (get-display-depth) = 32
 >>> Human Language: english
 >>> (current-memory-use) 242762656
 >>> raco pkg (show):
 >>> Installation-wide:
 >>>  Package            Checksum             Source
 >>>  main-distribution  e24e5af07557ac0f...  catalog...tribution
 >>>  racket-lib         21b7fee99c95a8d7...  catalog racket-lib
 >>>  [189 auto-installed packages not shown]
 >>> User-specific for installation "6.6":
 >>>  Package       Checksum               Source
 >>>  asyncunit                            link...ects/asyncunit
 >>>  bitsyntax                            link...cket-bitsyntax
 >>>  csa                                  link...u/projects/csa
 >>>  erlcore                              link...ojects/erlcore
 >>>  gregor        0d7c40c8d6ce616541...  catalog...path=gregor
 >>>  irc                                  link...cts/racket-irc
 >>>  lightspeed                           link...cts/lightspeed
 >>>  nanopass      72c071fda7841d3aa4...  catalog...work-racket
 >>>  pfds          d4a8809b4d621dc367...  catalog...pfds/master
 >>>  ppict         c6f6b66af8c88cdf02...  catalog...epper/ppict
 >>>  rsvg          da8eef09d52ac2236a...  catalog...rsvg/master
 >>>  sl2014        4ffef910ae5109eef9...  catalog...isen/sl2014
 >>>  staged-slide  28b9389ea83984306d...  catalog...taged-slide
 >>>  vcard                                link...s/racket-vcard
 >>>  [10 auto-installed packages not shown]
 >>>
 >>>
 >>>
 >>> Collections:
 >>> ("/Users/schu/Library/Racket/6.6/collects"
 >>>  (non-existent-path))
 >>> ("/Applications/Racket v6.6/collects"
 >>>  ("acks" "compiler" "data" "db" "dynext" "ffi" "file" "info"
 >>> "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket"
 >>> "raco" "reader" "realm" "s-exp" "setup" "syntax" "version" "xml"))
 >>>
 >>> Recent Internal Errors: Saved 1 internal error:
 >>>
 >>> preferences:get: tried to get a preference but no default set for
 >>> 'test-engine:enable?
 >>>   context...:
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/gui-lib/framework/preferences.rkt:82:0: preferences:get
 >>>    /Applications/Racket
 >>> v6.6/collects/racket/contract/private/arrow-val-first.rkt:357:18
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/htdp-lib/lang/htdp-langs.rkt:141:10: on-execute method in
 >>> .../lang/htdp-langs.rkt:77:8
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/drracket/drracket/private/language.rkt:695:6: on-execute
 >>> method in ...private/language.rkt:675:4
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/drracket/drracket/private/rep.rkt:1266:6:
 >>> init-evaluation-thread method in ...cket/private/rep.rkt:432:4
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/drracket/drracket/private/rep.rkt:1683:6: reset-console
 >>> method in ...cket/private/rep.rkt:432:4
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/drracket/gui-debugger/debug-tool.rkt:746:8: reset-console
 >>> method in ...ugger/debug-tool.rkt:603:6
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/drracket/drracket/private/rep.rkt:1754:6: initialize-console
 >>> method in ...cket/private/rep.rkt:432:4
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/drracket/drracket/private/unit.rkt:5493:2:
 >>> create-new-drscheme-frame
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/drracket/drracket/private/main.rkt:801:0: make-basic
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/drracket/drracket/private/main.rkt:839:1
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/gui-lib/mred/private/wx/common/queue.rkt:454:6
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/gui-lib/mred/private/wx/common/queue.rkt:505:32
 >>>    /Applications/Racket
 >>> v6.6/share/pkgs/gui-lib/mred/private/wx/common/queue.rkt:653:3
 >>>
 >>> Computer Language: (("Teaching Languages" "How to Design Programs"
 >>> "Beginning Student") (#(#t constructor repeating-decimal #f #t none) #f ()
 >>> #f))
 >>>
 >
