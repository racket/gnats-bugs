From bugs+caf_=bugs=bugs.plt-scheme.org@plt-scheme.org Thu Jun 26 18:25:44 2008
Received: from fg-out-1718.google.com (fg-out-1718.google.com [72.14.220.157])
	by champlain.ccs.neu.edu (8.14.2/8.14.2) with ESMTP id m5QMPa6I014034
	for <bugs@bugs.plt-scheme.org>; Thu, 26 Jun 2008 18:25:37 -0400
Message-Id: <200806262225.m5QMPRHj014028@champlain.ccs.neu.edu>
Date: Thu, 26 Jun 2008 18:25:27 -0400
From: m.douglas.williams@gmail.com
To: bugs@plt-scheme.org
Subject: Can't Run V4.0.1 on Windows Vista Business as Normal User

>Number:         9554
>Category:       all
>Synopsis:       Can't Run V4.0.1 on Windows Vista Business as Normal User
>Class:          sw-bug
>Responsible:    samth
>Severity:       serious
>Priority:       medium
>State:          closed
>Confidential:   no
>Arrival-Date:   Thu Jun 26 18:28:01 -0400 2008
>Closed-Date:    Fri Feb 03 18:48:28 -0500 2012
>Last-Modified:  Mon Feb 18 23:40:40 -0500 2013
>Originator:     Doug Williams
>Organization:
plt
>Submitter-Id:   unknown
>Release:        4.0.1
>Environment:
windows "Windows NT 6.0 (Build 6000)" (win32\i386\3m) (get-display-depth) = 32
Human Language: english
(current-memory-use) 66531072

Collections:
(("C:\\Users\\dwilliams.INTRANET\\AppData\\Roaming\\PLT Scheme\\4.0.1\\collects" non-existent-path) ("C:\\Program Files\\PLT\\collects" "afm" "algol60" "browser" "combinator-parser" "compiler" "config" "defaults" "drscheme" "dynext" "embedded-gui" "eopl" "errortrace" "ffi" "file" "framework" "frtime" "games" "graphics" "gui-debugger" "help" "hierlist" "htdch" "htdp" "html" "icons" "info-domain" "lang" "launcher" "lazy" "macro-debugger" "make" "mred" "mrlib" "mysterx" "mzcom" "mzlib" "mzscheme" "net" "openssl" "parser-tools" "planet" "plot" "preprocessor" "profj" "r5rs" "r6rs" "readline" "rnrs" "s-exp" "scheme" "scribble" "scribblings" "setup" "sgl" "slatex" "slideshow" "srfi" "stepper" "string-constants" "swindle" "syntax" "syntax-color" "teachpack" "test-box-recovery" "test-engine" "tex2page" "texpict" "trace" "typed-scheme" "version" "web-server" "wxme" "xml"))
Computer Language: (("Module") (#(#t write mixed-fraction-e #f #t debug) (default) #()))
>Description:
I uninstalled V4.0.0.1 and installed V4.0.1.  The first time I execute it, it runs.  But, any subsequent attempt fails with the message "collects\srfi\compiled\provider_ss.zo::0: read (compiled): code compiled for version 4.0, not 4.0.1".  It runs fine when I use 'Run as adminintrator' when starting it.  I've uninstalled it and re-installed it several times with the same effect.
>How-To-Repeat:
Install V4.0.1 under (at least my) Windows Vista Business and try to execute it as a normal user.
>Fix:
>Audit-Trail:
From: Eli Barzilay <eli@barzilay.org>
To: m.douglas.williams@gmail.com, bugs@plt-scheme.org
Cc: mflatt@plt-scheme.org
Subject: Re: [plt-bug] all/9554: Can't Run V4.0.1 on Windows Vista Business as Normal User
Date: Thu, 26 Jun 2008 18:46:29 -0400

 On Jun 26, m.douglas.williams@gmail.com wrote:
 > I uninstalled V4.0.0.1 and installed V4.0.1.  The first time I
 > execute it, it runs.  But, any subsequent attempt fails with the
 > message "collects\srfi\compiled\provider_ss.zo::0: read (compiled):
 > code compiled for version 4.0, not 4.0.1".  It runs fine when I use
 > 'Run as adminintrator' when starting it.  I've uninstalled it and
 > re-installed it several times with the same effect.
 
 I'm just guessing here, but is it possible that you have a second
 version of PLT in some non-standard path?  Did you check that the PLT
 directory was completely gone after you uninstalled the previous
 version?  Also, can you look at the offending file and see what's in
 its beginngin?  For example, I have:
 
   #~^G4.0.1.2
 
 where (I guess) the ^G in the beginning is the number of characters in
 the following version string.
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
From: Eli Barzilay <eli@barzilay.org>
To: "Doug Williams" <m.douglas.williams@gmail.com>
Cc: bugs@plt-scheme.org
Subject: Re: [plt-bug] all/9554: Can't Run V4.0.1 on Windows Vista Business as Normal User
Date: Thu, 26 Jun 2008 19:55:33 -0400

 [CCing bugs@ for the record...]
 
 On Jun 26, Doug Williams wrote:
 > I went through the entire file structure after the uninstall and
 > didn't find any.  I checked the PATH environment variable and only
 > the C:\Program Files\PLT one was there.  I deleted PLT Scheme from
 > AppData\Roaming and made sure it wasn't lurking in any of the other
 > AppData directories.
 
 (Is AppData\Roaming is some new Vista thing?)
 
 
 > Finally, I even went through the entire registry and expunged
 > anything left over pertaining to PLT Scheme - which was a surprising
 > large number of entries from old versions.
 
 Out of curiosity, do you remember which entries you had there?  [The
 usual PLT releases should share the same keys, so you shouldn't have
 any, but the nightly builds have the version in the key (making it
 possible to have several versions at the same time), so if you didn't
 use the uninstallers you'd end up with leftover keys.]
 
 
 > It is obviously possible that I missed something, but it must be
 > well hidden.
 
 Did you check the contents of that file?  Specifically, whether it
 changed after that first run?
 
 Actually, I bet I know the reason for a successful first run: IIRC,
 Vista likes to play tricks so you'll usually be running as a plain
 user, and when you install something it probably "upgrades" the
 process to an administrator.  Now, if my guess is correct, that first
 run that you get is by leaving the "run drscheme" checkbox on, which
 means that the installer is the application that runs it as a
 subprocess, which means that it's still running as an administrator.
 
 If this is correct, then another experiment to do would be to uncheck
 that box, and try to run drscheme yourself after the installation is
 over.  Maybe this will shed some light on the problem?
 
 Another thing to try is to see if your preferences are the same when
 you run as an administrator and as a plain user.  Try to evaluate
 (find-system-path 'pref-dir) in both cases and see if you get
 different results.
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
From: Eli Barzilay <eli@barzilay.org>
To: "Doug Williams" <m.douglas.williams@gmail.com>
Cc: "Matthew Flatt" <mflatt@cs.utah.edu>, bugs@plt-scheme.org
Subject: Re: [plt-bug] all/9554: Can't Run V4.0.1 on Windows Vista Business as Normal User
Date: Thu, 26 Jun 2008 21:51:54 -0400

 On Jun 26, Doug Williams wrote:
 > This is weird.  I uninstalled V4.0.1 again and made sure that the
 > Program Files\PLT Scheme directory was really gone - and it was.
 > Then I did a search for 'PLT' to include non-indexed, hidden, and
 > system files.  And, there is a directory
 > 'C:\Users\dwilliams.INTRANET\AppData\Local\VirtualStore\Program
 > Files' that contains directories with some old PLT Scheme versions
 > (PLT, PLT-3.99.0.26, and PLT-FULL-371.3) - along with Adobe,
 > Kerberos, Microsoft Office, Open Office, Roxio, Semantic, and a few
 > others.  I have absolutely no idea what they are there for.  The PLT
 > ones don't contain everything from what is in Program Files - just
 > collects (in all of them), doc in one of them, and scribblings in
 > the other.  Could they just be things that somehow changed after the
 > install?  Maybe there is a program rollback feature that I'm unaware
 > of that this is interacting with.  Sounds like I need a Google
 > session later.
 
 Aha!  This might be a clue to what's going on.  After quick google for
 "Vista VirtualStore" I see that what they did is the following
 (specialized example for PLT):
 
 * Program Files\PLT is not writeable to ordinary users,
 
 * but when such a process is trying to write in there you don't get a
   write error.  Instead, MS creates a copy of the file in
   ...\VirtualStore\Program Files\PLT, and then the process continues
   as usual (no error) except that it's writing into *that* directory
   instead.
 
 * When you try to read files from Program Files\PLT, files in
   VirtualStore will be used if they exist.
 
 It's a cute but badly designed idea for taking a badly designed OS,
 and making sure that badly designed application can sort-of kind-of
 continue to use their bad ways...
 
 
 > As far as I know I have always uninstalled programs when I no longer
 > need them - as opposed to just deleting stuff out of Program Files.
 > [I really am pretty good about using the uninstallers.]  I looked on
 > my other Vista machine and there is also a PLT directory in the same
 > place there.  I'm guessing that the uninstaller doesn't (know to)
 > rremove these files - or maybe it isn't supposed to matter.
 
 Now, as for your problem, I can conitnue the last click and guess
 what's happenning:
 
 * The first run works fine because the installer executes it, so it's
   running as an administrator.
 
 * Subsequent runs as adminstrator work fine too.
 
 * BUT -- trying to run something as a plain user uses files in the
   VirtualStore that are leftover from old installations (when you
   modified files as an Administrator).
 
 The first google result was
 
   http://zone.ni.com/devzone/cda/tut/p/id/5538
 
 which has some explanation about all this.  One of the comments make
 me think that this is really what happened:
 
 | This article explains why our program mysteriously continues to run
 | even when you delete the Program Files folder where it was
 | installed.
 
 So, my guess is that there's some potential problem when deleting
 files, and that you somehow had an old .zo file stay there, which is
 now used -- but only when you run as yourself, not as the
 administrator!
 
 (I'll read more now.)
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
From: Eli Barzilay <eli@barzilay.org>
To: "Doug Williams" <m.douglas.williams@gmail.com>
Cc: "Matthew Flatt" <mflatt@cs.utah.edu>, bugs@plt-scheme.org
Subject: Re: [plt-bug] all/9554: Can't Run V4.0.1 on Windows Vista Business as Normal User
Date: Thu, 26 Jun 2008 22:14:02 -0400

 On Jun 26, Doug Williams wrote:
 > I deleted those PLT folders in the VirtualStore and did the
 > reinstall (as a normal user).  I unchecked the Run DrScheme box so
 > it hasn't run yet.
 > [...]
 
 Yes, I think that this was definitely the problem.  Reading more, I
 think that deletion is a big problem of all this.  From that web
 page:
 
   If the application later tries to delete the INI file, the delete
   will appear to succeed, yet the file will still exist in the Program
   Files directory and remain visible to the application. If it retries
   the delete, an access denied exception will be thrown.
 
 So I wouldn't be surprised if running the uninstaller *doesn't* delete
 VirtualStore directories, and you end up with the mess that you see.
 (Of course, it shoule be easy to solve it: simply ignore the
 VirtualStore file if the real one is newer -- but getting such
 trivialities wrong in Windows is not surprising me at all.)
 
 Matthew -- that web page makes it seem like virtualization can be
 turned off for an application.  If this is the case, then it's
 probably best to do so, and get the normal bugs that people should be
 getting on Linux when you try to modify something in the PLT
 hierarchy.
 
 Doug -- can you tell me which planet packages you installed?  I'll try
 to make my plt tree read-only and then try to install them to see if
 there's a problem.  The installer's tree should be such that it never
 tries to write to files there.
 
 
 > Now it does start the second time.  I get the "Error saving preferences:
 > rename-file-or-directory: cannot rename file or directory:
 > C:\Users\dwilliams.INTRANET\AppData\Roaming\PLT
 > Scheme\TEMPPREF1214530563-945181319 to:
 > C:\Users\dwilliams.INTRANET\AppData\Roaming\PLT Scheme\plt-prefs.ss (Access
 > is denied.; errno=5)".  Note that I have been getting that error on this
 > machine as long as I can remember (at least back to V372).  [Actually I got
 > the message twice.]  Ignoring it seems to be okay.  It is in the bug list
 > and I think marked as closed with the comment to make sure that files has
 > the right privileges - which it does.  So it really shouldn't be closed. [I
 > haven't looked in a while and that was from memory.]
 
 (Given the above mess I'm not surprised...  Vista sounds like it can
 easily create such confusions.)
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
From: "Doug Williams" <m.douglas.williams@gmail.com>
To: "Eli Barzilay" <eli@barzilay.org>
Cc: "Matthew Flatt" <mflatt@cs.utah.edu>, bugs@plt-scheme.org
Subject: Re: [plt-bug] all/9554: Can't Run V4.0.1 on Windows Vista Business as Normal User
Date: Thu, 26 Jun 2008 20:19:06 -0600

 ------=_Part_7191_27087920.1214533146099
 Content-Type: multipart/alternative; 
 	boundary="----=_Part_7192_29770795.1214533146099"
 
 ------=_Part_7192_29770795.1214533146099
 Content-Type: text/plain; charset=ISO-8859-1
 Content-Transfer-Encoding: 7bit
 Content-Disposition: inline
 
 I only loaded the science collection.  I'm attaching a simple example
 program that you can execute the requires it.  Or, you can just (require
 (planet science.ss ("williams" "science.plt"))).
 
 On Thu, Jun 26, 2008 at 8:14 PM, Eli Barzilay <eli@barzilay.org> wrote:
 
 > On Jun 26, Doug Williams wrote:
 > > I deleted those PLT folders in the VirtualStore and did the
 > > reinstall (as a normal user).  I unchecked the Run DrScheme box so
 > > it hasn't run yet.
 > > [...]
 >
 > Yes, I think that this was definitely the problem.  Reading more, I
 > think that deletion is a big problem of all this.  From that web
 > page:
 >
 >  If the application later tries to delete the INI file, the delete
 >  will appear to succeed, yet the file will still exist in the Program
 >  Files directory and remain visible to the application. If it retries
 >  the delete, an access denied exception will be thrown.
 >
 > So I wouldn't be surprised if running the uninstaller *doesn't* delete
 > VirtualStore directories, and you end up with the mess that you see.
 > (Of course, it shoule be easy to solve it: simply ignore the
 > VirtualStore file if the real one is newer -- but getting such
 > trivialities wrong in Windows is not surprising me at all.)
 >
 > Matthew -- that web page makes it seem like virtualization can be
 > turned off for an application.  If this is the case, then it's
 > probably best to do so, and get the normal bugs that people should be
 > getting on Linux when you try to modify something in the PLT
 > hierarchy.
 >
 > Doug -- can you tell me which planet packages you installed?  I'll try
 > to make my plt tree read-only and then try to install them to see if
 > there's a problem.  The installer's tree should be such that it never
 > tries to write to files there.
 >
 >
 > > Now it does start the second time.  I get the "Error saving preferences:
 > > rename-file-or-directory: cannot rename file or directory:
 > > C:\Users\dwilliams.INTRANET\AppData\Roaming\PLT
 > > Scheme\TEMPPREF1214530563-945181319 to:
 > > C:\Users\dwilliams.INTRANET\AppData\Roaming\PLT Scheme\plt-prefs.ss
 > (Access
 > > is denied.; errno=5)".  Note that I have been getting that error on this
 > > machine as long as I can remember (at least back to V372).  [Actually I
 > got
 > > the message twice.]  Ignoring it seems to be okay.  It is in the bug list
 > > and I think marked as closed with the comment to make sure that files has
 > > the right privileges - which it does.  So it really shouldn't be closed.
 > [I
 > > haven't looked in a while and that was from memory.]
 >
 > (Given the above mess I'm not surprised...  Vista sounds like it can
 > easily create such confusions.)
 >
 > --
 >          ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
 >                  http://www.barzilay.org/                 Maze is Life!
 >
 
 ------=_Part_7192_29770795.1214533146099
 Content-Type: text/html; charset=ISO-8859-1
 Content-Transfer-Encoding: 7bit
 Content-Disposition: inline
 
 I only loaded the science collection.&nbsp; I&#39;m attaching a simple example program that you can execute the requires it.&nbsp; Or, you can just (require (planet science.ss (&quot;williams&quot; &quot;science.plt&quot;))).<br><br>
 <div class="gmail_quote">On Thu, Jun 26, 2008 at 8:14 PM, Eli Barzilay &lt;<a href="mailto:eli@barzilay.org">eli@barzilay.org</a>&gt; wrote:<br><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
 <div class="Ih2E3d">On Jun 26, Doug Williams wrote:<br>
 </div><div class="Ih2E3d">&gt; I deleted those PLT folders in the VirtualStore and did the<br>
 &gt; reinstall (as a normal user). &nbsp;I unchecked the Run DrScheme box so<br>
 &gt; it hasn&#39;t run yet.<br>
 </div>&gt; [...]<br>
 <br>
 Yes, I think that this was definitely the problem. &nbsp;Reading more, I<br>
 think that deletion is a big problem of all this. &nbsp;From that web<br>
 page:<br>
 <br>
  &nbsp;If the application later tries to delete the INI file, the delete<br>
  &nbsp;will appear to succeed, yet the file will still exist in the Program<br>
  &nbsp;Files directory and remain visible to the application. If it retries<br>
  &nbsp;the delete, an access denied exception will be thrown.<br>
 <br>
 So I wouldn&#39;t be surprised if running the uninstaller *doesn&#39;t* delete<br>
 VirtualStore directories, and you end up with the mess that you see.<br>
 (Of course, it shoule be easy to solve it: simply ignore the<br>
 VirtualStore file if the real one is newer -- but getting such<br>
 trivialities wrong in Windows is not surprising me at all.)<br>
 <br>
 Matthew -- that web page makes it seem like virtualization can be<br>
 turned off for an application. &nbsp;If this is the case, then it&#39;s<br>
 probably best to do so, and get the normal bugs that people should be<br>
 getting on Linux when you try to modify something in the PLT<br>
 hierarchy.<br>
 <br>
 Doug -- can you tell me which planet packages you installed? &nbsp;I&#39;ll try<br>
 to make my plt tree read-only and then try to install them to see if<br>
 there&#39;s a problem. &nbsp;The installer&#39;s tree should be such that it never<br>
 tries to write to files there.<br>
 <div class="Ih2E3d"><br>
 <br>
 &gt; Now it does start the second time. &nbsp;I get the &quot;Error saving preferences:<br>
 &gt; rename-file-or-directory: cannot rename file or directory:<br>
 &gt; C:\Users\dwilliams.INTRANET\AppData\Roaming\PLT<br>
 &gt; Scheme\TEMPPREF1214530563-945181319 to:<br>
 &gt; C:\Users\dwilliams.INTRANET\AppData\Roaming\PLT Scheme\plt-prefs.ss (Access<br>
 &gt; is denied.; errno=5)&quot;. &nbsp;Note that I have been getting that error on this<br>
 &gt; machine as long as I can remember (at least back to V372). &nbsp;[Actually I got<br>
 &gt; the message twice.] &nbsp;Ignoring it seems to be okay. &nbsp;It is in the bug list<br>
 &gt; and I think marked as closed with the comment to make sure that files has<br>
 &gt; the right privileges - which it does. &nbsp;So it really shouldn&#39;t be closed. [I<br>
 &gt; haven&#39;t looked in a while and that was from memory.]<br>
 <br>
 </div>(Given the above mess I&#39;m not surprised... &nbsp;Vista sounds like it can<br>
 easily create such confusions.)<br>
 <div><div></div><div class="Wj3C7c"><br>
 --<br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;((lambda (x) (x x)) (lambda (x) (x x))) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Eli Barzilay:<br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="http://www.barzilay.org/" target="_blank">http://www.barzilay.org/</a> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Maze is Life!<br>
 </div></div></blockquote></div><br>
 
 ------=_Part_7192_29770795.1214533146099--
 
 ------=_Part_7191_27087920.1214533146099
 Content-Type: application/octet-stream; name=example.ss
 Content-Transfer-Encoding: base64
 X-Attachment-Id: f_fhy5n6fo0
 Content-Disposition: attachment; filename=example.ss
 
 I2xhbmcgc2NoZW1lDQoocmVxdWlyZSAocGxhbmV0ICJyYW5kb20tc291cmNlLnNzIiAoIndpbGxp
 YW1zIiAic2NpZW5jZS5wbHQiKSkpDQoocmVxdWlyZSAocGxhbmV0ICJkaXNjcmV0ZS1oaXN0b2dy
 YW0td2l0aC1ncmFwaGljcy5zcyINCiAgICAgICAgICAgICAgICAgKCJ3aWxsaWFtcyIgInNjaWVu
 Y2UucGx0IikpKQ0KDQoobGV0ICgocyAobWFrZS1yYW5kb20tc291cmNlKSkNCiAgICAgIChoICht
 YWtlLWRpc2NyZXRlLWhpc3RvZ3JhbSkpKQ0KICAocmFuZG9tLXNvdXJjZS1yYW5kb21pemUhIHMp
 DQogIChkbyAoKGkgMCAoKyBpIDEpKSkNCiAgICAgICgoPSBpIDEwMDAwKSAodm9pZCkpDQogICAg
 KGxldCAoKGRpZTEgKCsgKHJhbmRvbS11bmlmb3JtLWludCA2KSAxKSkNCiAgICAgICAgICAoZGll
 MiAoKyAocmFuZG9tLXVuaWZvcm0taW50IDYpIDEpKSkNCiAgICAgIChkaXNjcmV0ZS1oaXN0b2dy
 YW0taW5jcmVtZW50ISBoICgrIGRpZTEgZGllMikpKSkNCiAgKGRpc2NyZXRlLWhpc3RvZ3JhbS1w
 bG90IGggIkhpc3RvZ3JhbSBvZiBTdW0gb2YgVHdvIERpY2UiKSk=
 ------=_Part_7191_27087920.1214533146099--
From: Eli Barzilay <eli@barzilay.org>
To: "Doug Williams" <m.douglas.williams@gmail.com>,
        "Matthew Flatt" <mflatt@cs.utah.edu>, bugs@plt-scheme.org
Cc: 
Subject: Re: [plt-bug] all/9554: Can't Run V4.0.1 on Windows Vista Business as Normal User
Date: Thu, 26 Jun 2008 22:18:54 -0400

 On Jun 26, Eli Barzilay wrote:
 > Matthew -- that web page makes it seem like virtualization can be
 > turned off for an application.  If this is the case, then it's
 > probably best to do so, and get the normal bugs that people should
 > be getting on Linux when you try to modify something in the PLT
 > hierarchy.
 
 This is from http://msdn.microsoft.com/en-us/library/bb756960.aspx :
 
   While developing Windows Vista programs, to reduce the complexity of
   virtualized files and registry keys, be sure to embed an application
   manifest with an appropriate requestedExecutionLevel in order to
   turn off file and registry virtualization.
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
From: Eli Barzilay <eli@barzilay.org>
To: "Doug Williams" <m.douglas.williams@gmail.com>,
        "Matthew Flatt" <mflatt@cs.utah.edu>, bugs@plt-scheme.org
Cc: 
Subject: Re: [plt-bug] all/9554: Can't Run V4.0.1 on Windows Vista Business as Normal User
Date: Thu, 26 Jun 2008 22:25:54 -0400

 (Sorry for the frequent self-replies, it just reads like some hacker's
 horror story...)
 
 
 On Jun 26, Eli Barzilay wrote:
 > (Of course, it shoule be easy to solve it: simply ignore the
 > VirtualStore file if the real one is newer -- but getting such
 > trivialities wrong in Windows is not surprising me at all.)
 
 This seems to be intentional, from the microsoft page
 (msdn.microsoft.com/en-us/library/bb756960.aspx):
 
   The virtual copy will always be present to the application first.
   For example, config.ini is available in \PF\App\config.ini and
   %LOCALAPPDATA%\VirtualStore\config.ini, and the config.ini in the
   virtual store will always be the one read, even if
   \PF\App\config.ini is updated.
 
 It probably makes sense while an application is installed, but stupid
 when it was uninstalled.
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
From: "Doug Williams" <m.douglas.williams@gmail.com>
To: "Eli Barzilay" <eli@barzilay.org>
Cc: "Matthew Flatt" <mflatt@cs.utah.edu>, bugs@plt-scheme.org
Subject: Re: [plt-bug] all/9554: Can't Run V4.0.1 on Windows Vista Business as Normal User
Date: Thu, 26 Jun 2008 20:26:22 -0600

 ------=_Part_7206_30235989.1214533582383
 Content-Type: text/plain; charset=ISO-8859-1
 Content-Transfer-Encoding: 7bit
 Content-Disposition: inline
 
 Oops, make that (require (planet "science.ss" ("williams" "science.plt")))
 
 On Thu, Jun 26, 2008 at 8:19 PM, Doug Williams <m.douglas.williams@gmail.com>
 wrote:
 
 > I only loaded the science collection.  I'm attaching a simple example
 > program that you can execute the requires it.  Or, you can just (require
 > (planet science.ss ("williams" "science.plt"))).
 >
 >
 > On Thu, Jun 26, 2008 at 8:14 PM, Eli Barzilay <eli@barzilay.org> wrote:
 >
 >> On Jun 26, Doug Williams wrote:
 >> > I deleted those PLT folders in the VirtualStore and did the
 >> > reinstall (as a normal user).  I unchecked the Run DrScheme box so
 >> > it hasn't run yet.
 >> > [...]
 >>
 >> Yes, I think that this was definitely the problem.  Reading more, I
 >> think that deletion is a big problem of all this.  From that web
 >> page:
 >>
 >>  If the application later tries to delete the INI file, the delete
 >>  will appear to succeed, yet the file will still exist in the Program
 >>  Files directory and remain visible to the application. If it retries
 >>  the delete, an access denied exception will be thrown.
 >>
 >> So I wouldn't be surprised if running the uninstaller *doesn't* delete
 >> VirtualStore directories, and you end up with the mess that you see.
 >> (Of course, it shoule be easy to solve it: simply ignore the
 >> VirtualStore file if the real one is newer -- but getting such
 >> trivialities wrong in Windows is not surprising me at all.)
 >>
 >> Matthew -- that web page makes it seem like virtualization can be
 >> turned off for an application.  If this is the case, then it's
 >> probably best to do so, and get the normal bugs that people should be
 >> getting on Linux when you try to modify something in the PLT
 >> hierarchy.
 >>
 >> Doug -- can you tell me which planet packages you installed?  I'll try
 >> to make my plt tree read-only and then try to install them to see if
 >> there's a problem.  The installer's tree should be such that it never
 >> tries to write to files there.
 >>
 >>
 >> > Now it does start the second time.  I get the "Error saving preferences:
 >> > rename-file-or-directory: cannot rename file or directory:
 >> > C:\Users\dwilliams.INTRANET\AppData\Roaming\PLT
 >> > Scheme\TEMPPREF1214530563-945181319 to:
 >> > C:\Users\dwilliams.INTRANET\AppData\Roaming\PLT Scheme\plt-prefs.ss
 >> (Access
 >> > is denied.; errno=5)".  Note that I have been getting that error on this
 >> > machine as long as I can remember (at least back to V372).  [Actually I
 >> got
 >> > the message twice.]  Ignoring it seems to be okay.  It is in the bug
 >> list
 >> > and I think marked as closed with the comment to make sure that files
 >> has
 >> > the right privileges - which it does.  So it really shouldn't be closed.
 >> [I
 >> > haven't looked in a while and that was from memory.]
 >>
 >> (Given the above mess I'm not surprised...  Vista sounds like it can
 >> easily create such confusions.)
 >>
 >> --
 >>          ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
 >>                  http://www.barzilay.org/                 Maze is Life!
 >>
 >
 >
 
 ------=_Part_7206_30235989.1214533582383
 Content-Type: text/html; charset=ISO-8859-1
 Content-Transfer-Encoding: 7bit
 Content-Disposition: inline
 
 Oops, make that (require (planet &quot;science.ss&quot; (&quot;williams&quot; &quot;science.plt&quot;)))<br><br><div class="gmail_quote">On Thu, Jun 26, 2008 at 8:19 PM, Doug Williams &lt;<a href="mailto:m.douglas.williams@gmail.com">m.douglas.williams@gmail.com</a>&gt; wrote:<br>
 <blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">I only loaded the science collection.&nbsp; I&#39;m attaching a simple example program that you can execute the requires it.&nbsp; Or, you can just (require (planet science.ss (&quot;williams&quot; &quot;science.plt&quot;))).<div>
 <div></div><div class="Wj3C7c"><br><br>
 <div class="gmail_quote">On Thu, Jun 26, 2008 at 8:14 PM, Eli Barzilay &lt;<a href="mailto:eli@barzilay.org" target="_blank">eli@barzilay.org</a>&gt; wrote:<br><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
 
 <div>On Jun 26, Doug Williams wrote:<br>
 </div><div>&gt; I deleted those PLT folders in the VirtualStore and did the<br>
 &gt; reinstall (as a normal user). &nbsp;I unchecked the Run DrScheme box so<br>
 &gt; it hasn&#39;t run yet.<br>
 </div>&gt; [...]<br>
 <br>
 Yes, I think that this was definitely the problem. &nbsp;Reading more, I<br>
 think that deletion is a big problem of all this. &nbsp;From that web<br>
 page:<br>
 <br>
  &nbsp;If the application later tries to delete the INI file, the delete<br>
  &nbsp;will appear to succeed, yet the file will still exist in the Program<br>
  &nbsp;Files directory and remain visible to the application. If it retries<br>
  &nbsp;the delete, an access denied exception will be thrown.<br>
 <br>
 So I wouldn&#39;t be surprised if running the uninstaller *doesn&#39;t* delete<br>
 VirtualStore directories, and you end up with the mess that you see.<br>
 (Of course, it shoule be easy to solve it: simply ignore the<br>
 VirtualStore file if the real one is newer -- but getting such<br>
 trivialities wrong in Windows is not surprising me at all.)<br>
 <br>
 Matthew -- that web page makes it seem like virtualization can be<br>
 turned off for an application. &nbsp;If this is the case, then it&#39;s<br>
 probably best to do so, and get the normal bugs that people should be<br>
 getting on Linux when you try to modify something in the PLT<br>
 hierarchy.<br>
 <br>
 Doug -- can you tell me which planet packages you installed? &nbsp;I&#39;ll try<br>
 to make my plt tree read-only and then try to install them to see if<br>
 there&#39;s a problem. &nbsp;The installer&#39;s tree should be such that it never<br>
 tries to write to files there.<br>
 <div><br>
 <br>
 &gt; Now it does start the second time. &nbsp;I get the &quot;Error saving preferences:<br>
 &gt; rename-file-or-directory: cannot rename file or directory:<br>
 &gt; C:\Users\dwilliams.INTRANET\AppData\Roaming\PLT<br>
 &gt; Scheme\TEMPPREF1214530563-945181319 to:<br>
 &gt; C:\Users\dwilliams.INTRANET\AppData\Roaming\PLT Scheme\plt-prefs.ss (Access<br>
 &gt; is denied.; errno=5)&quot;. &nbsp;Note that I have been getting that error on this<br>
 &gt; machine as long as I can remember (at least back to V372). &nbsp;[Actually I got<br>
 &gt; the message twice.] &nbsp;Ignoring it seems to be okay. &nbsp;It is in the bug list<br>
 &gt; and I think marked as closed with the comment to make sure that files has<br>
 &gt; the right privileges - which it does. &nbsp;So it really shouldn&#39;t be closed. [I<br>
 &gt; haven&#39;t looked in a while and that was from memory.]<br>
 <br>
 </div>(Given the above mess I&#39;m not surprised... &nbsp;Vista sounds like it can<br>
 easily create such confusions.)<br>
 <div><div></div><div><br>
 --<br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;((lambda (x) (x x)) (lambda (x) (x x))) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Eli Barzilay:<br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="http://www.barzilay.org/" target="_blank">http://www.barzilay.org/</a> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Maze is Life!<br>
 </div></div></blockquote></div><br>
 </div></div></blockquote></div><br>
 
 ------=_Part_7206_30235989.1214533582383--
From: Eli Barzilay <eli@barzilay.org>
To: "Doug Williams" <m.douglas.williams@gmail.com>
Cc: "Matthew Flatt" <mflatt@cs.utah.edu>, bugs@plt-scheme.org
Subject: Re: [plt-bug] all/9554: Can't Run V4.0.1 on Windows Vista Business as Normal User
Date: Thu, 26 Jun 2008 22:38:27 -0400

 OK, I tried that on linux, and it worked fine.  I'll try to see if I
 can test it on Windows (XP) too.
 
 
 On Jun 26, Doug Williams wrote:
 > Oops, make that (require (planet "science.ss" ("williams" "science.plt")))
 > 
 > On Thu, Jun 26, 2008 at 8:19 PM, Doug Williams <m.douglas.williams@gmail.com>
 > wrote:
 > 
 > > I only loaded the science collection.  I'm attaching a simple example
 > > program that you can execute the requires it.  Or, you can just (require
 > > (planet science.ss ("williams" "science.plt"))).
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
From: "Doug Williams" <m.douglas.williams@gmail.com>
To: "Eli Barzilay" <eli@barzilay.org>
Cc: "Matthew Flatt" <mflatt@cs.utah.edu>, bugs@plt-scheme.org
Subject: Re: [plt-bug] all/9554: Can't Run V4.0.1 on Windows Vista Business as Normal User
Date: Thu, 26 Jun 2008 20:51:46 -0600

 ------=_Part_7292_32320911.1214535106106
 Content-Type: text/plain; charset=ISO-8859-1
 Content-Transfer-Encoding: 7bit
 Content-Disposition: inline
 
 As an experiment, I tried reinstalling and running the initial science
 collection load (that takes so long) as administrator.  [I was thinking it
 somehow thought the complied files didn't exist or something.]  Anyway all
 of the compiled directories now have an errortrace directory with the
 compiled files in them.  When I looked at the 'good' installation, the new
 PLT Scheme in VirtualStore, they are all compiled directories with
 errortrace subdirectories with the compiled code.
 
 Do you know what the errortrace subdirectories are?  And, why are they being
 created?  I assume that is the cause of the long download times.
 
 On Thu, Jun 26, 2008 at 8:38 PM, Eli Barzilay <eli@barzilay.org> wrote:
 
 > OK, I tried that on linux, and it worked fine.  I'll try to see if I
 > can test it on Windows (XP) too.
 >
 >
 > On Jun 26, Doug Williams wrote:
 > > Oops, make that (require (planet "science.ss" ("williams"
 > "science.plt")))
 > >
 > > On Thu, Jun 26, 2008 at 8:19 PM, Doug Williams <
 > m.douglas.williams@gmail.com>
 > > wrote:
 > >
 > > > I only loaded the science collection.  I'm attaching a simple example
 > > > program that you can execute the requires it.  Or, you can just
 > (require
 > > > (planet science.ss ("williams" "science.plt"))).
 >
 > --
 >           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
 >                  http://www.barzilay.org/                 Maze is Life!
 >
 
 ------=_Part_7292_32320911.1214535106106
 Content-Type: text/html; charset=ISO-8859-1
 Content-Transfer-Encoding: 7bit
 Content-Disposition: inline
 
 As an experiment, I tried reinstalling and running the initial science collection load (that takes so long) as administrator.&nbsp; [I was thinking it somehow thought the complied files didn&#39;t exist or something.]&nbsp; Anyway all of the compiled directories now have an errortrace directory with the compiled files in them.&nbsp; When I looked at the &#39;good&#39; installation, the new PLT Scheme in VirtualStore, they are all compiled directories with errortrace subdirectories with the compiled code.<br>
 <br>Do you know what the errortrace subdirectories are?&nbsp; And, why are they being created?&nbsp; I assume that is the cause of the long download times.<br><br><div class="gmail_quote">On Thu, Jun 26, 2008 at 8:38 PM, Eli Barzilay &lt;<a href="mailto:eli@barzilay.org">eli@barzilay.org</a>&gt; wrote:<br>
 <blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">OK, I tried that on linux, and it worked fine. &nbsp;I&#39;ll try to see if I<br>
 can test it on Windows (XP) too.<br>
 <div class="Ih2E3d"><br>
 <br>
 On Jun 26, Doug Williams wrote:<br>
 </div><div class="Ih2E3d">&gt; Oops, make that (require (planet &quot;science.ss&quot; (&quot;williams&quot; &quot;science.plt&quot;)))<br>
 &gt;<br>
 &gt; On Thu, Jun 26, 2008 at 8:19 PM, Doug Williams &lt;<a href="mailto:m.douglas.williams@gmail.com">m.douglas.williams@gmail.com</a>&gt;<br>
 &gt; wrote:<br>
 &gt;<br>
 &gt; &gt; I only loaded the science collection. &nbsp;I&#39;m attaching a simple example<br>
 &gt; &gt; program that you can execute the requires it. &nbsp;Or, you can just (require<br>
 &gt; &gt; (planet science.ss (&quot;williams&quot; &quot;science.plt&quot;))).<br>
 <br>
 </div>--<br>
 <div><div></div><div class="Wj3C7c"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;((lambda (x) (x x)) (lambda (x) (x x))) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Eli Barzilay:<br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="http://www.barzilay.org/" target="_blank">http://www.barzilay.org/</a> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Maze is Life!<br>
 </div></div></blockquote></div><br>
 
 ------=_Part_7292_32320911.1214535106106--
From: Eli Barzilay <eli@barzilay.org>
To: "Doug Williams" <m.douglas.williams@gmail.com>
Cc: "Matthew Flatt" <mflatt@cs.utah.edu>, bugs@plt-scheme.org
Subject: Re: [plt-bug] all/9554: Can't Run V4.0.1 on Windows Vista Business as Normal User
Date: Thu, 26 Jun 2008 23:15:09 -0400

 On Jun 26, Doug Williams wrote:
 > As an experiment, I tried reinstalling and running the initial
 > science collection load (that takes so long) as administrator.  [I
 > was thinking it somehow thought the complied files didn't exist or
 > something.]  Anyway all of the compiled directories now have an
 > errortrace directory with the compiled files in them.  When I looked
 > at the 'good' installation, the new PLT Scheme in VirtualStore, they
 > are all compiled directories with errortrace subdirectories with the
 > compiled code.
 > 
 > Do you know what the errortrace subdirectories are?  And, why are they being
 > created?  I assume that is the cause of the long download times.
 
 This might explain the long time too: looks like installing a planet
 package in drscheme is instrumented with errortrace, which is
 recompiling stuff from the plt tree (and it's slow, because errortrace
 adds a lot of code), and also leads to writing in the PLT tree.
 
 I was able to recreate this by doing that require line from drscheme
 -- if you run it in mzscheme, everything works as usual.
 
 (I'll file a different bug report since this is an unrelated problem.)
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
From: Matthew Flatt <mflatt@cs.utah.edu>
To: "Doug Williams" <m.douglas.williams@gmail.com>
Cc: "Eli Barzilay" <eli@barzilay.org>, bugs@plt-scheme.org
Subject: Re: [plt-bug] all/9554: Can't Run V4.0.1 on Windows Vista Business as Normal User
Date: Thu, 26 Jun 2008 21:12:35 -0600

 Do you have a "PLTDRDEBUG" environment variable defined?
 
 At Thu, 26 Jun 2008 20:51:46 -0600, "Doug Williams" wrote:
 > As an experiment, I tried reinstalling and running the initial science
 > collection load (that takes so long) as administrator.  [I was thinking it
 > somehow thought the complied files didn't exist or something.]  Anyway all
 > of the compiled directories now have an errortrace directory with the
 > compiled files in them.  When I looked at the 'good' installation, the new
 > PLT Scheme in VirtualStore, they are all compiled directories with
 > errortrace subdirectories with the compiled code.
 > 
 > Do you know what the errortrace subdirectories are?  And, why are they being
 > created?  I assume that is the cause of the long download times.
 > 
 > On Thu, Jun 26, 2008 at 8:38 PM, Eli Barzilay <eli@barzilay.org> wrote:
 > 
 > > OK, I tried that on linux, and it worked fine.  I'll try to see if I
 > > can test it on Windows (XP) too.
 > >
 > >
 > > On Jun 26, Doug Williams wrote:
 > > > Oops, make that (require (planet "science.ss" ("williams"
 > > "science.plt")))
 > > >
 > > > On Thu, Jun 26, 2008 at 8:19 PM, Doug Williams <
 > > m.douglas.williams@gmail.com>
 > > > wrote:
 > > >
 > > > > I only loaded the science collection.  I'm attaching a simple example
 > > > > program that you can execute the requires it.  Or, you can just
 > > (require
 > > > > (planet science.ss ("williams" "science.plt"))).
 > >
 > > --
 > >           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
 > >                  http://www.barzilay.org/                 Maze is Life!
 > >
From: "Doug Williams" <m.douglas.williams@gmail.com>
To: "Matthew Flatt" <mflatt@cs.utah.edu>
Cc: "Eli Barzilay" <eli@barzilay.org>, bugs@plt-scheme.org
Subject: Re: [plt-bug] all/9554: Can't Run V4.0.1 on Windows Vista Business as Normal User
Date: Thu, 26 Jun 2008 21:17:19 -0600

 ------=_Part_7312_9401712.1214536639867
 Content-Type: text/plain; charset=ISO-8859-1
 Content-Transfer-Encoding: 7bit
 Content-Disposition: inline
 
 No, I don't have any PLT specific environment variables set.
 
 On Thu, Jun 26, 2008 at 9:12 PM, Matthew Flatt <mflatt@cs.utah.edu> wrote:
 
 > Do you have a "PLTDRDEBUG" environment variable defined?
 >
 > At Thu, 26 Jun 2008 20:51:46 -0600, "Doug Williams" wrote:
 > > As an experiment, I tried reinstalling and running the initial science
 > > collection load (that takes so long) as administrator.  [I was thinking
 > it
 > > somehow thought the complied files didn't exist or something.]  Anyway
 > all
 > > of the compiled directories now have an errortrace directory with the
 > > compiled files in them.  When I looked at the 'good' installation, the
 > new
 > > PLT Scheme in VirtualStore, they are all compiled directories with
 > > errortrace subdirectories with the compiled code.
 > >
 > > Do you know what the errortrace subdirectories are?  And, why are they
 > being
 > > created?  I assume that is the cause of the long download times.
 > >
 > > On Thu, Jun 26, 2008 at 8:38 PM, Eli Barzilay <eli@barzilay.org> wrote:
 > >
 > > > OK, I tried that on linux, and it worked fine.  I'll try to see if I
 > > > can test it on Windows (XP) too.
 > > >
 > > >
 > > > On Jun 26, Doug Williams wrote:
 > > > > Oops, make that (require (planet "science.ss" ("williams"
 > > > "science.plt")))
 > > > >
 > > > > On Thu, Jun 26, 2008 at 8:19 PM, Doug Williams <
 > > > m.douglas.williams@gmail.com>
 > > > > wrote:
 > > > >
 > > > > > I only loaded the science collection.  I'm attaching a simple
 > example
 > > > > > program that you can execute the requires it.  Or, you can just
 > > > (require
 > > > > > (planet science.ss ("williams" "science.plt"))).
 > > >
 > > > --
 > > >           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli
 > Barzilay:
 > > >                  http://www.barzilay.org/                 Maze is
 > Life!
 > > >
 >
 
 ------=_Part_7312_9401712.1214536639867
 Content-Type: text/html; charset=ISO-8859-1
 Content-Transfer-Encoding: 7bit
 Content-Disposition: inline
 
 No, I don&#39;t have any PLT specific environment variables set.<br><br><div class="gmail_quote">On Thu, Jun 26, 2008 at 9:12 PM, Matthew Flatt &lt;<a href="mailto:mflatt@cs.utah.edu">mflatt@cs.utah.edu</a>&gt; wrote:<br><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
 Do you have a &quot;PLTDRDEBUG&quot; environment variable defined?<br>
 <div><div></div><div class="Wj3C7c"><br>
 At Thu, 26 Jun 2008 20:51:46 -0600, &quot;Doug Williams&quot; wrote:<br>
 &gt; As an experiment, I tried reinstalling and running the initial science<br>
 &gt; collection load (that takes so long) as administrator. &nbsp;[I was thinking it<br>
 &gt; somehow thought the complied files didn&#39;t exist or something.] &nbsp;Anyway all<br>
 &gt; of the compiled directories now have an errortrace directory with the<br>
 &gt; compiled files in them. &nbsp;When I looked at the &#39;good&#39; installation, the new<br>
 &gt; PLT Scheme in VirtualStore, they are all compiled directories with<br>
 &gt; errortrace subdirectories with the compiled code.<br>
 &gt;<br>
 &gt; Do you know what the errortrace subdirectories are? &nbsp;And, why are they being<br>
 &gt; created? &nbsp;I assume that is the cause of the long download times.<br>
 &gt;<br>
 &gt; On Thu, Jun 26, 2008 at 8:38 PM, Eli Barzilay &lt;<a href="mailto:eli@barzilay.org">eli@barzilay.org</a>&gt; wrote:<br>
 &gt;<br>
 &gt; &gt; OK, I tried that on linux, and it worked fine. &nbsp;I&#39;ll try to see if I<br>
 &gt; &gt; can test it on Windows (XP) too.<br>
 &gt; &gt;<br>
 &gt; &gt;<br>
 &gt; &gt; On Jun 26, Doug Williams wrote:<br>
 &gt; &gt; &gt; Oops, make that (require (planet &quot;science.ss&quot; (&quot;williams&quot;<br>
 &gt; &gt; &quot;science.plt&quot;)))<br>
 &gt; &gt; &gt;<br>
 &gt; &gt; &gt; On Thu, Jun 26, 2008 at 8:19 PM, Doug Williams &lt;<br>
 &gt; &gt; <a href="mailto:m.douglas.williams@gmail.com">m.douglas.williams@gmail.com</a>&gt;<br>
 &gt; &gt; &gt; wrote:<br>
 &gt; &gt; &gt;<br>
 &gt; &gt; &gt; &gt; I only loaded the science collection. &nbsp;I&#39;m attaching a simple example<br>
 &gt; &gt; &gt; &gt; program that you can execute the requires it. &nbsp;Or, you can just<br>
 &gt; &gt; (require<br>
 &gt; &gt; &gt; &gt; (planet science.ss (&quot;williams&quot; &quot;science.plt&quot;))).<br>
 &gt; &gt;<br>
 &gt; &gt; --<br>
 &gt; &gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ((lambda (x) (x x)) (lambda (x) (x x))) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Eli Barzilay:<br>
 &gt; &gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="http://www.barzilay.org/" target="_blank">http://www.barzilay.org/</a> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Maze is Life!<br>
 &gt; &gt;<br>
 </div></div></blockquote></div><br>
 
 ------=_Part_7312_9401712.1214536639867--
From: "Doug Williams" <m.douglas.williams@gmail.com>
To: "Eli Barzilay" <eli@barzilay.org>
Cc: "Matthew Flatt" <mflatt@cs.utah.edu>, bugs@plt-scheme.org
Subject: Re: [plt-bug] all/9554: Can't Run V4.0.1 on Windows Vista Business as Normal User
Date: Thu, 26 Jun 2008 21:22:08 -0600

 ------=_Part_7331_9853127.1214536928416
 Content-Type: text/plain; charset=ISO-8859-1
 Content-Transfer-Encoding: 7bit
 Content-Disposition: inline
 
 We've had a pretty productive evening at least in understanding the various
 bugs.  I'm still not sure about the pop-up messages, could it be due to
 roaming profiles in Vista?
 
 On Thu, Jun 26, 2008 at 9:15 PM, Eli Barzilay <eli@barzilay.org> wrote:
 
 > On Jun 26, Doug Williams wrote:
 > > As an experiment, I tried reinstalling and running the initial
 > > science collection load (that takes so long) as administrator.  [I
 > > was thinking it somehow thought the complied files didn't exist or
 > > something.]  Anyway all of the compiled directories now have an
 > > errortrace directory with the compiled files in them.  When I looked
 > > at the 'good' installation, the new PLT Scheme in VirtualStore, they
 > > are all compiled directories with errortrace subdirectories with the
 > > compiled code.
 > >
 > > Do you know what the errortrace subdirectories are?  And, why are they
 > being
 > > created?  I assume that is the cause of the long download times.
 >
 > This might explain the long time too: looks like installing a planet
 > package in drscheme is instrumented with errortrace, which is
 > recompiling stuff from the plt tree (and it's slow, because errortrace
 > adds a lot of code), and also leads to writing in the PLT tree.
 >
 > I was able to recreate this by doing that require line from drscheme
 > -- if you run it in mzscheme, everything works as usual.
 >
 > (I'll file a different bug report since this is an unrelated problem.)
 >
 > --
 >           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
 >                  http://www.barzilay.org/                 Maze is Life!
 >
 
 ------=_Part_7331_9853127.1214536928416
 Content-Type: text/html; charset=ISO-8859-1
 Content-Transfer-Encoding: 7bit
 Content-Disposition: inline
 
 We&#39;ve had a pretty productive evening at least in understanding the various bugs.&nbsp; I&#39;m still not sure about the pop-up messages, could it be due to roaming profiles in Vista?<br><br><div class="gmail_quote">On Thu, Jun 26, 2008 at 9:15 PM, Eli Barzilay &lt;<a href="mailto:eli@barzilay.org">eli@barzilay.org</a>&gt; wrote:<br>
 <blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;"><div class="Ih2E3d">On Jun 26, Doug Williams wrote:<br>
 </div><div class="Ih2E3d">&gt; As an experiment, I tried reinstalling and running the initial<br>
 &gt; science collection load (that takes so long) as administrator. &nbsp;[I<br>
 &gt; was thinking it somehow thought the complied files didn&#39;t exist or<br>
 &gt; something.] &nbsp;Anyway all of the compiled directories now have an<br>
 &gt; errortrace directory with the compiled files in them. &nbsp;When I looked<br>
 &gt; at the &#39;good&#39; installation, the new PLT Scheme in VirtualStore, they<br>
 &gt; are all compiled directories with errortrace subdirectories with the<br>
 &gt; compiled code.<br>
 &gt;<br>
 &gt; Do you know what the errortrace subdirectories are? &nbsp;And, why are they being<br>
 &gt; created? &nbsp;I assume that is the cause of the long download times.<br>
 <br>
 </div>This might explain the long time too: looks like installing a planet<br>
 package in drscheme is instrumented with errortrace, which is<br>
 recompiling stuff from the plt tree (and it&#39;s slow, because errortrace<br>
 adds a lot of code), and also leads to writing in the PLT tree.<br>
 <br>
 I was able to recreate this by doing that require line from drscheme<br>
 -- if you run it in mzscheme, everything works as usual.<br>
 <br>
 (I&#39;ll file a different bug report since this is an unrelated problem.)<br>
 <font color="#888888"><br>
 --<br>
 </font><div><div></div><div class="Wj3C7c"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;((lambda (x) (x x)) (lambda (x) (x x))) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Eli Barzilay:<br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<a href="http://www.barzilay.org/" target="_blank">http://www.barzilay.org/</a> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Maze is Life!<br>
 </div></div></blockquote></div><br>
 
 ------=_Part_7331_9853127.1214536928416--
From: Eli Barzilay <eli@barzilay.org>
To: "Doug Williams" <m.douglas.williams@gmail.com>
Cc: "Matthew Flatt" <mflatt@cs.utah.edu>, bugs@plt-scheme.org
Subject: Re: [plt-bug] all/9554: Can't Run V4.0.1 on Windows Vista Business as Normal User
Date: Fri, 27 Jun 2008 00:33:16 -0400

 On Jun 26, Doug Williams wrote:
 > We've had a pretty productive evening at least in understanding the
 > various bugs.  I'm still not sure about the pop-up messages, could
 > it be due to roaming profiles in Vista?
 
 Pehaps -- that more than I can test though...
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!

State changed from "open" to "closed" by samth at Fri, 03 Feb 2012 18:48:28 -0500
Reason>>> Looks like this was resolved.


Responsible changed from "nobody" to "samth" by eli at Mon, 18 Feb 2013 23:40:40 -0500
Reason>>> samth closed

