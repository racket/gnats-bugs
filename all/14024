From bugs+caf_=bugs=bugs.plt-scheme.org@plt-scheme.org Mon Sep 16 10:42:05 2013
Return-Path: <apache@racket-lang.org>
Received: by 10.180.80.71 with SMTP id p7csp37680wix;
        Thu, 12 Sep 2013 13:40:18 -0700 (PDT)
Message-Id: <201309122040.r8CKeGS1012452@winooski.ccs.neu.edu>
Date: Thu, 12 Sep 2013 16:40:16 -0400
From: clements@racket-lang.org
To: bugs@racket-lang.org
Subject: slight TR regression when using match

>Number:         14024
>Category:       all
>Synopsis:       slight TR regression when using match
>Class:          sw-bug
>Responsible:    nobody
>Severity:       non-critical
>Priority:       medium
>State:          closed
>Confidential:   no
>Arrival-Date:   Mon Sep 16 10:44:59 -0400 2013
>Closed-Date:    Mon Oct 21 10:03:23 -0400 2013
>Last-Modified:  Mon Oct 21 10:03:23 -0400 2013
>Originator:     John Clements
>Organization:
plt
>Submitter-Id:   unknown
>Release:        5.90.0.9--2013-09-10(da4bb599/d)
>Environment:
macosx "Darwin pcp068239pcs.wireless.calpoly.edu 11.4.2 Darwin Kernel Version 11.4.2: Thu Aug 23 16:25:48 PDT 2012; root:xnu-1699.32.7~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
Human Language: english
(current-memory-use) 365148312
Links: (links) = (); (links #:user? #f) = (); (links #:root? #t) = (); (links #:user? #f #:root? #t) = (#<path:/Users/clements/rack-portaudio> #<path:/Users/clements/rsound>)
raco pkg (show):
/Users/clements/plt/racket/share/devel-pkgs:
 Package              Checksum    Source
 main-distribution    #f          (static-link ../../../pkgs/main-distribution)
 plt-services         #f          (static-link ../../../pkgs/plt-services)
 racket-lib           #f          (static-link ../../../pkgs/racket-pkgs/racket-lib)
 [168 auto-installed packages not shown]
Installation-wide:
 Package           Checksum    Source
 rack-portaudio    #f          (link ../../../../rack-portaudio)
 rsound            #f          (link ../../../../rsound)
User-specific for installation "development":
 [none]



Collections:
("/Users/clements/clements/collects"
 (".gitignore" "badger" "file-size-checker" "gradeserver" "info-domain" "jbc-gnucash" "mboxrd-read" "midi" "mnemisis" "projector" "shelly" "template-tester" "txomp" "web-utilities"))
("/Users/clements/clements/matthias/collects"
 ("info-domain" "web"))
("/Users/clements/Library/Racket/development/collects"
 (non-existent-path))
("/Users/clements/plt/racket/collects"
 (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket" "rackunit" "raco" "reader" "realm" "s-exp" "scheme" "setup" "srfi" "syntax" "unstable" "version" "xml"))

Recent Internal Errors: 
Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default) #() "#lang racket\n" #t #t ((main) (test)) #t))
>Description:
In version 5.3, this code typechecked:

#lang typed/racket
 
(: fir-filter ((Listof (List Nonnegative-Fixnum Real)) -> Any))
(define (fir-filter params)
  (match params
    [`((,delays ,amplitudes) ...)
     (+ 1 (apply max delays))]
    [other (error 'ouch)]))

... but in version da4bb5991f760fff53cd5e17, it doesn't (though a type annotation solves it)
>How-To-Repeat:
Run this code:
(: fir-filter ((Listof (List Nonnegative-Fixnum Real)) -> Any))
(define (fir-filter params)
  (match params
    [`((,delays ,amplitudes) ...)
     (+ 1 (apply max delays))]
    [other (error 'ouch)]))
>Fix:
>Audit-Trail:
From: Sam Tobin-Hochstadt <samth@cs.indiana.edu>
To: clements@racket-lang.org, bugs <bugs@racket-lang.org>,
        Eric Dobson <endobson@cs.brown.edu>,
        Asumu Takikawa <asumu@ccs.neu.edu>
Cc: nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14024: slight TR regression when using match
Date: Mon, 16 Sep 2013 10:50:15 -0400

 Eric + Asumu,
 
 I think you two did most of the changes in TR between these points.
 Any thoughts on what might have caused this?
 
 Sam
 
 On Mon, Sep 16, 2013 at 10:44 AM,  <clements@racket-lang.org> wrote:
 > A new problem report is waiting at
 >   http://bugs.racket-lang.org/query/?cmd=view&pr=14024
 >
 > Reported by John Clements for release: 5.90.0.9--2013-09-10(da4bb599/d)
 >
 > *** Description:
 > In version 5.3, this code typechecked:
 >
 > #lang typed/racket
 >
 > (: fir-filter ((Listof (List Nonnegative-Fixnum Real)) -> Any))
 > (define (fir-filter params)
 >   (match params
 >     [`((,delays ,amplitudes) ...)
 >      (+ 1 (apply max delays))]
 >     [other (error 'ouch)]))
 >
 > ... but in version da4bb5991f760fff53cd5e17, it doesn't (though a type annotation solves it)
 >
 > *** How to repeat:
 > Run this code:
 > (: fir-filter ((Listof (List Nonnegative-Fixnum Real)) -> Any))
 > (define (fir-filter params)
 >   (match params
 >     [`((,delays ,amplitudes) ...)
 >      (+ 1 (apply max delays))]
 >     [other (error 'ouch)]))
 >
 > *** Environment:
 > macosx "Darwin pcp068239pcs.wireless.calpoly.edu 11.4.2 Darwin Kernel Version 11.4.2: Thu Aug 23 16:25:48 PDT 2012; root:xnu-1699.32.7~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
 > Human Language: english
 > (current-memory-use) 365148312
 > Links: (links) = (); (links #:user? #f) = (); (links #:root? #t) = (); (links #:user? #f #:root? #t) = (#<path:/Users/clements/rack-portaudio> #<path:/Users/clements/rsound>)
 > raco pkg (show):
 > /Users/clements/plt/racket/share/devel-pkgs:
 >  Package              Checksum    Source
 >  main-distribution    #f          (static-link ../../../pkgs/main-distribution)
 >  plt-services         #f          (static-link ../../../pkgs/plt-services)
 >  racket-lib           #f          (static-link ../../../pkgs/racket-pkgs/racket-lib)
 >  [168 auto-installed packages not shown]
 > Installation-wide:
 >  Package           Checksum    Source
 >  rack-portaudio    #f          (link ../../../../rack-portaudio)
 >  rsound            #f          (link ../../../../rsound)
 > User-specific for installation "development":
 >  [none]
 >
 >
 >
 > Collections:
 > ("/Users/clements/clements/collects"
 >  (".gitignore" "badger" "file-size-checker" "gradeserver" "info-domain" "jbc-gnucash" "mboxrd-read" "midi" "mnemisis" "projector" "shelly" "template-tester" "txomp" "web-utilities"))
 > ("/Users/clements/clements/matthias/collects"
 >  ("info-domain" "web"))
 > ("/Users/clements/Library/Racket/development/collects"
 >  (non-existent-path))
 > ("/Users/clements/plt/racket/collects"
 >  (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket" "rackunit" "raco" "reader" "realm" "s-exp" "scheme" "setup" "srfi" "syntax" "unstable" "version" "xml"))
 >
 > Recent Internal Errors:
 > Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default) #() "#lang racket\n" #t #t ((main) (test)) #t))
 >
From: Eric Dobson <endobson@cs.brown.edu>
To: Sam Tobin-Hochstadt <samth@cs.indiana.edu>
Cc: clements@racket-lang.org, bugs <bugs@racket-lang.org>,
        Asumu Takikawa <asumu@ccs.neu.edu>, nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14024: slight TR regression when using match
Date: Mon, 16 Sep 2013 09:01:40 -0700

 Cannot think of anything that seems like it should have caused this. I
 changed a bit with expected types but don't think that is related. Has
 match changed its expansion at all? That seems like it could also
 cause issues.
 
 On Mon, Sep 16, 2013 at 7:50 AM, Sam Tobin-Hochstadt
 <samth@cs.indiana.edu> wrote:
 > Eric + Asumu,
 >
 > I think you two did most of the changes in TR between these points.
 > Any thoughts on what might have caused this?
 >
 > Sam
 >
 > On Mon, Sep 16, 2013 at 10:44 AM,  <clements@racket-lang.org> wrote:
 >> A new problem report is waiting at
 >>   http://bugs.racket-lang.org/query/?cmd=view&pr=14024
 >>
 >> Reported by John Clements for release: 5.90.0.9--2013-09-10(da4bb599/d)
 >>
 >> *** Description:
 >> In version 5.3, this code typechecked:
 >>
 >> #lang typed/racket
 >>
 >> (: fir-filter ((Listof (List Nonnegative-Fixnum Real)) -> Any))
 >> (define (fir-filter params)
 >>   (match params
 >>     [`((,delays ,amplitudes) ...)
 >>      (+ 1 (apply max delays))]
 >>     [other (error 'ouch)]))
 >>
 >> ... but in version da4bb5991f760fff53cd5e17, it doesn't (though a type annotation solves it)
 >>
 >> *** How to repeat:
 >> Run this code:
 >> (: fir-filter ((Listof (List Nonnegative-Fixnum Real)) -> Any))
 >> (define (fir-filter params)
 >>   (match params
 >>     [`((,delays ,amplitudes) ...)
 >>      (+ 1 (apply max delays))]
 >>     [other (error 'ouch)]))
 >>
 >> *** Environment:
 >> macosx "Darwin pcp068239pcs.wireless.calpoly.edu 11.4.2 Darwin Kernel Version 11.4.2: Thu Aug 23 16:25:48 PDT 2012; root:xnu-1699.32.7~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
 >> Human Language: english
 >> (current-memory-use) 365148312
 >> Links: (links) = (); (links #:user? #f) = (); (links #:root? #t) = (); (links #:user? #f #:root? #t) = (#<path:/Users/clements/rack-portaudio> #<path:/Users/clements/rsound>)
 >> raco pkg (show):
 >> /Users/clements/plt/racket/share/devel-pkgs:
 >>  Package              Checksum    Source
 >>  main-distribution    #f          (static-link ../../../pkgs/main-distribution)
 >>  plt-services         #f          (static-link ../../../pkgs/plt-services)
 >>  racket-lib           #f          (static-link ../../../pkgs/racket-pkgs/racket-lib)
 >>  [168 auto-installed packages not shown]
 >> Installation-wide:
 >>  Package           Checksum    Source
 >>  rack-portaudio    #f          (link ../../../../rack-portaudio)
 >>  rsound            #f          (link ../../../../rsound)
 >> User-specific for installation "development":
 >>  [none]
 >>
 >>
 >>
 >> Collections:
 >> ("/Users/clements/clements/collects"
 >>  (".gitignore" "badger" "file-size-checker" "gradeserver" "info-domain" "jbc-gnucash" "mboxrd-read" "midi" "mnemisis" "projector" "shelly" "template-tester" "txomp" "web-utilities"))
 >> ("/Users/clements/clements/matthias/collects"
 >>  ("info-domain" "web"))
 >> ("/Users/clements/Library/Racket/development/collects"
 >>  (non-existent-path))
 >> ("/Users/clements/plt/racket/collects"
 >>  (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket" "rackunit" "raco" "reader" "realm" "s-exp" "scheme" "setup" "srfi" "syntax" "unstable" "version" "xml"))
 >>
 >> Recent Internal Errors:
 >> Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default) #() "#lang racket\n" #t #t ((main) (test)) #t))
 >>
From: Sam Tobin-Hochstadt <samth@cs.indiana.edu>
To: Eric Dobson <endobson@cs.brown.edu>
Cc: clements@racket-lang.org, bugs <bugs@racket-lang.org>,
        Asumu Takikawa <asumu@ccs.neu.edu>, nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14024: slight TR regression when using match
Date: Mon, 16 Sep 2013 12:05:45 -0400

 Frustratingly, I can't get git to show me a history for a directory
 past the latest reorganization moves, but I don't think anything
 changed there.
 
 John, are you willing to try bisecting?
 
 Sam
 
 On Mon, Sep 16, 2013 at 12:01 PM, Eric Dobson <endobson@cs.brown.edu> wrote:
 > Cannot think of anything that seems like it should have caused this. I
 > changed a bit with expected types but don't think that is related. Has
 > match changed its expansion at all? That seems like it could also
 > cause issues.
 >
 > On Mon, Sep 16, 2013 at 7:50 AM, Sam Tobin-Hochstadt
 > <samth@cs.indiana.edu> wrote:
 >> Eric + Asumu,
 >>
 >> I think you two did most of the changes in TR between these points.
 >> Any thoughts on what might have caused this?
 >>
 >> Sam
 >>
 >> On Mon, Sep 16, 2013 at 10:44 AM,  <clements@racket-lang.org> wrote:
 >>> A new problem report is waiting at
 >>>   http://bugs.racket-lang.org/query/?cmd=view&pr=14024
 >>>
 >>> Reported by John Clements for release: 5.90.0.9--2013-09-10(da4bb599/d)
 >>>
 >>> *** Description:
 >>> In version 5.3, this code typechecked:
 >>>
 >>> #lang typed/racket
 >>>
 >>> (: fir-filter ((Listof (List Nonnegative-Fixnum Real)) -> Any))
 >>> (define (fir-filter params)
 >>>   (match params
 >>>     [`((,delays ,amplitudes) ...)
 >>>      (+ 1 (apply max delays))]
 >>>     [other (error 'ouch)]))
 >>>
 >>> ... but in version da4bb5991f760fff53cd5e17, it doesn't (though a type annotation solves it)
 >>>
 >>> *** How to repeat:
 >>> Run this code:
 >>> (: fir-filter ((Listof (List Nonnegative-Fixnum Real)) -> Any))
 >>> (define (fir-filter params)
 >>>   (match params
 >>>     [`((,delays ,amplitudes) ...)
 >>>      (+ 1 (apply max delays))]
 >>>     [other (error 'ouch)]))
 >>>
 >>> *** Environment:
 >>> macosx "Darwin pcp068239pcs.wireless.calpoly.edu 11.4.2 Darwin Kernel Version 11.4.2: Thu Aug 23 16:25:48 PDT 2012; root:xnu-1699.32.7~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
 >>> Human Language: english
 >>> (current-memory-use) 365148312
 >>> Links: (links) = (); (links #:user? #f) = (); (links #:root? #t) = (); (links #:user? #f #:root? #t) = (#<path:/Users/clements/rack-portaudio> #<path:/Users/clements/rsound>)
 >>> raco pkg (show):
 >>> /Users/clements/plt/racket/share/devel-pkgs:
 >>>  Package              Checksum    Source
 >>>  main-distribution    #f          (static-link ../../../pkgs/main-distribution)
 >>>  plt-services         #f          (static-link ../../../pkgs/plt-services)
 >>>  racket-lib           #f          (static-link ../../../pkgs/racket-pkgs/racket-lib)
 >>>  [168 auto-installed packages not shown]
 >>> Installation-wide:
 >>>  Package           Checksum    Source
 >>>  rack-portaudio    #f          (link ../../../../rack-portaudio)
 >>>  rsound            #f          (link ../../../../rsound)
 >>> User-specific for installation "development":
 >>>  [none]
 >>>
 >>>
 >>>
 >>> Collections:
 >>> ("/Users/clements/clements/collects"
 >>>  (".gitignore" "badger" "file-size-checker" "gradeserver" "info-domain" "jbc-gnucash" "mboxrd-read" "midi" "mnemisis" "projector" "shelly" "template-tester" "txomp" "web-utilities"))
 >>> ("/Users/clements/clements/matthias/collects"
 >>>  ("info-domain" "web"))
 >>> ("/Users/clements/Library/Racket/development/collects"
 >>>  (non-existent-path))
 >>> ("/Users/clements/plt/racket/collects"
 >>>  (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket" "rackunit" "raco" "reader" "realm" "s-exp" "scheme" "setup" "srfi" "syntax" "unstable" "version" "xml"))
 >>>
 >>> Recent Internal Errors:
 >>> Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default) #() "#lang racket\n" #t #t ((main) (test)) #t))
 >>>
From: Eric Dobson <endobson@cs.brown.edu>
To: Sam Tobin-Hochstadt <samth@cs.indiana.edu>
Cc: clements@racket-lang.org, bugs <bugs@racket-lang.org>,
        Asumu Takikawa <asumu@ccs.neu.edu>, nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14024: slight TR regression when using match
Date: Mon, 16 Sep 2013 09:10:50 -0700

 Also note that version 5.3 is over a year old, if we could even get us
 a bug fix revsion that introduced the issue we would be in a better
 place to debug.
 
 On Mon, Sep 16, 2013 at 9:05 AM, Sam Tobin-Hochstadt
 <samth@cs.indiana.edu> wrote:
 > Frustratingly, I can't get git to show me a history for a directory
 > past the latest reorganization moves, but I don't think anything
 > changed there.
 >
 > John, are you willing to try bisecting?
 >
 > Sam
 >
 > On Mon, Sep 16, 2013 at 12:01 PM, Eric Dobson <endobson@cs.brown.edu> wrote:
 >> Cannot think of anything that seems like it should have caused this. I
 >> changed a bit with expected types but don't think that is related. Has
 >> match changed its expansion at all? That seems like it could also
 >> cause issues.
 >>
 >> On Mon, Sep 16, 2013 at 7:50 AM, Sam Tobin-Hochstadt
 >> <samth@cs.indiana.edu> wrote:
 >>> Eric + Asumu,
 >>>
 >>> I think you two did most of the changes in TR between these points.
 >>> Any thoughts on what might have caused this?
 >>>
 >>> Sam
 >>>
 >>> On Mon, Sep 16, 2013 at 10:44 AM,  <clements@racket-lang.org> wrote:
 >>>> A new problem report is waiting at
 >>>>   http://bugs.racket-lang.org/query/?cmd=view&pr=14024
 >>>>
 >>>> Reported by John Clements for release: 5.90.0.9--2013-09-10(da4bb599/d)
 >>>>
 >>>> *** Description:
 >>>> In version 5.3, this code typechecked:
 >>>>
 >>>> #lang typed/racket
 >>>>
 >>>> (: fir-filter ((Listof (List Nonnegative-Fixnum Real)) -> Any))
 >>>> (define (fir-filter params)
 >>>>   (match params
 >>>>     [`((,delays ,amplitudes) ...)
 >>>>      (+ 1 (apply max delays))]
 >>>>     [other (error 'ouch)]))
 >>>>
 >>>> ... but in version da4bb5991f760fff53cd5e17, it doesn't (though a type annotation solves it)
 >>>>
 >>>> *** How to repeat:
 >>>> Run this code:
 >>>> (: fir-filter ((Listof (List Nonnegative-Fixnum Real)) -> Any))
 >>>> (define (fir-filter params)
 >>>>   (match params
 >>>>     [`((,delays ,amplitudes) ...)
 >>>>      (+ 1 (apply max delays))]
 >>>>     [other (error 'ouch)]))
 >>>>
 >>>> *** Environment:
 >>>> macosx "Darwin pcp068239pcs.wireless.calpoly.edu 11.4.2 Darwin Kernel Version 11.4.2: Thu Aug 23 16:25:48 PDT 2012; root:xnu-1699.32.7~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
 >>>> Human Language: english
 >>>> (current-memory-use) 365148312
 >>>> Links: (links) = (); (links #:user? #f) = (); (links #:root? #t) = (); (links #:user? #f #:root? #t) = (#<path:/Users/clements/rack-portaudio> #<path:/Users/clements/rsound>)
 >>>> raco pkg (show):
 >>>> /Users/clements/plt/racket/share/devel-pkgs:
 >>>>  Package              Checksum    Source
 >>>>  main-distribution    #f          (static-link ../../../pkgs/main-distribution)
 >>>>  plt-services         #f          (static-link ../../../pkgs/plt-services)
 >>>>  racket-lib           #f          (static-link ../../../pkgs/racket-pkgs/racket-lib)
 >>>>  [168 auto-installed packages not shown]
 >>>> Installation-wide:
 >>>>  Package           Checksum    Source
 >>>>  rack-portaudio    #f          (link ../../../../rack-portaudio)
 >>>>  rsound            #f          (link ../../../../rsound)
 >>>> User-specific for installation "development":
 >>>>  [none]
 >>>>
 >>>>
 >>>>
 >>>> Collections:
 >>>> ("/Users/clements/clements/collects"
 >>>>  (".gitignore" "badger" "file-size-checker" "gradeserver" "info-domain" "jbc-gnucash" "mboxrd-read" "midi" "mnemisis" "projector" "shelly" "template-tester" "txomp" "web-utilities"))
 >>>> ("/Users/clements/clements/matthias/collects"
 >>>>  ("info-domain" "web"))
 >>>> ("/Users/clements/Library/Racket/development/collects"
 >>>>  (non-existent-path))
 >>>> ("/Users/clements/plt/racket/collects"
 >>>>  (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket" "rackunit" "raco" "reader" "realm" "s-exp" "scheme" "setup" "srfi" "syntax" "unstable" "version" "xml"))
 >>>>
 >>>> Recent Internal Errors:
 >>>> Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default) #() "#lang racket\n" #t #t ((main) (test)) #t))
 >>>>
From: Eric Dobson <endobson@cs.brown.edu>
To: Sam Tobin-Hochstadt <samth@cs.indiana.edu>
Cc: clements@racket-lang.org, bugs <bugs@racket-lang.org>,
        Asumu Takikawa <asumu@ccs.neu.edu>, nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14024: slight TR regression when using match
Date: Mon, 16 Sep 2013 09:56:23 -0700

 My testing shows that it works for all released versions of racket,
 thus it is a change that was made after the cut for 5.3.5 and didn't
 make it into the cherry pick for 5.3.6.
 
 On Mon, Sep 16, 2013 at 9:10 AM, Eric Dobson <endobson@cs.brown.edu> wrote:
 > Also note that version 5.3 is over a year old, if we could even get us
 > a bug fix revsion that introduced the issue we would be in a better
 > place to debug.
 >
 > On Mon, Sep 16, 2013 at 9:05 AM, Sam Tobin-Hochstadt
 > <samth@cs.indiana.edu> wrote:
 >> Frustratingly, I can't get git to show me a history for a directory
 >> past the latest reorganization moves, but I don't think anything
 >> changed there.
 >>
 >> John, are you willing to try bisecting?
 >>
 >> Sam
 >>
 >> On Mon, Sep 16, 2013 at 12:01 PM, Eric Dobson <endobson@cs.brown.edu> wrote:
 >>> Cannot think of anything that seems like it should have caused this. I
 >>> changed a bit with expected types but don't think that is related. Has
 >>> match changed its expansion at all? That seems like it could also
 >>> cause issues.
 >>>
 >>> On Mon, Sep 16, 2013 at 7:50 AM, Sam Tobin-Hochstadt
 >>> <samth@cs.indiana.edu> wrote:
 >>>> Eric + Asumu,
 >>>>
 >>>> I think you two did most of the changes in TR between these points.
 >>>> Any thoughts on what might have caused this?
 >>>>
 >>>> Sam
 >>>>
 >>>> On Mon, Sep 16, 2013 at 10:44 AM,  <clements@racket-lang.org> wrote:
 >>>>> A new problem report is waiting at
 >>>>>   http://bugs.racket-lang.org/query/?cmd=view&pr=14024
 >>>>>
 >>>>> Reported by John Clements for release: 5.90.0.9--2013-09-10(da4bb599/d)
 >>>>>
 >>>>> *** Description:
 >>>>> In version 5.3, this code typechecked:
 >>>>>
 >>>>> #lang typed/racket
 >>>>>
 >>>>> (: fir-filter ((Listof (List Nonnegative-Fixnum Real)) -> Any))
 >>>>> (define (fir-filter params)
 >>>>>   (match params
 >>>>>     [`((,delays ,amplitudes) ...)
 >>>>>      (+ 1 (apply max delays))]
 >>>>>     [other (error 'ouch)]))
 >>>>>
 >>>>> ... but in version da4bb5991f760fff53cd5e17, it doesn't (though a type annotation solves it)
 >>>>>
 >>>>> *** How to repeat:
 >>>>> Run this code:
 >>>>> (: fir-filter ((Listof (List Nonnegative-Fixnum Real)) -> Any))
 >>>>> (define (fir-filter params)
 >>>>>   (match params
 >>>>>     [`((,delays ,amplitudes) ...)
 >>>>>      (+ 1 (apply max delays))]
 >>>>>     [other (error 'ouch)]))
 >>>>>
 >>>>> *** Environment:
 >>>>> macosx "Darwin pcp068239pcs.wireless.calpoly.edu 11.4.2 Darwin Kernel Version 11.4.2: Thu Aug 23 16:25:48 PDT 2012; root:xnu-1699.32.7~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
 >>>>> Human Language: english
 >>>>> (current-memory-use) 365148312
 >>>>> Links: (links) = (); (links #:user? #f) = (); (links #:root? #t) = (); (links #:user? #f #:root? #t) = (#<path:/Users/clements/rack-portaudio> #<path:/Users/clements/rsound>)
 >>>>> raco pkg (show):
 >>>>> /Users/clements/plt/racket/share/devel-pkgs:
 >>>>>  Package              Checksum    Source
 >>>>>  main-distribution    #f          (static-link ../../../pkgs/main-distribution)
 >>>>>  plt-services         #f          (static-link ../../../pkgs/plt-services)
 >>>>>  racket-lib           #f          (static-link ../../../pkgs/racket-pkgs/racket-lib)
 >>>>>  [168 auto-installed packages not shown]
 >>>>> Installation-wide:
 >>>>>  Package           Checksum    Source
 >>>>>  rack-portaudio    #f          (link ../../../../rack-portaudio)
 >>>>>  rsound            #f          (link ../../../../rsound)
 >>>>> User-specific for installation "development":
 >>>>>  [none]
 >>>>>
 >>>>>
 >>>>>
 >>>>> Collections:
 >>>>> ("/Users/clements/clements/collects"
 >>>>>  (".gitignore" "badger" "file-size-checker" "gradeserver" "info-domain" "jbc-gnucash" "mboxrd-read" "midi" "mnemisis" "projector" "shelly" "template-tester" "txomp" "web-utilities"))
 >>>>> ("/Users/clements/clements/matthias/collects"
 >>>>>  ("info-domain" "web"))
 >>>>> ("/Users/clements/Library/Racket/development/collects"
 >>>>>  (non-existent-path))
 >>>>> ("/Users/clements/plt/racket/collects"
 >>>>>  (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket" "rackunit" "raco" "reader" "realm" "s-exp" "scheme" "setup" "srfi" "syntax" "unstable" "version" "xml"))
 >>>>>
 >>>>> Recent Internal Errors:
 >>>>> Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default) #() "#lang racket\n" #t #t ((main) (test)) #t))
 >>>>>
From: Eric Dobson <endobson@cs.brown.edu>
To: Sam Tobin-Hochstadt <samth@cs.indiana.edu>
Cc: clements@racket-lang.org, bugs <bugs@racket-lang.org>,
        Asumu Takikawa <asumu@ccs.neu.edu>, nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14024: slight TR regression when using match
Date: Mon, 16 Sep 2013 22:38:54 -0700

 --e89a8f3b9da98b993604e68dbcaa
 Content-Type: text/plain; charset=UTF-8
 
 Found it,
 https://github.com/plt/racket/commit/328956e8b5cd9b9c6256b1eac4f46aec98ce2a5d
 .
 
 The following program shows that this program was actually abusing the bug.
 
 #lang typed/racket
 
 (: fir-filter ((Listof (List Nonnegative-Fixnum Real)) -> Any))
 (define (fir-filter params)
   (match params
     [`((,delays ,amplitudes) ...)
      (+ 1 (apply max (ann delays (Listof Any))))]
     [other (error 'ouch)]))
 
 So TR was never smart enough to type this without annotations. Making it
 that smart would be nice but I doubt that will happen soon because match's
 expansion is complicated, so the short term solution is annotations.
 
 
 On Mon, Sep 16, 2013 at 9:56 AM, Eric Dobson <endobson@cs.brown.edu> wrote:
 
 > My testing shows that it works for all released versions of racket,
 > thus it is a change that was made after the cut for 5.3.5 and didn't
 > make it into the cherry pick for 5.3.6.
 >
 > On Mon, Sep 16, 2013 at 9:10 AM, Eric Dobson <endobson@cs.brown.edu>
 > wrote:
 > > Also note that version 5.3 is over a year old, if we could even get us
 > > a bug fix revsion that introduced the issue we would be in a better
 > > place to debug.
 > >
 > > On Mon, Sep 16, 2013 at 9:05 AM, Sam Tobin-Hochstadt
 > > <samth@cs.indiana.edu> wrote:
 > >> Frustratingly, I can't get git to show me a history for a directory
 > >> past the latest reorganization moves, but I don't think anything
 > >> changed there.
 > >>
 > >> John, are you willing to try bisecting?
 > >>
 > >> Sam
 > >>
 > >> On Mon, Sep 16, 2013 at 12:01 PM, Eric Dobson <endobson@cs.brown.edu>
 > wrote:
 > >>> Cannot think of anything that seems like it should have caused this. I
 > >>> changed a bit with expected types but don't think that is related. Has
 > >>> match changed its expansion at all? That seems like it could also
 > >>> cause issues.
 > >>>
 > >>> On Mon, Sep 16, 2013 at 7:50 AM, Sam Tobin-Hochstadt
 > >>> <samth@cs.indiana.edu> wrote:
 > >>>> Eric + Asumu,
 > >>>>
 > >>>> I think you two did most of the changes in TR between these points.
 > >>>> Any thoughts on what might have caused this?
 > >>>>
 > >>>> Sam
 > >>>>
 > >>>> On Mon, Sep 16, 2013 at 10:44 AM,  <clements@racket-lang.org> wrote:
 > >>>>> A new problem report is waiting at
 > >>>>>   http://bugs.racket-lang.org/query/?cmd=view&pr=14024
 > >>>>>
 > >>>>> Reported by John Clements for release:
 > 5.90.0.9--2013-09-10(da4bb599/d)
 > >>>>>
 > >>>>> *** Description:
 > >>>>> In version 5.3, this code typechecked:
 > >>>>>
 > >>>>> #lang typed/racket
 > >>>>>
 > >>>>> (: fir-filter ((Listof (List Nonnegative-Fixnum Real)) -> Any))
 > >>>>> (define (fir-filter params)
 > >>>>>   (match params
 > >>>>>     [`((,delays ,amplitudes) ...)
 > >>>>>      (+ 1 (apply max delays))]
 > >>>>>     [other (error 'ouch)]))
 > >>>>>
 > >>>>> ... but in version da4bb5991f760fff53cd5e17, it doesn't (though a
 > type annotation solves it)
 > >>>>>
 > >>>>> *** How to repeat:
 > >>>>> Run this code:
 > >>>>> (: fir-filter ((Listof (List Nonnegative-Fixnum Real)) -> Any))
 > >>>>> (define (fir-filter params)
 > >>>>>   (match params
 > >>>>>     [`((,delays ,amplitudes) ...)
 > >>>>>      (+ 1 (apply max delays))]
 > >>>>>     [other (error 'ouch)]))
 > >>>>>
 > >>>>> *** Environment:
 > >>>>> macosx "Darwin pcp068239pcs.wireless.calpoly.edu 11.4.2 Darwin
 > Kernel Version 11.4.2: Thu Aug 23 16:25:48 PDT 2012;
 > root:xnu-1699.32.7~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m)
 > (get-display-depth) = 32
 > >>>>> Human Language: english
 > >>>>> (current-memory-use) 365148312
 > >>>>> Links: (links) = (); (links #:user? #f) = (); (links #:root? #t) =
 > (); (links #:user? #f #:root? #t) = (#<path:/Users/clements/rack-portaudio>
 > #<path:/Users/clements/rsound>)
 > >>>>> raco pkg (show):
 > >>>>> /Users/clements/plt/racket/share/devel-pkgs:
 > >>>>>  Package              Checksum    Source
 > >>>>>  main-distribution    #f          (static-link
 > ../../../pkgs/main-distribution)
 > >>>>>  plt-services         #f          (static-link
 > ../../../pkgs/plt-services)
 > >>>>>  racket-lib           #f          (static-link
 > ../../../pkgs/racket-pkgs/racket-lib)
 > >>>>>  [168 auto-installed packages not shown]
 > >>>>> Installation-wide:
 > >>>>>  Package           Checksum    Source
 > >>>>>  rack-portaudio    #f          (link ../../../../rack-portaudio)
 > >>>>>  rsound            #f          (link ../../../../rsound)
 > >>>>> User-specific for installation "development":
 > >>>>>  [none]
 > >>>>>
 > >>>>>
 > >>>>>
 > >>>>> Collections:
 > >>>>> ("/Users/clements/clements/collects"
 > >>>>>  (".gitignore" "badger" "file-size-checker" "gradeserver"
 > "info-domain" "jbc-gnucash" "mboxrd-read" "midi" "mnemisis" "projector"
 > "shelly" "template-tester" "txomp" "web-utilities"))
 > >>>>> ("/Users/clements/clements/matthias/collects"
 > >>>>>  ("info-domain" "web"))
 > >>>>> ("/Users/clements/Library/Racket/development/collects"
 > >>>>>  (non-existent-path))
 > >>>>> ("/Users/clements/plt/racket/collects"
 > >>>>>  (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file"
 > "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet"
 > "racket" "rackunit" "raco" "reader" "realm" "s-exp" "scheme" "setup" "srfi"
 > "syntax" "unstable" "version" "xml"))
 > >>>>>
 > >>>>> Recent Internal Errors:
 > >>>>> Computer Language: (("Determine language from source") (#(#t print
 > mixed-fraction-e #f #t debug) (default) #() "#lang racket\n" #t #t ((main)
 > (test)) #t))
 > >>>>>
 >
 
 --e89a8f3b9da98b993604e68dbcaa
 Content-Type: text/html; charset=UTF-8
 Content-Transfer-Encoding: quoted-printable
 
 <div dir=3D"ltr">Found it, <a href=3D"https://github.com/plt/racket/commit/=
 328956e8b5cd9b9c6256b1eac4f46aec98ce2a5d">https://github.com/plt/racket/com=
 mit/328956e8b5cd9b9c6256b1eac4f46aec98ce2a5d</a>.<br><br>The following prog=
 ram shows that this program was actually abusing the bug.<div>
 <br>#lang typed/racket<br><br>(: fir-filter ((Listof (List Nonnegative-Fixn=
 um Real)) -&gt; Any))<br>(define (fir-filter params)<br>=C2=A0 (match param=
 s<br>=C2=A0 =C2=A0 [`((,delays ,amplitudes) ...)<br>=C2=A0 =C2=A0 =C2=A0(+ =
 1 (apply max (ann delays (Listof Any))))]<br>
 =C2=A0 =C2=A0 [other (error &#39;ouch)]))<br></div><div><br></div><div>So T=
 R was never smart enough to type this without annotations. Making it that s=
 mart would be nice but I doubt that will happen soon because match&#39;s ex=
 pansion is complicated, so the short term solution is annotations.</div>
 </div><div class=3D"gmail_extra"><br><br><div class=3D"gmail_quote">On Mon,=
  Sep 16, 2013 at 9:56 AM, Eric Dobson <span dir=3D"ltr">&lt;<a href=3D"mail=
 to:endobson@cs.brown.edu" target=3D"_blank">endobson@cs.brown.edu</a>&gt;</=
 span> wrote:<br>
 <blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
 x #ccc solid;padding-left:1ex">My testing shows that it works for all relea=
 sed versions of racket,<br>
 thus it is a change that was made after the cut for 5.3.5 and didn&#39;t<br=
 >
 make it into the cherry pick for 5.3.6.<br>
 <div class=3D"HOEnZb"><div class=3D"h5"><br>
 On Mon, Sep 16, 2013 at 9:10 AM, Eric Dobson &lt;<a href=3D"mailto:endobson=
 @cs.brown.edu">endobson@cs.brown.edu</a>&gt; wrote:<br>
 &gt; Also note that version 5.3 is over a year old, if we could even get us=
 <br>
 &gt; a bug fix revsion that introduced the issue we would be in a better<br=
 >
 &gt; place to debug.<br>
 &gt;<br>
 &gt; On Mon, Sep 16, 2013 at 9:05 AM, Sam Tobin-Hochstadt<br>
 &gt; &lt;<a href=3D"mailto:samth@cs.indiana.edu">samth@cs.indiana.edu</a>&g=
 t; wrote:<br>
 &gt;&gt; Frustratingly, I can&#39;t get git to show me a history for a dire=
 ctory<br>
 &gt;&gt; past the latest reorganization moves, but I don&#39;t think anythi=
 ng<br>
 &gt;&gt; changed there.<br>
 &gt;&gt;<br>
 &gt;&gt; John, are you willing to try bisecting?<br>
 &gt;&gt;<br>
 &gt;&gt; Sam<br>
 &gt;&gt;<br>
 &gt;&gt; On Mon, Sep 16, 2013 at 12:01 PM, Eric Dobson &lt;<a href=3D"mailt=
 o:endobson@cs.brown.edu">endobson@cs.brown.edu</a>&gt; wrote:<br>
 &gt;&gt;&gt; Cannot think of anything that seems like it should have caused=
  this. I<br>
 &gt;&gt;&gt; changed a bit with expected types but don&#39;t think that is =
 related. Has<br>
 &gt;&gt;&gt; match changed its expansion at all? That seems like it could a=
 lso<br>
 &gt;&gt;&gt; cause issues.<br>
 &gt;&gt;&gt;<br>
 &gt;&gt;&gt; On Mon, Sep 16, 2013 at 7:50 AM, Sam Tobin-Hochstadt<br>
 &gt;&gt;&gt; &lt;<a href=3D"mailto:samth@cs.indiana.edu">samth@cs.indiana.e=
 du</a>&gt; wrote:<br>
 &gt;&gt;&gt;&gt; Eric + Asumu,<br>
 &gt;&gt;&gt;&gt;<br>
 &gt;&gt;&gt;&gt; I think you two did most of the changes in TR between thes=
 e points.<br>
 &gt;&gt;&gt;&gt; Any thoughts on what might have caused this?<br>
 &gt;&gt;&gt;&gt;<br>
 &gt;&gt;&gt;&gt; Sam<br>
 &gt;&gt;&gt;&gt;<br>
 &gt;&gt;&gt;&gt; On Mon, Sep 16, 2013 at 10:44 AM, =C2=A0&lt;<a href=3D"mai=
 lto:clements@racket-lang.org">clements@racket-lang.org</a>&gt; wrote:<br>
 &gt;&gt;&gt;&gt;&gt; A new problem report is waiting at<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0 <a href=3D"http://bugs.racket-lang.org/query/?c=
 md=3Dview&amp;pr=3D14024" target=3D"_blank">http://bugs.racket-lang.org/que=
 ry/?cmd=3Dview&amp;pr=3D14024</a><br>
 &gt;&gt;&gt;&gt;&gt;<br>
 &gt;&gt;&gt;&gt;&gt; Reported by John Clements for release: 5.90.0.9--2013-=
 09-10(da4bb599/d)<br>
 &gt;&gt;&gt;&gt;&gt;<br>
 &gt;&gt;&gt;&gt;&gt; *** Description:<br>
 &gt;&gt;&gt;&gt;&gt; In version 5.3, this code typechecked:<br>
 &gt;&gt;&gt;&gt;&gt;<br>
 &gt;&gt;&gt;&gt;&gt; #lang typed/racket<br>
 &gt;&gt;&gt;&gt;&gt;<br>
 &gt;&gt;&gt;&gt;&gt; (: fir-filter ((Listof (List Nonnegative-Fixnum Real))=
  -&gt; Any))<br>
 &gt;&gt;&gt;&gt;&gt; (define (fir-filter params)<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0 (match params<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0 =C2=A0 [`((,delays ,amplitudes) ...)<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0 =C2=A0 =C2=A0(+ 1 (apply max delays))]<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0 =C2=A0 [other (error &#39;ouch)]))<br>
 &gt;&gt;&gt;&gt;&gt;<br>
 &gt;&gt;&gt;&gt;&gt; ... but in version da4bb5991f760fff53cd5e17, it doesn&=
 #39;t (though a type annotation solves it)<br>
 &gt;&gt;&gt;&gt;&gt;<br>
 &gt;&gt;&gt;&gt;&gt; *** How to repeat:<br>
 &gt;&gt;&gt;&gt;&gt; Run this code:<br>
 &gt;&gt;&gt;&gt;&gt; (: fir-filter ((Listof (List Nonnegative-Fixnum Real))=
  -&gt; Any))<br>
 &gt;&gt;&gt;&gt;&gt; (define (fir-filter params)<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0 (match params<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0 =C2=A0 [`((,delays ,amplitudes) ...)<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0 =C2=A0 =C2=A0(+ 1 (apply max delays))]<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0 =C2=A0 [other (error &#39;ouch)]))<br>
 &gt;&gt;&gt;&gt;&gt;<br>
 &gt;&gt;&gt;&gt;&gt; *** Environment:<br>
 &gt;&gt;&gt;&gt;&gt; macosx &quot;Darwin <a href=3D"http://pcp068239pcs.wir=
 eless.calpoly.edu" target=3D"_blank">pcp068239pcs.wireless.calpoly.edu</a> =
 11.4.2 Darwin Kernel Version 11.4.2: Thu Aug 23 16:25:48 PDT 2012; root:xnu=
 -1699.32.7~1/RELEASE_X86_64 x86_64&quot; (x86_64-macosx/3m) (get-display-de=
 pth) =3D 32<br>
 
 &gt;&gt;&gt;&gt;&gt; Human Language: english<br>
 &gt;&gt;&gt;&gt;&gt; (current-memory-use) 365148312<br>
 &gt;&gt;&gt;&gt;&gt; Links: (links) =3D (); (links #:user? #f) =3D (); (lin=
 ks #:root? #t) =3D (); (links #:user? #f #:root? #t) =3D (#&lt;path:/Users/=
 clements/rack-portaudio&gt; #&lt;path:/Users/clements/rsound&gt;)<br>
 &gt;&gt;&gt;&gt;&gt; raco pkg (show):<br>
 &gt;&gt;&gt;&gt;&gt; /Users/clements/plt/racket/share/devel-pkgs:<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0Package =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0Checksum =C2=A0 =C2=A0Source<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0main-distribution =C2=A0 =C2=A0#f =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0(static-link ../../../pkgs/main-distribution)<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0plt-services =C2=A0 =C2=A0 =C2=A0 =C2=A0 #f =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(static-link ../../../pkgs/plt-services)<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0racket-lib =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 #f=
  =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(static-link ../../../pkgs/racket-pkgs/r=
 acket-lib)<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0[168 auto-installed packages not shown]<br>
 &gt;&gt;&gt;&gt;&gt; Installation-wide:<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0Package =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Check=
 sum =C2=A0 =C2=A0Source<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0rack-portaudio =C2=A0 =C2=A0#f =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0(link ../../../../rack-portaudio)<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0rsound =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 #f =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(link ../../../../rsound)<br>
 &gt;&gt;&gt;&gt;&gt; User-specific for installation &quot;development&quot;=
 :<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0[none]<br>
 &gt;&gt;&gt;&gt;&gt;<br>
 &gt;&gt;&gt;&gt;&gt;<br>
 &gt;&gt;&gt;&gt;&gt;<br>
 &gt;&gt;&gt;&gt;&gt; Collections:<br>
 &gt;&gt;&gt;&gt;&gt; (&quot;/Users/clements/clements/collects&quot;<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0(&quot;.gitignore&quot; &quot;badger&quot; &quot=
 ;file-size-checker&quot; &quot;gradeserver&quot; &quot;info-domain&quot; &q=
 uot;jbc-gnucash&quot; &quot;mboxrd-read&quot; &quot;midi&quot; &quot;mnemis=
 is&quot; &quot;projector&quot; &quot;shelly&quot; &quot;template-tester&quo=
 t; &quot;txomp&quot; &quot;web-utilities&quot;))<br>
 
 &gt;&gt;&gt;&gt;&gt; (&quot;/Users/clements/clements/matthias/collects&quot=
 ;<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0(&quot;info-domain&quot; &quot;web&quot;))<br>
 &gt;&gt;&gt;&gt;&gt; (&quot;/Users/clements/Library/Racket/development/coll=
 ects&quot;<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0(non-existent-path))<br>
 &gt;&gt;&gt;&gt;&gt; (&quot;/Users/clements/plt/racket/collects&quot;<br>
 &gt;&gt;&gt;&gt;&gt; =C2=A0(&quot;.gitignore&quot; &quot;acks&quot; &quot;c=
 ompiler&quot; &quot;data&quot; &quot;db&quot; &quot;dynext&quot; &quot;ffi&=
 quot; &quot;file&quot; &quot;info&quot; &quot;info-domain&quot; &quot;json&=
 quot; &quot;launcher&quot; &quot;net&quot; &quot;openssl&quot; &quot;pkg&qu=
 ot; &quot;planet&quot; &quot;racket&quot; &quot;rackunit&quot; &quot;raco&q=
 uot; &quot;reader&quot; &quot;realm&quot; &quot;s-exp&quot; &quot;scheme&qu=
 ot; &quot;setup&quot; &quot;srfi&quot; &quot;syntax&quot; &quot;unstable&qu=
 ot; &quot;version&quot; &quot;xml&quot;))<br>
 
 &gt;&gt;&gt;&gt;&gt;<br>
 &gt;&gt;&gt;&gt;&gt; Recent Internal Errors:<br>
 &gt;&gt;&gt;&gt;&gt; Computer Language: ((&quot;Determine language from sou=
 rce&quot;) (#(#t print mixed-fraction-e #f #t debug) (default) #() &quot;#l=
 ang racket\n&quot; #t #t ((main) (test)) #t))<br>
 &gt;&gt;&gt;&gt;&gt;<br>
 </div></div></blockquote></div><br></div>
 
 --e89a8f3b9da98b993604e68dbcaa--
From: Sam Tobin-Hochstadt <samth@cs.indiana.edu>
To: Eric Dobson <endobson@cs.brown.edu>
Cc: bugs <bugs@racket-lang.org>, Asumu Takikawa <asumu@ccs.neu.edu>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14024: slight TR regression when using match
Date: Tue, 17 Sep 2013 11:35:52 -0400

 On Tue, Sep 17, 2013 at 1:38 AM, Eric Dobson <endobson@cs.brown.edu> wrote:
 > Found it,
 > https://github.com/plt/racket/commit/328956e8b5cd9b9c6256b1eac4f46aec98ce2a5d.
 
 It would be nice to rule this kind of bug out, by asserting that we
 always have errored before the end of that function.  But it's not
 obvious how to do this, since we're usually just enquing error.  Maybe
 we should assert that there is _some_ error enqued?
 
 Sam

State changed from "open" to "closed" by samth at Mon, 21 Oct 2013 10:03:23 -0400
Reason>>> Not a bug.

