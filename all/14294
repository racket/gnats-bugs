From bugs+caf_=bugs=bugs.plt-scheme.org@plt-scheme.org Wed Jan 15 14:02:44 2014
Received: from mail-oa0-f49.google.com (mail-oa0-f49.google.com [209.85.219.49])
	by winooski.ccs.neu.edu (8.14.7/8.14.7) with ESMTP id s0FJ2fDB032083
	for <bugs@bugs.plt-scheme.org>; Wed, 15 Jan 2014 14:02:41 -0500
Message-Id: <201401151902.s0FJ2csR032075@winooski.ccs.neu.edu>
Date: Wed, 15 Jan 2014 14:02:38 -0500
From: samth@cs.indiana.edu
To: bugs@racket-lang.org
Subject: planet-compat packages should not specify dependencies

>Number:         14294
>Category:       all
>Synopsis:       planet-compat packages should not specify dependencies
>Class:          sw-bug
>Responsible:    nobody
>Severity:       serious
>Priority:       medium
>State:          open
>Confidential:   no
>Arrival-Date:   Wed Jan 15 14:04:01 -0500 2014
>Last-Modified:  Thu Jan 16 11:56:01 -0500 2014
>Originator:     Sam Tobin-Hochstadt
>Organization:
plt
>Submitter-Id:   unknown
>Release:        6.0.0.1
>Environment:
unix "Linux huor 3.8.0-34-generic #49-Ubuntu SMP Tue Nov 12 18:00:10 UTC 2013 x86_64 x86_64 x86_64 GNU/Linux" (x86_64-linux/3m) (get-display-depth) = 32
Human Language: english
(current-memory-use) 132084084
Links: (links) = (); (links #:user? #f) = ("explorer" "find-pkg-deps" "gradual-typing-bib" "raco-bug" "raco-profile" "rwind" "drracket-solarized" "meta" "match-count"); (links #:root? #t) = (); (links #:user? #f #:root? #t) = (#<path:/home/samth/sw/raco-find-collection> #<path:/home/samth/sw/plt/racket/share/pkgs/racket-benchmark> #<path:/home/samth/sw/plt/racket/share/pkgs/optimization-coach> #<path:/home/samth/sw/plt/racket/share/pkgs/planet-neil-scribble-emacs1> #<path:/home/samth/sw/plt/racket/share/pkgs/gcstats> #<path:/home/samth/sw/plt/racket/share/pkgs/x11> #<path:/home/samth/work/find-parent-dir> #<path:/home/samth/tmp/c211-libs> #<path:/home/samth/sw/plt/racket/share/pkgs/bcrypt> #<path:/home/samth/sw/plt/racket/share/pkgs/parsack> #<path:/home/samth/sw/plt/racket/share/pkgs/sexp-diff> #<path:/home/samth/sw/plt/racket/share/pkgs/rackjure> #<path:/home/samth/sw/plt/racket/share/pkgs/markdown> #<path:/home/samth/sw/hamt>)
raco pkg (show):
/home/samth/sw/plt/racket/share/devel-pkgs:
 Package              Checksum    Source
 main-distribution    #f          (static-link ../../../pkgs/main-distribution)
 plt-services         #f          (static-link ../../../pkgs/plt-services)
 racket-lib           #f          (static-link ../../../pkgs/racket-pkgs/racket-lib)
 [204 auto-installed packages not shown]
Installation-wide:
 Package                        Checksum                                    Source
 bcrypt                         2a81fc7363a955c4b67cd385f5bcc8490f1a43a4    (catalog bcrypt)
 c211-libs                      #f                                          (link ../../../../../tmp/c211-libs)
 drracket-solarized             3c7ac56e3bde4f52653c08ad1058188f9bc10184    (catalog drracket-solarized)
 explorer                       edc1bde6799c2d9db536c7a844f916359c1a9d21    (catalog explorer)
 find-parent-dir                #f                                          (link ../../../../../work/find-parent-dir)
 find-pkg-deps                  #f                                          (link ../../../../../tmp/find-pkg-deps)
 gcstats                        b378d1dbcac2813383b536a39b97c6e974cd76a4    (catalog gcstats)
 gradual-typing-bib             #f                                          (link ../../../../../work/gradual-typing-bib)
 hamt                           #f                                          (link ../../../../hamt)
 markdown                       d3eb0761b5069a9579f5e3dd6cbcd2610c94ffd5    (catalog markdown)
 match-count                    #f                                          (link ../../../../../work/match-count)
 new-web                        #f                                          (link ../../../../../work/new-web)
 optimization-coach             ee002fa7483a5357b7b88a254d3f28e034e4765f    (catalog optimization-coach)
 planet-neil-scribble-emacs1    bb95ebccb70e1bafeb4894de4fa2eef5ed1c7cde    (catalog planet-neil-scribble-emacs1)
 racket-benchmark               9c3ab066997c34f5832a8e270f4c9a1222e5e1d0    (url git://github.com/joshmcgrath08/racket-benchmark)
 raco-bug                       #f                                          (link ../../../../../work/raco-bug)
 raco-find-collection           #f                                          (link ../../../../raco-find-collection)
 raco-profile                   #f                                          (link ../../../../../work/raco-profile)
 rwind                          94c6ce8c6526cdb30a13eded38a9dc8f556e5514    (catalog rwind)
 [4 auto-installed packages not shown]
User-specific for installation "development":
 [none]



Collections:
("/home/samth/sw/plt/add-on/development/collects"
 (non-existent-path))
("/home/samth/sw/plt/racket/collects"
 (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket" "raco" "reader" "realm" "s-exp" "setup" "syntax" "unstable" "version" "xml"))
>Description:
It appears that installing a planet packge via planet-compat.racket-lang.org specifies some dependencies.  To reproduce:

% raco pkg install planet-neil-scribble-emacs1
% raco setup
... lots of dependency errors ...
%

Instead, if no dependencies were specified, it would just say 'package planet-neil-scribble-emacs1 does not specify any dependencies'.
>How-To-Repeat:

>Fix:
>Audit-Trail:
From: Jay McCarthy <jay.mccarthy@gmail.com>
To: Sam Tobin-Hochstadt <samth@cs.indiana.edu>, bugs <bugs@racket-lang.org>
Cc: nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14294: planet-compat packages should not specify dependencies
Date: Thu, 16 Jan 2014 08:58:47 -0700

 They specify the same dependencies as the original planet package, so
 that installing one planet-compat package will cause another to be
 installed as well. Perhaps the thing to do is add "base" or
 "main-distribution" to all of them?
 
 On Wed, Jan 15, 2014 at 12:04 PM,  <samth@cs.indiana.edu> wrote:
 > A new problem report is waiting at
 >   http://bugs.racket-lang.org/query/?cmd=view&pr=14294
 >
 > Reported by Sam Tobin-Hochstadt for release: 6.0.0.1
 >
 > *** Description:
 > It appears that installing a planet packge via planet-compat.racket-lang.org specifies some dependencies.  To reproduce:
 >
 > % raco pkg install planet-neil-scribble-emacs1
 > % raco setup
 > ... lots of dependency errors ...
 > %
 >
 > Instead, if no dependencies were specified, it would just say 'package planet-neil-scribble-emacs1 does not specify any dependencies'.
 >
 > *** How to repeat:
 >
 >
 > *** Environment:
 > unix "Linux huor 3.8.0-34-generic #49-Ubuntu SMP Tue Nov 12 18:00:10 UTC 2013 x86_64 x86_64 x86_64 GNU/Linux" (x86_64-linux/3m) (get-display-depth) = 32
 > Human Language: english
 > (current-memory-use) 132084084
 > Links: (links) = (); (links #:user? #f) = ("explorer" "find-pkg-deps" "gradual-typing-bib" "raco-bug" "raco-profile" "rwind" "drracket-solarized" "meta" "match-count"); (links #:root? #t) = (); (links #:user? #f #:root? #t) = (#<path:/home/samth/sw/raco-find-collection> #<path:/home/samth/sw/plt/racket/share/pkgs/racket-benchmark> #<path:/home/samth/sw/plt/racket/share/pkgs/optimization-coach> #<path:/home/samth/sw/plt/racket/share/pkgs/planet-neil-scribble-emacs1> #<path:/home/samth/sw/plt/racket/share/pkgs/gcstats> #<path:/home/samth/sw/plt/racket/share/pkgs/x11> #<path:/home/samth/work/find-parent-dir> #<path:/home/samth/tmp/c211-libs> #<path:/home/samth/sw/plt/racket/share/pkgs/bcrypt> #<path:/home/samth/sw/plt/racket/share/pkgs/parsack> #<path:/home/samth/sw/plt/racket/share/pkgs/sexp-diff> #<path:/home/samth/sw/plt/racket/share/pkgs/rackjure> #<path:/home/samth/sw/plt/racket/share/pkgs/markdown> #<path:/home/samth/sw/hamt>)
 > raco pkg (show):
 > /home/samth/sw/plt/racket/share/devel-pkgs:
 >  Package              Checksum    Source
 >  main-distribution    #f          (static-link ../../../pkgs/main-distribution)
 >  plt-services         #f          (static-link ../../../pkgs/plt-services)
 >  racket-lib           #f          (static-link ../../../pkgs/racket-pkgs/racket-lib)
 >  [204 auto-installed packages not shown]
 > Installation-wide:
 >  Package                        Checksum                                    Source
 >  bcrypt                         2a81fc7363a955c4b67cd385f5bcc8490f1a43a4    (catalog bcrypt)
 >  c211-libs                      #f                                          (link ../../../../../tmp/c211-libs)
 >  drracket-solarized             3c7ac56e3bde4f52653c08ad1058188f9bc10184    (catalog drracket-solarized)
 >  explorer                       edc1bde6799c2d9db536c7a844f916359c1a9d21    (catalog explorer)
 >  find-parent-dir                #f                                          (link ../../../../../work/find-parent-dir)
 >  find-pkg-deps                  #f                                          (link ../../../../../tmp/find-pkg-deps)
 >  gcstats                        b378d1dbcac2813383b536a39b97c6e974cd76a4    (catalog gcstats)
 >  gradual-typing-bib             #f                                          (link ../../../../../work/gradual-typing-bib)
 >  hamt                           #f                                          (link ../../../../hamt)
 >  markdown                       d3eb0761b5069a9579f5e3dd6cbcd2610c94ffd5    (catalog markdown)
 >  match-count                    #f                                          (link ../../../../../work/match-count)
 >  new-web                        #f                                          (link ../../../../../work/new-web)
 >  optimization-coach             ee002fa7483a5357b7b88a254d3f28e034e4765f    (catalog optimization-coach)
 >  planet-neil-scribble-emacs1    bb95ebccb70e1bafeb4894de4fa2eef5ed1c7cde    (catalog planet-neil-scribble-emacs1)
 >  racket-benchmark               9c3ab066997c34f5832a8e270f4c9a1222e5e1d0    (url git://github.com/joshmcgrath08/racket-benchmark)
 >  raco-bug                       #f                                          (link ../../../../../work/raco-bug)
 >  raco-find-collection           #f                                          (link ../../../../raco-find-collection)
 >  raco-profile                   #f                                          (link ../../../../../work/raco-profile)
 >  rwind                          94c6ce8c6526cdb30a13eded38a9dc8f556e5514    (catalog rwind)
 >  [4 auto-installed packages not shown]
 > User-specific for installation "development":
 >  [none]
 >
 >
 >
 > Collections:
 > ("/home/samth/sw/plt/add-on/development/collects"
 >  (non-existent-path))
 > ("/home/samth/sw/plt/racket/collects"
 >  (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket" "raco" "reader" "realm" "s-exp" "setup" "syntax" "unstable" "version" "xml"))
 >
 
 
 
 -- 
 Jay McCarthy <jay@cs.byu.edu>
 Assistant Professor / Brigham Young University
 http://faculty.cs.byu.edu/~jay
 
 "The glory of God is Intelligence" - D&C 93
 
From: Robby Findler <robby@eecs.northwestern.edu>
To: Jay McCarthy <jay.mccarthy@gmail.com>
Cc: Sam Tobin-Hochstadt <samth@cs.indiana.edu>, bugs <bugs@racket-lang.org>,
        nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14294: planet-compat packages should not specify dependencies
Date: Thu, 16 Jan 2014 10:02:58 -0600

 --089e013a2b082f739104f0188f11
 Content-Type: text/plain; charset=UTF-8
 
 main-distribution seems like the right thing to me.
 
 Robby
 
 
 On Thu, Jan 16, 2014 at 9:58 AM, Jay McCarthy <jay.mccarthy@gmail.com>wrote:
 
 > They specify the same dependencies as the original planet package, so
 > that installing one planet-compat package will cause another to be
 > installed as well. Perhaps the thing to do is add "base" or
 > "main-distribution" to all of them?
 >
 > On Wed, Jan 15, 2014 at 12:04 PM,  <samth@cs.indiana.edu> wrote:
 > > A new problem report is waiting at
 > >   http://bugs.racket-lang.org/query/?cmd=view&pr=14294
 > >
 > > Reported by Sam Tobin-Hochstadt for release: 6.0.0.1
 > >
 > > *** Description:
 > > It appears that installing a planet packge via
 > planet-compat.racket-lang.org specifies some dependencies.  To reproduce:
 > >
 > > % raco pkg install planet-neil-scribble-emacs1
 > > % raco setup
 > > ... lots of dependency errors ...
 > > %
 > >
 > > Instead, if no dependencies were specified, it would just say 'package
 > planet-neil-scribble-emacs1 does not specify any dependencies'.
 > >
 > > *** How to repeat:
 > >
 > >
 > > *** Environment:
 > > unix "Linux huor 3.8.0-34-generic #49-Ubuntu SMP Tue Nov 12 18:00:10 UTC
 > 2013 x86_64 x86_64 x86_64 GNU/Linux" (x86_64-linux/3m) (get-display-depth)
 > = 32
 > > Human Language: english
 > > (current-memory-use) 132084084
 > > Links: (links) = (); (links #:user? #f) = ("explorer" "find-pkg-deps"
 > "gradual-typing-bib" "raco-bug" "raco-profile" "rwind" "drracket-solarized"
 > "meta" "match-count"); (links #:root? #t) = (); (links #:user? #f #:root?
 > #t) = (#<path:/home/samth/sw/raco-find-collection>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/racket-benchmark>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/optimization-coach>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/planet-neil-scribble-emacs1>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/gcstats>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/x11>
 > #<path:/home/samth/work/find-parent-dir> #<path:/home/samth/tmp/c211-libs>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/bcrypt>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/parsack>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/sexp-diff>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/rackjure>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/markdown>
 > #<path:/home/samth/sw/hamt>)
 > > raco pkg (show):
 > > /home/samth/sw/plt/racket/share/devel-pkgs:
 > >  Package              Checksum    Source
 > >  main-distribution    #f          (static-link
 > ../../../pkgs/main-distribution)
 > >  plt-services         #f          (static-link
 > ../../../pkgs/plt-services)
 > >  racket-lib           #f          (static-link
 > ../../../pkgs/racket-pkgs/racket-lib)
 > >  [204 auto-installed packages not shown]
 > > Installation-wide:
 > >  Package                        Checksum
 >    Source
 > >  bcrypt                         2a81fc7363a955c4b67cd385f5bcc8490f1a43a4
 >    (catalog bcrypt)
 > >  c211-libs                      #f
 >    (link ../../../../../tmp/c211-libs)
 > >  drracket-solarized             3c7ac56e3bde4f52653c08ad1058188f9bc10184
 >    (catalog drracket-solarized)
 > >  explorer                       edc1bde6799c2d9db536c7a844f916359c1a9d21
 >    (catalog explorer)
 > >  find-parent-dir                #f
 >    (link ../../../../../work/find-parent-dir)
 > >  find-pkg-deps                  #f
 >    (link ../../../../../tmp/find-pkg-deps)
 > >  gcstats                        b378d1dbcac2813383b536a39b97c6e974cd76a4
 >    (catalog gcstats)
 > >  gradual-typing-bib             #f
 >    (link ../../../../../work/gradual-typing-bib)
 > >  hamt                           #f
 >    (link ../../../../hamt)
 > >  markdown                       d3eb0761b5069a9579f5e3dd6cbcd2610c94ffd5
 >    (catalog markdown)
 > >  match-count                    #f
 >    (link ../../../../../work/match-count)
 > >  new-web                        #f
 >    (link ../../../../../work/new-web)
 > >  optimization-coach             ee002fa7483a5357b7b88a254d3f28e034e4765f
 >    (catalog optimization-coach)
 > >  planet-neil-scribble-emacs1    bb95ebccb70e1bafeb4894de4fa2eef5ed1c7cde
 >    (catalog planet-neil-scribble-emacs1)
 > >  racket-benchmark               9c3ab066997c34f5832a8e270f4c9a1222e5e1d0
 >    (url git://github.com/joshmcgrath08/racket-benchmark)
 > >  raco-bug                       #f
 >    (link ../../../../../work/raco-bug)
 > >  raco-find-collection           #f
 >    (link ../../../../raco-find-collection)
 > >  raco-profile                   #f
 >    (link ../../../../../work/raco-profile)
 > >  rwind                          94c6ce8c6526cdb30a13eded38a9dc8f556e5514
 >    (catalog rwind)
 > >  [4 auto-installed packages not shown]
 > > User-specific for installation "development":
 > >  [none]
 > >
 > >
 > >
 > > Collections:
 > > ("/home/samth/sw/plt/add-on/development/collects"
 > >  (non-existent-path))
 > > ("/home/samth/sw/plt/racket/collects"
 > >  (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file"
 > "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet"
 > "racket" "raco" "reader" "realm" "s-exp" "setup" "syntax" "unstable"
 > "version" "xml"))
 > >
 >
 >
 >
 > --
 > Jay McCarthy <jay@cs.byu.edu>
 > Assistant Professor / Brigham Young University
 > http://faculty.cs.byu.edu/~jay
 >
 > "The glory of God is Intelligence" - D&C 93
 >
 
 --089e013a2b082f739104f0188f11
 Content-Type: text/html; charset=UTF-8
 Content-Transfer-Encoding: quoted-printable
 
 <div dir=3D"ltr">main-distribution seems like the right thing to me.<div><b=
 r></div><div>Robby</div></div><div class=3D"gmail_extra"><br><br><div class=
 =3D"gmail_quote">On Thu, Jan 16, 2014 at 9:58 AM, Jay McCarthy <span dir=3D=
 "ltr">&lt;<a href=3D"mailto:jay.mccarthy@gmail.com" target=3D"_blank">jay.m=
 ccarthy@gmail.com</a>&gt;</span> wrote:<br>
 <blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
 x #ccc solid;padding-left:1ex">They specify the same dependencies as the or=
 iginal planet package, so<br>
 that installing one planet-compat package will cause another to be<br>
 installed as well. Perhaps the thing to do is add &quot;base&quot; or<br>
 &quot;main-distribution&quot; to all of them?<br>
 <div class=3D"HOEnZb"><div class=3D"h5"><br>
 On Wed, Jan 15, 2014 at 12:04 PM, =C2=A0&lt;<a href=3D"mailto:samth@cs.indi=
 ana.edu">samth@cs.indiana.edu</a>&gt; wrote:<br>
 &gt; A new problem report is waiting at<br>
 &gt; =C2=A0 <a href=3D"http://bugs.racket-lang.org/query/?cmd=3Dview&amp;pr=
 =3D14294" target=3D"_blank">http://bugs.racket-lang.org/query/?cmd=3Dview&a=
 mp;pr=3D14294</a><br>
 &gt;<br>
 &gt; Reported by Sam Tobin-Hochstadt for release: 6.0.0.1<br>
 &gt;<br>
 &gt; *** Description:<br>
 &gt; It appears that installing a planet packge via <a href=3D"http://plane=
 t-compat.racket-lang.org" target=3D"_blank">planet-compat.racket-lang.org</=
 a> specifies some dependencies. =C2=A0To reproduce:<br>
 &gt;<br>
 &gt; % raco pkg install planet-neil-scribble-emacs1<br>
 &gt; % raco setup<br>
 &gt; ... lots of dependency errors ...<br>
 &gt; %<br>
 &gt;<br>
 &gt; Instead, if no dependencies were specified, it would just say &#39;pac=
 kage planet-neil-scribble-emacs1 does not specify any dependencies&#39;.<br=
 >
 &gt;<br>
 &gt; *** How to repeat:<br>
 &gt;<br>
 &gt;<br>
 &gt; *** Environment:<br>
 &gt; unix &quot;Linux huor 3.8.0-34-generic #49-Ubuntu SMP Tue Nov 12 18:00=
 :10 UTC 2013 x86_64 x86_64 x86_64 GNU/Linux&quot; (x86_64-linux/3m) (get-di=
 splay-depth) =3D 32<br>
 &gt; Human Language: english<br>
 &gt; (current-memory-use) 132084084<br>
 &gt; Links: (links) =3D (); (links #:user? #f) =3D (&quot;explorer&quot; &q=
 uot;find-pkg-deps&quot; &quot;gradual-typing-bib&quot; &quot;raco-bug&quot;=
  &quot;raco-profile&quot; &quot;rwind&quot; &quot;drracket-solarized&quot; =
 &quot;meta&quot; &quot;match-count&quot;); (links #:root? #t) =3D (); (link=
 s #:user? #f #:root? #t) =3D (#&lt;path:/home/samth/sw/raco-find-collection=
 &gt; #&lt;path:/home/samth/sw/plt/racket/share/pkgs/racket-benchmark&gt; #&=
 lt;path:/home/samth/sw/plt/racket/share/pkgs/optimization-coach&gt; #&lt;pa=
 th:/home/samth/sw/plt/racket/share/pkgs/planet-neil-scribble-emacs1&gt; #&l=
 t;path:/home/samth/sw/plt/racket/share/pkgs/gcstats&gt; #&lt;path:/home/sam=
 th/sw/plt/racket/share/pkgs/x11&gt; #&lt;path:/home/samth/work/find-parent-=
 dir&gt; #&lt;path:/home/samth/tmp/c211-libs&gt; #&lt;path:/home/samth/sw/pl=
 t/racket/share/pkgs/bcrypt&gt; #&lt;path:/home/samth/sw/plt/racket/share/pk=
 gs/parsack&gt; #&lt;path:/home/samth/sw/plt/racket/share/pkgs/sexp-diff&gt;=
  #&lt;path:/home/samth/sw/plt/racket/share/pkgs/rackjure&gt; #&lt;path:/hom=
 e/samth/sw/plt/racket/share/pkgs/markdown&gt; #&lt;path:/home/samth/sw/hamt=
 &gt;)<br>
 
 &gt; raco pkg (show):<br>
 &gt; /home/samth/sw/plt/racket/share/devel-pkgs:<br>
 &gt; =C2=A0Package =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Checksum=
  =C2=A0 =C2=A0Source<br>
 &gt; =C2=A0main-distribution =C2=A0 =C2=A0#f =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0(static-link ../../../pkgs/main-distribution)<br>
 &gt; =C2=A0plt-services =C2=A0 =C2=A0 =C2=A0 =C2=A0 #f =C2=A0 =C2=A0 =C2=A0=
  =C2=A0 =C2=A0(static-link ../../../pkgs/plt-services)<br>
 &gt; =C2=A0racket-lib =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 #f =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0(static-link ../../../pkgs/racket-pkgs/racket-lib)<br>
 &gt; =C2=A0[204 auto-installed packages not shown]<br>
 &gt; Installation-wide:<br>
 &gt; =C2=A0Package =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0Checksum =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0Source<br>
 &gt; =C2=A0bcrypt =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 2a81fc7363a955c4b67cd385f5bcc8490f1a43a4 =C2=A0=
  =C2=A0(catalog bcrypt)<br>
 &gt; =C2=A0c211-libs =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0#f =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
  =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0(link ../../../../../tmp/c211-libs)<br>
 &gt; =C2=A0drracket-solarized =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 3c7=
 ac56e3bde4f52653c08ad1058188f9bc10184 =C2=A0 =C2=A0(catalog drracket-solari=
 zed)<br>
 &gt; =C2=A0explorer =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
  =C2=A0 =C2=A0 =C2=A0 edc1bde6799c2d9db536c7a844f916359c1a9d21 =C2=A0 =C2=
 =A0(catalog explorer)<br>
 &gt; =C2=A0find-parent-dir =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
  =C2=A0#f =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0(link ../../../../../work/find-parent-dir)<br>
 &gt; =C2=A0find-pkg-deps =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0#f =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0(link ../../../../../tmp/find-pkg-deps)<br>
 &gt; =C2=A0gcstats =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0b378d1dbcac2813383b536a39b97c6e974cd76a4 =C2=A0 =
 =C2=A0(catalog gcstats)<br>
 &gt; =C2=A0gradual-typing-bib =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 #f =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(l=
 ink ../../../../../work/gradual-typing-bib)<br>
 &gt; =C2=A0hamt =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 #f =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(link ../../../../hamt)<br>
 &gt; =C2=A0markdown =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
  =C2=A0 =C2=A0 =C2=A0 d3eb0761b5069a9579f5e3dd6cbcd2610c94ffd5 =C2=A0 =C2=
 =A0(catalog markdown)<br>
 &gt; =C2=A0match-count =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0#f =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
  =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0(link ../../../../../work/match-count)<br>
 &gt; =C2=A0new-web =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0#f =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0(link ../../../../../work/new-web)<br>
 &gt; =C2=A0optimization-coach =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 ee0=
 02fa7483a5357b7b88a254d3f28e034e4765f =C2=A0 =C2=A0(catalog optimization-co=
 ach)<br>
 &gt; =C2=A0planet-neil-scribble-emacs1 =C2=A0 =C2=A0bb95ebccb70e1bafeb4894d=
 e4fa2eef5ed1c7cde =C2=A0 =C2=A0(catalog planet-neil-scribble-emacs1)<br>
 &gt; =C2=A0racket-benchmark =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 9c3ab066997c34f5832a8e270f4c9a1222e5e1d0 =C2=A0 =C2=A0(url git://<a hre=
 f=3D"http://github.com/joshmcgrath08/racket-benchmark" target=3D"_blank">gi=
 thub.com/joshmcgrath08/racket-benchmark</a>)<br>
 &gt; =C2=A0raco-bug =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
  =C2=A0 =C2=A0 =C2=A0 #f =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0(link ../../../../../work/raco-bug)<br>
 &gt; =C2=A0raco-find-collection =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 #f =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(link =
 ../../../../raco-find-collection)<br>
 &gt; =C2=A0raco-profile =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 #f =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0(link ../../../../../work/raco-profile)<br>
 &gt; =C2=A0rwind =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A094c6ce8c6526cdb30a13eded38a9dc8f556e5514 =
 =C2=A0 =C2=A0(catalog rwind)<br>
 &gt; =C2=A0[4 auto-installed packages not shown]<br>
 &gt; User-specific for installation &quot;development&quot;:<br>
 &gt; =C2=A0[none]<br>
 &gt;<br>
 &gt;<br>
 &gt;<br>
 &gt; Collections:<br>
 &gt; (&quot;/home/samth/sw/plt/add-on/development/collects&quot;<br>
 &gt; =C2=A0(non-existent-path))<br>
 &gt; (&quot;/home/samth/sw/plt/racket/collects&quot;<br>
 &gt; =C2=A0(&quot;.gitignore&quot; &quot;acks&quot; &quot;compiler&quot; &q=
 uot;data&quot; &quot;db&quot; &quot;dynext&quot; &quot;ffi&quot; &quot;file=
 &quot; &quot;info&quot; &quot;info-domain&quot; &quot;json&quot; &quot;laun=
 cher&quot; &quot;net&quot; &quot;openssl&quot; &quot;pkg&quot; &quot;planet=
 &quot; &quot;racket&quot; &quot;raco&quot; &quot;reader&quot; &quot;realm&q=
 uot; &quot;s-exp&quot; &quot;setup&quot; &quot;syntax&quot; &quot;unstable&=
 quot; &quot;version&quot; &quot;xml&quot;))<br>
 
 &gt;<br>
 <br>
 <br>
 <br>
 </div></div><span class=3D"HOEnZb"><font color=3D"#888888">--<br>
 Jay McCarthy &lt;<a href=3D"mailto:jay@cs.byu.edu">jay@cs.byu.edu</a>&gt;<b=
 r>
 Assistant Professor / Brigham Young University<br>
 <a href=3D"http://faculty.cs.byu.edu/~jay" target=3D"_blank">http://faculty=
 .cs.byu.edu/~jay</a><br>
 <br>
 &quot;The glory of God is Intelligence&quot; - D&amp;C 93<br>
 </font></span></blockquote></div><br></div>
 
 --089e013a2b082f739104f0188f11--
From: Sam Tobin-Hochstadt <samth@cs.indiana.edu>
To: Jay McCarthy <jay.mccarthy@gmail.com>
Cc: bugs <bugs@racket-lang.org>, nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14294: planet-compat packages should not specify dependencies
Date: Thu, 16 Jan 2014 11:02:48 -0500

 Ah, that makes sense.  So my suggestion clearly won't work.
 
 "base" would definitely be good to add, but won't be sufficient.
 "main-distribution" doesn't imply all its dependencies, so that won't
 actually fix the whole problem, and anyway would pull in really quite
 a bit of stuff that's not needed.
 
 I guess just adding "base" would probably be a reasonable solution for
 the moment.
 
 Sam
 
 
 
 On Thu, Jan 16, 2014 at 10:58 AM, Jay McCarthy <jay.mccarthy@gmail.com> wrote:
 > They specify the same dependencies as the original planet package, so
 > that installing one planet-compat package will cause another to be
 > installed as well. Perhaps the thing to do is add "base" or
 > "main-distribution" to all of them?
 >
 > On Wed, Jan 15, 2014 at 12:04 PM,  <samth@cs.indiana.edu> wrote:
 >> A new problem report is waiting at
 >>   http://bugs.racket-lang.org/query/?cmd=view&pr=14294
 >>
 >> Reported by Sam Tobin-Hochstadt for release: 6.0.0.1
 >>
 >> *** Description:
 >> It appears that installing a planet packge via planet-compat.racket-lang.org specifies some dependencies.  To reproduce:
 >>
 >> % raco pkg install planet-neil-scribble-emacs1
 >> % raco setup
 >> ... lots of dependency errors ...
 >> %
 >>
 >> Instead, if no dependencies were specified, it would just say 'package planet-neil-scribble-emacs1 does not specify any dependencies'.
 >>
 >> *** How to repeat:
 >>
 >>
 >> *** Environment:
 >> unix "Linux huor 3.8.0-34-generic #49-Ubuntu SMP Tue Nov 12 18:00:10 UTC 2013 x86_64 x86_64 x86_64 GNU/Linux" (x86_64-linux/3m) (get-display-depth) = 32
 >> Human Language: english
 >> (current-memory-use) 132084084
 >> Links: (links) = (); (links #:user? #f) = ("explorer" "find-pkg-deps" "gradual-typing-bib" "raco-bug" "raco-profile" "rwind" "drracket-solarized" "meta" "match-count"); (links #:root? #t) = (); (links #:user? #f #:root? #t) = (#<path:/home/samth/sw/raco-find-collection> #<path:/home/samth/sw/plt/racket/share/pkgs/racket-benchmark> #<path:/home/samth/sw/plt/racket/share/pkgs/optimization-coach> #<path:/home/samth/sw/plt/racket/share/pkgs/planet-neil-scribble-emacs1> #<path:/home/samth/sw/plt/racket/share/pkgs/gcstats> #<path:/home/samth/sw/plt/racket/share/pkgs/x11> #<path:/home/samth/work/find-parent-dir> #<path:/home/samth/tmp/c211-libs> #<path:/home/samth/sw/plt/racket/share/pkgs/bcrypt> #<path:/home/samth/sw/plt/racket/share/pkgs/parsack> #<path:/home/samth/sw/plt/racket/share/pkgs/sexp-diff> #<path:/home/samth/sw/plt/racket/share/pkgs/rackjure> #<path:/home/samth/sw/plt/racket/share/pkgs/markdown> #<path:/home/samth/sw/hamt>)
 >> raco pkg (show):
 >> /home/samth/sw/plt/racket/share/devel-pkgs:
 >>  Package              Checksum    Source
 >>  main-distribution    #f          (static-link ../../../pkgs/main-distribution)
 >>  plt-services         #f          (static-link ../../../pkgs/plt-services)
 >>  racket-lib           #f          (static-link ../../../pkgs/racket-pkgs/racket-lib)
 >>  [204 auto-installed packages not shown]
 >> Installation-wide:
 >>  Package                        Checksum                                    Source
 >>  bcrypt                         2a81fc7363a955c4b67cd385f5bcc8490f1a43a4    (catalog bcrypt)
 >>  c211-libs                      #f                                          (link ../../../../../tmp/c211-libs)
 >>  drracket-solarized             3c7ac56e3bde4f52653c08ad1058188f9bc10184    (catalog drracket-solarized)
 >>  explorer                       edc1bde6799c2d9db536c7a844f916359c1a9d21    (catalog explorer)
 >>  find-parent-dir                #f                                          (link ../../../../../work/find-parent-dir)
 >>  find-pkg-deps                  #f                                          (link ../../../../../tmp/find-pkg-deps)
 >>  gcstats                        b378d1dbcac2813383b536a39b97c6e974cd76a4    (catalog gcstats)
 >>  gradual-typing-bib             #f                                          (link ../../../../../work/gradual-typing-bib)
 >>  hamt                           #f                                          (link ../../../../hamt)
 >>  markdown                       d3eb0761b5069a9579f5e3dd6cbcd2610c94ffd5    (catalog markdown)
 >>  match-count                    #f                                          (link ../../../../../work/match-count)
 >>  new-web                        #f                                          (link ../../../../../work/new-web)
 >>  optimization-coach             ee002fa7483a5357b7b88a254d3f28e034e4765f    (catalog optimization-coach)
 >>  planet-neil-scribble-emacs1    bb95ebccb70e1bafeb4894de4fa2eef5ed1c7cde    (catalog planet-neil-scribble-emacs1)
 >>  racket-benchmark               9c3ab066997c34f5832a8e270f4c9a1222e5e1d0    (url git://github.com/joshmcgrath08/racket-benchmark)
 >>  raco-bug                       #f                                          (link ../../../../../work/raco-bug)
 >>  raco-find-collection           #f                                          (link ../../../../raco-find-collection)
 >>  raco-profile                   #f                                          (link ../../../../../work/raco-profile)
 >>  rwind                          94c6ce8c6526cdb30a13eded38a9dc8f556e5514    (catalog rwind)
 >>  [4 auto-installed packages not shown]
 >> User-specific for installation "development":
 >>  [none]
 >>
 >>
 >>
 >> Collections:
 >> ("/home/samth/sw/plt/add-on/development/collects"
 >>  (non-existent-path))
 >> ("/home/samth/sw/plt/racket/collects"
 >>  (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket" "raco" "reader" "realm" "s-exp" "setup" "syntax" "unstable" "version" "xml"))
 >>
 >
 >
 >
 > --
 > Jay McCarthy <jay@cs.byu.edu>
 > Assistant Professor / Brigham Young University
 > http://faculty.cs.byu.edu/~jay
 >
 > "The glory of God is Intelligence" - D&C 93
 
From: Robby Findler <robby@eecs.northwestern.edu>
To: Sam Tobin-Hochstadt <samth@cs.indiana.edu>
Cc: Jay McCarthy <jay.mccarthy@gmail.com>, bugs <bugs@racket-lang.org>,
        nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14294: planet-compat packages should not specify dependencies
Date: Thu, 16 Jan 2014 10:07:06 -0600

 --089e0112cb56eb38ee04f0189dc8
 Content-Type: text/plain; charset=UTF-8
 
 The "spirit" of the old package system is that they assume the
 main-distribution is installed, I believe.
 
 Does it make sense for main-distribution to "implies" everything that it
 depends on?
 
 From what I can tell, main-distribution doesn't have much value if it
 doesn't do that, but perhaps it doesn't do that because it isn't supposed
 to survive for long.
 
 Would it be worth trying to write something that looked at the requires and
 made some "educated guesses" about what to depend on?
 
 Robby
 
 
 On Thu, Jan 16, 2014 at 10:02 AM, Sam Tobin-Hochstadt
 <samth@cs.indiana.edu>wrote:
 
 > Ah, that makes sense.  So my suggestion clearly won't work.
 >
 > "base" would definitely be good to add, but won't be sufficient.
 > "main-distribution" doesn't imply all its dependencies, so that won't
 > actually fix the whole problem, and anyway would pull in really quite
 > a bit of stuff that's not needed.
 >
 > I guess just adding "base" would probably be a reasonable solution for
 > the moment.
 >
 > Sam
 >
 >
 >
 > On Thu, Jan 16, 2014 at 10:58 AM, Jay McCarthy <jay.mccarthy@gmail.com>
 > wrote:
 > > They specify the same dependencies as the original planet package, so
 > > that installing one planet-compat package will cause another to be
 > > installed as well. Perhaps the thing to do is add "base" or
 > > "main-distribution" to all of them?
 > >
 > > On Wed, Jan 15, 2014 at 12:04 PM,  <samth@cs.indiana.edu> wrote:
 > >> A new problem report is waiting at
 > >>   http://bugs.racket-lang.org/query/?cmd=view&pr=14294
 > >>
 > >> Reported by Sam Tobin-Hochstadt for release: 6.0.0.1
 > >>
 > >> *** Description:
 > >> It appears that installing a planet packge via
 > planet-compat.racket-lang.org specifies some dependencies.  To reproduce:
 > >>
 > >> % raco pkg install planet-neil-scribble-emacs1
 > >> % raco setup
 > >> ... lots of dependency errors ...
 > >> %
 > >>
 > >> Instead, if no dependencies were specified, it would just say 'package
 > planet-neil-scribble-emacs1 does not specify any dependencies'.
 > >>
 > >> *** How to repeat:
 > >>
 > >>
 > >> *** Environment:
 > >> unix "Linux huor 3.8.0-34-generic #49-Ubuntu SMP Tue Nov 12 18:00:10
 > UTC 2013 x86_64 x86_64 x86_64 GNU/Linux" (x86_64-linux/3m)
 > (get-display-depth) = 32
 > >> Human Language: english
 > >> (current-memory-use) 132084084
 > >> Links: (links) = (); (links #:user? #f) = ("explorer" "find-pkg-deps"
 > "gradual-typing-bib" "raco-bug" "raco-profile" "rwind" "drracket-solarized"
 > "meta" "match-count"); (links #:root? #t) = (); (links #:user? #f #:root?
 > #t) = (#<path:/home/samth/sw/raco-find-collection>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/racket-benchmark>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/optimization-coach>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/planet-neil-scribble-emacs1>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/gcstats>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/x11>
 > #<path:/home/samth/work/find-parent-dir> #<path:/home/samth/tmp/c211-libs>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/bcrypt>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/parsack>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/sexp-diff>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/rackjure>
 > #<path:/home/samth/sw/plt/racket/share/pkgs/markdown>
 > #<path:/home/samth/sw/hamt>)
 > >> raco pkg (show):
 > >> /home/samth/sw/plt/racket/share/devel-pkgs:
 > >>  Package              Checksum    Source
 > >>  main-distribution    #f          (static-link
 > ../../../pkgs/main-distribution)
 > >>  plt-services         #f          (static-link
 > ../../../pkgs/plt-services)
 > >>  racket-lib           #f          (static-link
 > ../../../pkgs/racket-pkgs/racket-lib)
 > >>  [204 auto-installed packages not shown]
 > >> Installation-wide:
 > >>  Package                        Checksum
 >      Source
 > >>  bcrypt
 > 2a81fc7363a955c4b67cd385f5bcc8490f1a43a4    (catalog bcrypt)
 > >>  c211-libs                      #f
 >      (link ../../../../../tmp/c211-libs)
 > >>  drracket-solarized
 > 3c7ac56e3bde4f52653c08ad1058188f9bc10184    (catalog drracket-solarized)
 > >>  explorer
 > edc1bde6799c2d9db536c7a844f916359c1a9d21    (catalog explorer)
 > >>  find-parent-dir                #f
 >      (link ../../../../../work/find-parent-dir)
 > >>  find-pkg-deps                  #f
 >      (link ../../../../../tmp/find-pkg-deps)
 > >>  gcstats
 >  b378d1dbcac2813383b536a39b97c6e974cd76a4    (catalog gcstats)
 > >>  gradual-typing-bib             #f
 >      (link ../../../../../work/gradual-typing-bib)
 > >>  hamt                           #f
 >      (link ../../../../hamt)
 > >>  markdown
 > d3eb0761b5069a9579f5e3dd6cbcd2610c94ffd5    (catalog markdown)
 > >>  match-count                    #f
 >      (link ../../../../../work/match-count)
 > >>  new-web                        #f
 >      (link ../../../../../work/new-web)
 > >>  optimization-coach
 > ee002fa7483a5357b7b88a254d3f28e034e4765f    (catalog optimization-coach)
 > >>  planet-neil-scribble-emacs1
 >  bb95ebccb70e1bafeb4894de4fa2eef5ed1c7cde    (catalog
 > planet-neil-scribble-emacs1)
 > >>  racket-benchmark
 > 9c3ab066997c34f5832a8e270f4c9a1222e5e1d0    (url git://
 > github.com/joshmcgrath08/racket-benchmark)
 > >>  raco-bug                       #f
 >      (link ../../../../../work/raco-bug)
 > >>  raco-find-collection           #f
 >      (link ../../../../raco-find-collection)
 > >>  raco-profile                   #f
 >      (link ../../../../../work/raco-profile)
 > >>  rwind
 >  94c6ce8c6526cdb30a13eded38a9dc8f556e5514    (catalog rwind)
 > >>  [4 auto-installed packages not shown]
 > >> User-specific for installation "development":
 > >>  [none]
 > >>
 > >>
 > >>
 > >> Collections:
 > >> ("/home/samth/sw/plt/add-on/development/collects"
 > >>  (non-existent-path))
 > >> ("/home/samth/sw/plt/racket/collects"
 > >>  (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file"
 > "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet"
 > "racket" "raco" "reader" "realm" "s-exp" "setup" "syntax" "unstable"
 > "version" "xml"))
 > >>
 > >
 > >
 > >
 > > --
 > > Jay McCarthy <jay@cs.byu.edu>
 > > Assistant Professor / Brigham Young University
 > > http://faculty.cs.byu.edu/~jay
 > >
 > > "The glory of God is Intelligence" - D&C 93
 >
 
 --089e0112cb56eb38ee04f0189dc8
 Content-Type: text/html; charset=UTF-8
 Content-Transfer-Encoding: quoted-printable
 
 <div dir=3D"ltr">The &quot;spirit&quot; of the old package system is that t=
 hey assume the main-distribution is installed, I believe.<div><br></div><di=
 v>Does it make sense for main-distribution to &quot;implies&quot; everythin=
 g that it depends on?</div>
 <div><br></div><div>From what I can tell, main-distribution doesn&#39;t hav=
 e much value if it doesn&#39;t do that, but perhaps it doesn&#39;t do that =
 because it isn&#39;t supposed to survive for long.</div><div><br></div>
 <div>Would it be worth trying to write something that looked at the require=
 s and made some &quot;educated guesses&quot; about what to depend on?</div>=
 <div><div><br></div><div>Robby</div></div></div><div class=3D"gmail_extra">
 <br><br><div class=3D"gmail_quote">On Thu, Jan 16, 2014 at 10:02 AM, Sam To=
 bin-Hochstadt <span dir=3D"ltr">&lt;<a href=3D"mailto:samth@cs.indiana.edu"=
  target=3D"_blank">samth@cs.indiana.edu</a>&gt;</span> wrote:<br><blockquot=
 e class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1px #ccc sol=
 id;padding-left:1ex">
 Ah, that makes sense. =C2=A0So my suggestion clearly won&#39;t work.<br>
 <br>
 &quot;base&quot; would definitely be good to add, but won&#39;t be sufficie=
 nt.<br>
 &quot;main-distribution&quot; doesn&#39;t imply all its dependencies, so th=
 at won&#39;t<br>
 actually fix the whole problem, and anyway would pull in really quite<br>
 a bit of stuff that&#39;s not needed.<br>
 <br>
 I guess just adding &quot;base&quot; would probably be a reasonable solutio=
 n for<br>
 the moment.<br>
 <span class=3D"HOEnZb"><font color=3D"#888888"><br>
 Sam<br>
 </font></span><div class=3D"HOEnZb"><div class=3D"h5"><br>
 <br>
 <br>
 On Thu, Jan 16, 2014 at 10:58 AM, Jay McCarthy &lt;<a href=3D"mailto:jay.mc=
 carthy@gmail.com">jay.mccarthy@gmail.com</a>&gt; wrote:<br>
 &gt; They specify the same dependencies as the original planet package, so<=
 br>
 &gt; that installing one planet-compat package will cause another to be<br>
 &gt; installed as well. Perhaps the thing to do is add &quot;base&quot; or<=
 br>
 &gt; &quot;main-distribution&quot; to all of them?<br>
 &gt;<br>
 &gt; On Wed, Jan 15, 2014 at 12:04 PM, =C2=A0&lt;<a href=3D"mailto:samth@cs=
 .indiana.edu">samth@cs.indiana.edu</a>&gt; wrote:<br>
 &gt;&gt; A new problem report is waiting at<br>
 &gt;&gt; =C2=A0 <a href=3D"http://bugs.racket-lang.org/query/?cmd=3Dview&am=
 p;pr=3D14294" target=3D"_blank">http://bugs.racket-lang.org/query/?cmd=3Dvi=
 ew&amp;pr=3D14294</a><br>
 &gt;&gt;<br>
 &gt;&gt; Reported by Sam Tobin-Hochstadt for release: 6.0.0.1<br>
 &gt;&gt;<br>
 &gt;&gt; *** Description:<br>
 &gt;&gt; It appears that installing a planet packge via <a href=3D"http://p=
 lanet-compat.racket-lang.org" target=3D"_blank">planet-compat.racket-lang.o=
 rg</a> specifies some dependencies. =C2=A0To reproduce:<br>
 &gt;&gt;<br>
 &gt;&gt; % raco pkg install planet-neil-scribble-emacs1<br>
 &gt;&gt; % raco setup<br>
 &gt;&gt; ... lots of dependency errors ...<br>
 &gt;&gt; %<br>
 &gt;&gt;<br>
 &gt;&gt; Instead, if no dependencies were specified, it would just say &#39=
 ;package planet-neil-scribble-emacs1 does not specify any dependencies&#39;=
 .<br>
 &gt;&gt;<br>
 &gt;&gt; *** How to repeat:<br>
 &gt;&gt;<br>
 &gt;&gt;<br>
 &gt;&gt; *** Environment:<br>
 &gt;&gt; unix &quot;Linux huor 3.8.0-34-generic #49-Ubuntu SMP Tue Nov 12 1=
 8:00:10 UTC 2013 x86_64 x86_64 x86_64 GNU/Linux&quot; (x86_64-linux/3m) (ge=
 t-display-depth) =3D 32<br>
 &gt;&gt; Human Language: english<br>
 &gt;&gt; (current-memory-use) 132084084<br>
 &gt;&gt; Links: (links) =3D (); (links #:user? #f) =3D (&quot;explorer&quot=
 ; &quot;find-pkg-deps&quot; &quot;gradual-typing-bib&quot; &quot;raco-bug&q=
 uot; &quot;raco-profile&quot; &quot;rwind&quot; &quot;drracket-solarized&qu=
 ot; &quot;meta&quot; &quot;match-count&quot;); (links #:root? #t) =3D (); (=
 links #:user? #f #:root? #t) =3D (#&lt;path:/home/samth/sw/raco-find-collec=
 tion&gt; #&lt;path:/home/samth/sw/plt/racket/share/pkgs/racket-benchmark&gt=
 ; #&lt;path:/home/samth/sw/plt/racket/share/pkgs/optimization-coach&gt; #&l=
 t;path:/home/samth/sw/plt/racket/share/pkgs/planet-neil-scribble-emacs1&gt;=
  #&lt;path:/home/samth/sw/plt/racket/share/pkgs/gcstats&gt; #&lt;path:/home=
 /samth/sw/plt/racket/share/pkgs/x11&gt; #&lt;path:/home/samth/work/find-par=
 ent-dir&gt; #&lt;path:/home/samth/tmp/c211-libs&gt; #&lt;path:/home/samth/s=
 w/plt/racket/share/pkgs/bcrypt&gt; #&lt;path:/home/samth/sw/plt/racket/shar=
 e/pkgs/parsack&gt; #&lt;path:/home/samth/sw/plt/racket/share/pkgs/sexp-diff=
 &gt; #&lt;path:/home/samth/sw/plt/racket/share/pkgs/rackjure&gt; #&lt;path:=
 /home/samth/sw/plt/racket/share/pkgs/markdown&gt; #&lt;path:/home/samth/sw/=
 hamt&gt;)<br>
 
 &gt;&gt; raco pkg (show):<br>
 &gt;&gt; /home/samth/sw/plt/racket/share/devel-pkgs:<br>
 &gt;&gt; =C2=A0Package =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Chec=
 ksum =C2=A0 =C2=A0Source<br>
 &gt;&gt; =C2=A0main-distribution =C2=A0 =C2=A0#f =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0(static-link ../../../pkgs/main-distribution)<br>
 &gt;&gt; =C2=A0plt-services =C2=A0 =C2=A0 =C2=A0 =C2=A0 #f =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0(static-link ../../../pkgs/plt-services)<br>
 &gt;&gt; =C2=A0racket-lib =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 #f =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0(static-link ../../../pkgs/racket-pkgs/racket-lib)<=
 br>
 &gt;&gt; =C2=A0[204 auto-installed packages not shown]<br>
 &gt;&gt; Installation-wide:<br>
 &gt;&gt; =C2=A0Package =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0Checksum =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0Source<br>
 &gt;&gt; =C2=A0bcrypt =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 2a81fc7363a955c4b67cd385f5bcc8490f1a43a4 =
 =C2=A0 =C2=A0(catalog bcrypt)<br>
 &gt;&gt; =C2=A0c211-libs =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0#f =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0(link ../../../../../tmp/c211-libs)<br>
 &gt;&gt; =C2=A0drracket-solarized =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
  3c7ac56e3bde4f52653c08ad1058188f9bc10184 =C2=A0 =C2=A0(catalog drracket-so=
 larized)<br>
 &gt;&gt; =C2=A0explorer =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 edc1bde6799c2d9db536c7a844f916359c1a9d21 =C2=A0=
  =C2=A0(catalog explorer)<br>
 &gt;&gt; =C2=A0find-parent-dir =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0#f =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0(link ../../../../../work/find-parent-dir)<br>
 &gt;&gt; =C2=A0find-pkg-deps =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0#f =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
  =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0(link ../../../../../tmp/find-pkg-deps)<br>
 &gt;&gt; =C2=A0gcstats =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0b378d1dbcac2813383b536a39b97c6e974cd76a4 =C2=
 =A0 =C2=A0(catalog gcstats)<br>
 &gt;&gt; =C2=A0gradual-typing-bib =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
  #f =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0(link ../../../../../work/gradual-typing-bib)<br>
 &gt;&gt; =C2=A0hamt =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
  =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 #f =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(link ../../../../hamt)<br>
 &gt;&gt; =C2=A0markdown =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 d3eb0761b5069a9579f5e3dd6cbcd2610c94ffd5 =C2=A0=
  =C2=A0(catalog markdown)<br>
 &gt;&gt; =C2=A0match-count =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
  =C2=A0 =C2=A0 =C2=A0#f =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0(link ../../../../../work/match-count)<br>
 &gt;&gt; =C2=A0new-web =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0#f =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
  =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(link ../../../../../work/new-web)<br>
 &gt;&gt; =C2=A0optimization-coach =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
  ee002fa7483a5357b7b88a254d3f28e034e4765f =C2=A0 =C2=A0(catalog optimizatio=
 n-coach)<br>
 &gt;&gt; =C2=A0planet-neil-scribble-emacs1 =C2=A0 =C2=A0bb95ebccb70e1bafeb4=
 894de4fa2eef5ed1c7cde =C2=A0 =C2=A0(catalog planet-neil-scribble-emacs1)<br=
 >
 &gt;&gt; =C2=A0racket-benchmark =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 9c3ab066997c34f5832a8e270f4c9a1222e5e1d0 =C2=A0 =C2=A0(url git://<a =
 href=3D"http://github.com/joshmcgrath08/racket-benchmark" target=3D"_blank"=
 >github.com/joshmcgrath08/racket-benchmark</a>)<br>
 
 &gt;&gt; =C2=A0raco-bug =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 #f =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(link ../../../../../work/raco-bug)<br>
 &gt;&gt; =C2=A0raco-find-collection =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 #f =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0(l=
 ink ../../../../raco-find-collection)<br>
 &gt;&gt; =C2=A0raco-profile =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 #f =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0(link ../../../../../work/raco-profile)<br>
 &gt;&gt; =C2=A0rwind =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A094c6ce8c6526cdb30a13eded38a9dc8f556e5=
 514 =C2=A0 =C2=A0(catalog rwind)<br>
 &gt;&gt; =C2=A0[4 auto-installed packages not shown]<br>
 &gt;&gt; User-specific for installation &quot;development&quot;:<br>
 &gt;&gt; =C2=A0[none]<br>
 &gt;&gt;<br>
 &gt;&gt;<br>
 &gt;&gt;<br>
 &gt;&gt; Collections:<br>
 &gt;&gt; (&quot;/home/samth/sw/plt/add-on/development/collects&quot;<br>
 &gt;&gt; =C2=A0(non-existent-path))<br>
 &gt;&gt; (&quot;/home/samth/sw/plt/racket/collects&quot;<br>
 &gt;&gt; =C2=A0(&quot;.gitignore&quot; &quot;acks&quot; &quot;compiler&quot=
 ; &quot;data&quot; &quot;db&quot; &quot;dynext&quot; &quot;ffi&quot; &quot;=
 file&quot; &quot;info&quot; &quot;info-domain&quot; &quot;json&quot; &quot;=
 launcher&quot; &quot;net&quot; &quot;openssl&quot; &quot;pkg&quot; &quot;pl=
 anet&quot; &quot;racket&quot; &quot;raco&quot; &quot;reader&quot; &quot;rea=
 lm&quot; &quot;s-exp&quot; &quot;setup&quot; &quot;syntax&quot; &quot;unsta=
 ble&quot; &quot;version&quot; &quot;xml&quot;))<br>
 
 &gt;&gt;<br>
 &gt;<br>
 &gt;<br>
 &gt;<br>
 &gt; --<br>
 &gt; Jay McCarthy &lt;<a href=3D"mailto:jay@cs.byu.edu">jay@cs.byu.edu</a>&=
 gt;<br>
 &gt; Assistant Professor / Brigham Young University<br>
 &gt; <a href=3D"http://faculty.cs.byu.edu/~jay" target=3D"_blank">http://fa=
 culty.cs.byu.edu/~jay</a><br>
 &gt;<br>
 &gt; &quot;The glory of God is Intelligence&quot; - D&amp;C 93<br>
 </div></div></blockquote></div><br></div>
 
 --089e0112cb56eb38ee04f0189dc8--
From: Sam Tobin-Hochstadt <samth@cs.indiana.edu>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: Jay McCarthy <jay.mccarthy@gmail.com>, bugs <bugs@racket-lang.org>,
        nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14294: planet-compat packages should not specify dependencies
Date: Thu, 16 Jan 2014 11:12:53 -0500

 On Thu, Jan 16, 2014 at 11:07 AM, Robby Findler
 <robby@eecs.northwestern.edu> wrote:
 > The "spirit" of the old package system is that they assume the
 > main-distribution is installed, I believe.
 >
 > Does it make sense for main-distribution to "implies" everything that it
 > depends on?
 >
 > From what I can tell, main-distribution doesn't have much value if it
 > doesn't do that, but perhaps it doesn't do that because it isn't supposed to
 > survive for long.
 >
 > Would it be worth trying to write something that looked at the requires and
 > made some "educated guesses" about what to depend on?
 
 I assumed the reason it didn't "implies" everything was because it is
 intended as a device to specify what to install (in some cases), and
 if it implied things, then people developing packages could depend on
 that relationship, which we don't want (I think).
 
 But Matthew can presumably speak to the rationale better than the rest of us.
 
 Sam
From: Jay McCarthy <jay.mccarthy@gmail.com>
To: Sam Tobin-Hochstadt <samth@cs.indiana.edu>
Cc: Robby Findler <robby@eecs.northwestern.edu>, bugs <bugs@racket-lang.org>,
        nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14294: planet-compat packages should not specify dependencies
Date: Thu, 16 Jan 2014 09:23:43 -0700

 That matches my assumptions as well.
 
 As far as something that figures out the requires better... I don't
 see a lot of value in it. My perspective is that planet-compat's only
 job is to get it installed and runnable, but if there are warnings
 building, then it's just an incentive to convert the package.
 (Additionally, planet still exists on all installations of Racket, so
 I'm less enthusiastic about planet-compat than I was when I made it.)
 
 On Thu, Jan 16, 2014 at 9:12 AM, Sam Tobin-Hochstadt
 <samth@cs.indiana.edu> wrote:
 > On Thu, Jan 16, 2014 at 11:07 AM, Robby Findler
 > <robby@eecs.northwestern.edu> wrote:
 >> The "spirit" of the old package system is that they assume the
 >> main-distribution is installed, I believe.
 >>
 >> Does it make sense for main-distribution to "implies" everything that it
 >> depends on?
 >>
 >> From what I can tell, main-distribution doesn't have much value if it
 >> doesn't do that, but perhaps it doesn't do that because it isn't supposed to
 >> survive for long.
 >>
 >> Would it be worth trying to write something that looked at the requires and
 >> made some "educated guesses" about what to depend on?
 >
 > I assumed the reason it didn't "implies" everything was because it is
 > intended as a device to specify what to install (in some cases), and
 > if it implied things, then people developing packages could depend on
 > that relationship, which we don't want (I think).
 >
 > But Matthew can presumably speak to the rationale better than the rest of us.
 >
 > Sam
 
 
 
 -- 
 Jay McCarthy <jay@cs.byu.edu>
 Assistant Professor / Brigham Young University
 http://faculty.cs.byu.edu/~jay
 
 "The glory of God is Intelligence" - D&C 93
From: Robby Findler <robby@eecs.northwestern.edu>
To: Jay McCarthy <jay.mccarthy@gmail.com>
Cc: Sam Tobin-Hochstadt <samth@cs.indiana.edu>, bugs <bugs@racket-lang.org>,
        nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14294: planet-compat packages should not specify dependencies
Date: Thu, 16 Jan 2014 10:29:51 -0600

 --089e013c6fa04fe23104f018ef0a
 Content-Type: text/plain; charset=UTF-8
 
 How about this idea: we make a new package called
 "planet-filler-dependencies" that looks a lot like the current
 main-distribution package, but implies everything. Then we make it clear
 the purpose of this package and make all planet-compat packages depend on
 it.
 
 This way we have a path for people to work with planet package without lots
 of bad errors that they cannot fix and we commit ourselves to maintaining
 this package only for the purpose of helping people migrate?
 
 Robby
 
 
 
 On Thu, Jan 16, 2014 at 10:28 AM, Robby Findler <robby@eecs.northwestern.edu
 > wrote:
 
 > A few possible high-level goals:
 >
 > - planet-compat should be, in the shorterish term, a bridge for people who
 > want to convert their planet packages without converting others' planet
 > packages that they depend on.
 >
 > - it would be great if planet-compat eventually replaced all of planet so
 > we could, at some low-level inside Racket change "require (planet ...)"
 > into the corresponding require for the package and either completely
 > replace the planet server, or get rid of most of its functionality while
 > still preserving backwards compatibility (in the sense that old code still
 > runs).
 >
 > Both of these uses would seem to require more accurate dependencies.
 >
 > I am not sure where to put those dependencies, tho. Do they perhaps belong
 > on the planet server now? Would that help anything if they were there?
 >
 > Robby
 >
 >
 >
 > On Thu, Jan 16, 2014 at 10:23 AM, Jay McCarthy <jay.mccarthy@gmail.com>wrote:
 >
 >> That matches my assumptions as well.
 >>
 >> As far as something that figures out the requires better... I don't
 >> see a lot of value in it. My perspective is that planet-compat's only
 >> job is to get it installed and runnable, but if there are warnings
 >> building, then it's just an incentive to convert the package.
 >> (Additionally, planet still exists on all installations of Racket, so
 >> I'm less enthusiastic about planet-compat than I was when I made it.)
 >>
 >> On Thu, Jan 16, 2014 at 9:12 AM, Sam Tobin-Hochstadt
 >> <samth@cs.indiana.edu> wrote:
 >> > On Thu, Jan 16, 2014 at 11:07 AM, Robby Findler
 >> > <robby@eecs.northwestern.edu> wrote:
 >> >> The "spirit" of the old package system is that they assume the
 >> >> main-distribution is installed, I believe.
 >> >>
 >> >> Does it make sense for main-distribution to "implies" everything that
 >> it
 >> >> depends on?
 >> >>
 >> >> From what I can tell, main-distribution doesn't have much value if it
 >> >> doesn't do that, but perhaps it doesn't do that because it isn't
 >> supposed to
 >> >> survive for long.
 >> >>
 >> >> Would it be worth trying to write something that looked at the
 >> requires and
 >> >> made some "educated guesses" about what to depend on?
 >> >
 >> > I assumed the reason it didn't "implies" everything was because it is
 >> > intended as a device to specify what to install (in some cases), and
 >> > if it implied things, then people developing packages could depend on
 >> > that relationship, which we don't want (I think).
 >> >
 >> > But Matthew can presumably speak to the rationale better than the rest
 >> of us.
 >> >
 >> > Sam
 >>
 >>
 >>
 >> --
 >> Jay McCarthy <jay@cs.byu.edu>
 >> Assistant Professor / Brigham Young University
 >> http://faculty.cs.byu.edu/~jay
 >>
 >> "The glory of God is Intelligence" - D&C 93
 >>
 >
 >
 
 --089e013c6fa04fe23104f018ef0a
 Content-Type: text/html; charset=UTF-8
 Content-Transfer-Encoding: quoted-printable
 
 <div dir=3D"ltr">How about this idea: we make a new package called &quot;pl=
 anet-filler-dependencies&quot; that looks a lot like the current main-distr=
 ibution package, but implies everything. Then we make it clear the purpose =
 of this package and make all planet-compat packages depend on it.<div>
 <br></div><div>This way we have a path for people to work with planet packa=
 ge without lots of bad errors that they cannot fix and we commit ourselves =
 to maintaining this package only for the purpose of helping people migrate?=
 </div>
 <div><br>Robby</div><div><br></div></div><div class=3D"gmail_extra"><br><br=
 ><div class=3D"gmail_quote">On Thu, Jan 16, 2014 at 10:28 AM, Robby Findler=
  <span dir=3D"ltr">&lt;<a href=3D"mailto:robby@eecs.northwestern.edu" targe=
 t=3D"_blank">robby@eecs.northwestern.edu</a>&gt;</span> wrote:<br>
 <blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
 x #ccc solid;padding-left:1ex"><div dir=3D"ltr">A few possible high-level g=
 oals:<div><br></div><div>- planet-compat should be, in the shorterish term,=
  a bridge for people who want to convert their planet packages without conv=
 erting others&#39; planet packages that they depend on.</div>
 
 <div><br></div><div>- it would be great if planet-compat eventually replace=
 d all of planet so we could, at some low-level inside Racket change &quot;r=
 equire (planet ...)&quot; into the corresponding require for the package an=
 d either completely replace the planet server, or get rid of most of its fu=
 nctionality while still preserving backwards compatibility (in the sense th=
 at old code still runs).</div>
 
 <div><br></div><div>Both of these uses would seem to require more accurate =
 dependencies.</div><div><br></div><div>I am not sure where to put those dep=
 endencies, tho. Do they perhaps belong on the planet server now? Would that=
  help anything if they were there?</div>
 <span class=3D"HOEnZb"><font color=3D"#888888">
 <div><br></div><div>Robby</div></font></span><div><div class=3D"h5"><div><b=
 r></div><div class=3D"gmail_extra"><br><br><div class=3D"gmail_quote">On Th=
 u, Jan 16, 2014 at 10:23 AM, Jay McCarthy <span dir=3D"ltr">&lt;<a href=3D"=
 mailto:jay.mccarthy@gmail.com" target=3D"_blank">jay.mccarthy@gmail.com</a>=
 &gt;</span> wrote:<br>
 
 <blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
 x #ccc solid;padding-left:1ex">That matches my assumptions as well.<br>
 <br>
 As far as something that figures out the requires better... I don&#39;t<br>
 see a lot of value in it. My perspective is that planet-compat&#39;s only<b=
 r>
 job is to get it installed and runnable, but if there are warnings<br>
 building, then it&#39;s just an incentive to convert the package.<br>
 (Additionally, planet still exists on all installations of Racket, so<br>
 I&#39;m less enthusiastic about planet-compat than I was when I made it.)<b=
 r>
 <div><div><br>
 On Thu, Jan 16, 2014 at 9:12 AM, Sam Tobin-Hochstadt<br>
 &lt;<a href=3D"mailto:samth@cs.indiana.edu" target=3D"_blank">samth@cs.indi=
 ana.edu</a>&gt; wrote:<br>
 &gt; On Thu, Jan 16, 2014 at 11:07 AM, Robby Findler<br>
 &gt; &lt;<a href=3D"mailto:robby@eecs.northwestern.edu" target=3D"_blank">r=
 obby@eecs.northwestern.edu</a>&gt; wrote:<br>
 &gt;&gt; The &quot;spirit&quot; of the old package system is that they assu=
 me the<br>
 &gt;&gt; main-distribution is installed, I believe.<br>
 &gt;&gt;<br>
 &gt;&gt; Does it make sense for main-distribution to &quot;implies&quot; ev=
 erything that it<br>
 &gt;&gt; depends on?<br>
 &gt;&gt;<br>
 &gt;&gt; From what I can tell, main-distribution doesn&#39;t have much valu=
 e if it<br>
 &gt;&gt; doesn&#39;t do that, but perhaps it doesn&#39;t do that because it=
  isn&#39;t supposed to<br>
 &gt;&gt; survive for long.<br>
 &gt;&gt;<br>
 &gt;&gt; Would it be worth trying to write something that looked at the req=
 uires and<br>
 &gt;&gt; made some &quot;educated guesses&quot; about what to depend on?<br=
 >
 &gt;<br>
 &gt; I assumed the reason it didn&#39;t &quot;implies&quot; everything was =
 because it is<br>
 &gt; intended as a device to specify what to install (in some cases), and<b=
 r>
 &gt; if it implied things, then people developing packages could depend on<=
 br>
 &gt; that relationship, which we don&#39;t want (I think).<br>
 &gt;<br>
 &gt; But Matthew can presumably speak to the rationale better than the rest=
  of us.<br>
 &gt;<br>
 &gt; Sam<br>
 <br>
 <br>
 <br>
 </div></div><div><div>--<br>
 Jay McCarthy &lt;<a href=3D"mailto:jay@cs.byu.edu" target=3D"_blank">jay@cs=
 .byu.edu</a>&gt;<br>
 Assistant Professor / Brigham Young University<br>
 <a href=3D"http://faculty.cs.byu.edu/~jay" target=3D"_blank">http://faculty=
 .cs.byu.edu/~jay</a><br>
 <br>
 &quot;The glory of God is Intelligence&quot; - D&amp;C 93<br>
 </div></div></blockquote></div><br></div></div></div></div>
 </blockquote></div><br></div>
 
 --089e013c6fa04fe23104f018ef0a--
From: Robby Findler <robby@eecs.northwestern.edu>
To: Jay McCarthy <jay.mccarthy@gmail.com>
Cc: Sam Tobin-Hochstadt <samth@cs.indiana.edu>, bugs <bugs@racket-lang.org>,
        nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14294: planet-compat packages should not specify dependencies
Date: Thu, 16 Jan 2014 10:28:05 -0600

 --047d7b471e5cfa203304f018e81c
 Content-Type: text/plain; charset=UTF-8
 
 A few possible high-level goals:
 
 - planet-compat should be, in the shorterish term, a bridge for people who
 want to convert their planet packages without converting others' planet
 packages that they depend on.
 
 - it would be great if planet-compat eventually replaced all of planet so
 we could, at some low-level inside Racket change "require (planet ...)"
 into the corresponding require for the package and either completely
 replace the planet server, or get rid of most of its functionality while
 still preserving backwards compatibility (in the sense that old code still
 runs).
 
 Both of these uses would seem to require more accurate dependencies.
 
 I am not sure where to put those dependencies, tho. Do they perhaps belong
 on the planet server now? Would that help anything if they were there?
 
 Robby
 
 
 
 On Thu, Jan 16, 2014 at 10:23 AM, Jay McCarthy <jay.mccarthy@gmail.com>wrote:
 
 > That matches my assumptions as well.
 >
 > As far as something that figures out the requires better... I don't
 > see a lot of value in it. My perspective is that planet-compat's only
 > job is to get it installed and runnable, but if there are warnings
 > building, then it's just an incentive to convert the package.
 > (Additionally, planet still exists on all installations of Racket, so
 > I'm less enthusiastic about planet-compat than I was when I made it.)
 >
 > On Thu, Jan 16, 2014 at 9:12 AM, Sam Tobin-Hochstadt
 > <samth@cs.indiana.edu> wrote:
 > > On Thu, Jan 16, 2014 at 11:07 AM, Robby Findler
 > > <robby@eecs.northwestern.edu> wrote:
 > >> The "spirit" of the old package system is that they assume the
 > >> main-distribution is installed, I believe.
 > >>
 > >> Does it make sense for main-distribution to "implies" everything that it
 > >> depends on?
 > >>
 > >> From what I can tell, main-distribution doesn't have much value if it
 > >> doesn't do that, but perhaps it doesn't do that because it isn't
 > supposed to
 > >> survive for long.
 > >>
 > >> Would it be worth trying to write something that looked at the requires
 > and
 > >> made some "educated guesses" about what to depend on?
 > >
 > > I assumed the reason it didn't "implies" everything was because it is
 > > intended as a device to specify what to install (in some cases), and
 > > if it implied things, then people developing packages could depend on
 > > that relationship, which we don't want (I think).
 > >
 > > But Matthew can presumably speak to the rationale better than the rest
 > of us.
 > >
 > > Sam
 >
 >
 >
 > --
 > Jay McCarthy <jay@cs.byu.edu>
 > Assistant Professor / Brigham Young University
 > http://faculty.cs.byu.edu/~jay
 >
 > "The glory of God is Intelligence" - D&C 93
 >
 
 --047d7b471e5cfa203304f018e81c
 Content-Type: text/html; charset=UTF-8
 Content-Transfer-Encoding: quoted-printable
 
 <div dir=3D"ltr">A few possible high-level goals:<div><br></div><div>- plan=
 et-compat should be, in the shorterish term, a bridge for people who want t=
 o convert their planet packages without converting others&#39; planet packa=
 ges that they depend on.</div>
 <div><br></div><div>- it would be great if planet-compat eventually replace=
 d all of planet so we could, at some low-level inside Racket change &quot;r=
 equire (planet ...)&quot; into the corresponding require for the package an=
 d either completely replace the planet server, or get rid of most of its fu=
 nctionality while still preserving backwards compatibility (in the sense th=
 at old code still runs).</div>
 <div><br></div><div>Both of these uses would seem to require more accurate =
 dependencies.</div><div><br></div><div>I am not sure where to put those dep=
 endencies, tho. Do they perhaps belong on the planet server now? Would that=
  help anything if they were there?</div>
 <div><br></div><div>Robby</div><div><br></div><div class=3D"gmail_extra"><b=
 r><br><div class=3D"gmail_quote">On Thu, Jan 16, 2014 at 10:23 AM, Jay McCa=
 rthy <span dir=3D"ltr">&lt;<a href=3D"mailto:jay.mccarthy@gmail.com" target=
 =3D"_blank">jay.mccarthy@gmail.com</a>&gt;</span> wrote:<br>
 <blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
 x #ccc solid;padding-left:1ex">That matches my assumptions as well.<br>
 <br>
 As far as something that figures out the requires better... I don&#39;t<br>
 see a lot of value in it. My perspective is that planet-compat&#39;s only<b=
 r>
 job is to get it installed and runnable, but if there are warnings<br>
 building, then it&#39;s just an incentive to convert the package.<br>
 (Additionally, planet still exists on all installations of Racket, so<br>
 I&#39;m less enthusiastic about planet-compat than I was when I made it.)<b=
 r>
 <div class=3D"HOEnZb"><div class=3D"h5"><br>
 On Thu, Jan 16, 2014 at 9:12 AM, Sam Tobin-Hochstadt<br>
 &lt;<a href=3D"mailto:samth@cs.indiana.edu">samth@cs.indiana.edu</a>&gt; wr=
 ote:<br>
 &gt; On Thu, Jan 16, 2014 at 11:07 AM, Robby Findler<br>
 &gt; &lt;<a href=3D"mailto:robby@eecs.northwestern.edu">robby@eecs.northwes=
 tern.edu</a>&gt; wrote:<br>
 &gt;&gt; The &quot;spirit&quot; of the old package system is that they assu=
 me the<br>
 &gt;&gt; main-distribution is installed, I believe.<br>
 &gt;&gt;<br>
 &gt;&gt; Does it make sense for main-distribution to &quot;implies&quot; ev=
 erything that it<br>
 &gt;&gt; depends on?<br>
 &gt;&gt;<br>
 &gt;&gt; From what I can tell, main-distribution doesn&#39;t have much valu=
 e if it<br>
 &gt;&gt; doesn&#39;t do that, but perhaps it doesn&#39;t do that because it=
  isn&#39;t supposed to<br>
 &gt;&gt; survive for long.<br>
 &gt;&gt;<br>
 &gt;&gt; Would it be worth trying to write something that looked at the req=
 uires and<br>
 &gt;&gt; made some &quot;educated guesses&quot; about what to depend on?<br=
 >
 &gt;<br>
 &gt; I assumed the reason it didn&#39;t &quot;implies&quot; everything was =
 because it is<br>
 &gt; intended as a device to specify what to install (in some cases), and<b=
 r>
 &gt; if it implied things, then people developing packages could depend on<=
 br>
 &gt; that relationship, which we don&#39;t want (I think).<br>
 &gt;<br>
 &gt; But Matthew can presumably speak to the rationale better than the rest=
  of us.<br>
 &gt;<br>
 &gt; Sam<br>
 <br>
 <br>
 <br>
 </div></div><div class=3D"HOEnZb"><div class=3D"h5">--<br>
 Jay McCarthy &lt;<a href=3D"mailto:jay@cs.byu.edu">jay@cs.byu.edu</a>&gt;<b=
 r>
 Assistant Professor / Brigham Young University<br>
 <a href=3D"http://faculty.cs.byu.edu/~jay" target=3D"_blank">http://faculty=
 .cs.byu.edu/~jay</a><br>
 <br>
 &quot;The glory of God is Intelligence&quot; - D&amp;C 93<br>
 </div></div></blockquote></div><br></div></div>
 
 --047d7b471e5cfa203304f018e81c--
From: Jay McCarthy <jay.mccarthy@gmail.com>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: Sam Tobin-Hochstadt <samth@cs.indiana.edu>, bugs <bugs@racket-lang.org>,
        nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14294: planet-compat packages should not specify dependencies
Date: Thu, 16 Jan 2014 09:32:41 -0700

 That's a nice hack :)
 
 On Thu, Jan 16, 2014 at 9:29 AM, Robby Findler
 <robby@eecs.northwestern.edu> wrote:
 > How about this idea: we make a new package called
 > "planet-filler-dependencies" that looks a lot like the current
 > main-distribution package, but implies everything. Then we make it clear the
 > purpose of this package and make all planet-compat packages depend on it.
 >
 > This way we have a path for people to work with planet package without lots
 > of bad errors that they cannot fix and we commit ourselves to maintaining
 > this package only for the purpose of helping people migrate?
 >
 > Robby
 >
 >
 >
 > On Thu, Jan 16, 2014 at 10:28 AM, Robby Findler
 > <robby@eecs.northwestern.edu> wrote:
 >>
 >> A few possible high-level goals:
 >>
 >> - planet-compat should be, in the shorterish term, a bridge for people who
 >> want to convert their planet packages without converting others' planet
 >> packages that they depend on.
 >>
 >> - it would be great if planet-compat eventually replaced all of planet so
 >> we could, at some low-level inside Racket change "require (planet ...)" into
 >> the corresponding require for the package and either completely replace the
 >> planet server, or get rid of most of its functionality while still
 >> preserving backwards compatibility (in the sense that old code still runs).
 >>
 >> Both of these uses would seem to require more accurate dependencies.
 >>
 >> I am not sure where to put those dependencies, tho. Do they perhaps belong
 >> on the planet server now? Would that help anything if they were there?
 >>
 >> Robby
 >>
 >>
 >>
 >> On Thu, Jan 16, 2014 at 10:23 AM, Jay McCarthy <jay.mccarthy@gmail.com>
 >> wrote:
 >>>
 >>> That matches my assumptions as well.
 >>>
 >>> As far as something that figures out the requires better... I don't
 >>> see a lot of value in it. My perspective is that planet-compat's only
 >>> job is to get it installed and runnable, but if there are warnings
 >>> building, then it's just an incentive to convert the package.
 >>> (Additionally, planet still exists on all installations of Racket, so
 >>> I'm less enthusiastic about planet-compat than I was when I made it.)
 >>>
 >>> On Thu, Jan 16, 2014 at 9:12 AM, Sam Tobin-Hochstadt
 >>> <samth@cs.indiana.edu> wrote:
 >>> > On Thu, Jan 16, 2014 at 11:07 AM, Robby Findler
 >>> > <robby@eecs.northwestern.edu> wrote:
 >>> >> The "spirit" of the old package system is that they assume the
 >>> >> main-distribution is installed, I believe.
 >>> >>
 >>> >> Does it make sense for main-distribution to "implies" everything that
 >>> >> it
 >>> >> depends on?
 >>> >>
 >>> >> From what I can tell, main-distribution doesn't have much value if it
 >>> >> doesn't do that, but perhaps it doesn't do that because it isn't
 >>> >> supposed to
 >>> >> survive for long.
 >>> >>
 >>> >> Would it be worth trying to write something that looked at the
 >>> >> requires and
 >>> >> made some "educated guesses" about what to depend on?
 >>> >
 >>> > I assumed the reason it didn't "implies" everything was because it is
 >>> > intended as a device to specify what to install (in some cases), and
 >>> > if it implied things, then people developing packages could depend on
 >>> > that relationship, which we don't want (I think).
 >>> >
 >>> > But Matthew can presumably speak to the rationale better than the rest
 >>> > of us.
 >>> >
 >>> > Sam
 >>>
 >>>
 >>>
 >>> --
 >>> Jay McCarthy <jay@cs.byu.edu>
 >>> Assistant Professor / Brigham Young University
 >>> http://faculty.cs.byu.edu/~jay
 >>>
 >>> "The glory of God is Intelligence" - D&C 93
 >>
 >>
 >
 
 
 
 -- 
 Jay McCarthy <jay@cs.byu.edu>
 Assistant Professor / Brigham Young University
 http://faculty.cs.byu.edu/~jay
 
 "The glory of God is Intelligence" - D&C 93
From: Jay McCarthy <jay.mccarthy@gmail.com>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: Sam Tobin-Hochstadt <samth@cs.indiana.edu>, bugs <bugs@racket-lang.org>,
        nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14294: planet-compat packages should not specify dependencies
Date: Thu, 16 Jan 2014 09:32:22 -0700

 On Thu, Jan 16, 2014 at 9:28 AM, Robby Findler
 <robby@eecs.northwestern.edu> wrote:
 > A few possible high-level goals:
 >
 > - planet-compat should be, in the shorterish term, a bridge for people who
 > want to convert their planet packages without converting others' planet
 > packages that they depend on.
 
 It does this now, I think.
 
 > - it would be great if planet-compat eventually replaced all of planet so we
 > could, at some low-level inside Racket change "require (planet ...)" into
 > the corresponding require for the package and either completely replace the
 > planet server, or get rid of most of its functionality while still
 > preserving backwards compatibility (in the sense that old code still runs).
 
 I didn't think of that, but it would be cool.
 
 > Both of these uses would seem to require more accurate dependencies.
 
 I agree.
 
 > I am not sure where to put those dependencies, tho. Do they perhaps belong
 > on the planet server now? Would that help anything if they were there?
 
 Right now, the planet-compat server already computes something like
 this and we would probably extend that.
 
 https://github.com/plt/racket/blob/master/pkgs/plt-services/meta/pkg-index/planet-compat/update.rkt#L281
 
 > Robby
 >
 >
 >
 > On Thu, Jan 16, 2014 at 10:23 AM, Jay McCarthy <jay.mccarthy@gmail.com>
 > wrote:
 >>
 >> That matches my assumptions as well.
 >>
 >> As far as something that figures out the requires better... I don't
 >> see a lot of value in it. My perspective is that planet-compat's only
 >> job is to get it installed and runnable, but if there are warnings
 >> building, then it's just an incentive to convert the package.
 >> (Additionally, planet still exists on all installations of Racket, so
 >> I'm less enthusiastic about planet-compat than I was when I made it.)
 >>
 >> On Thu, Jan 16, 2014 at 9:12 AM, Sam Tobin-Hochstadt
 >> <samth@cs.indiana.edu> wrote:
 >> > On Thu, Jan 16, 2014 at 11:07 AM, Robby Findler
 >> > <robby@eecs.northwestern.edu> wrote:
 >> >> The "spirit" of the old package system is that they assume the
 >> >> main-distribution is installed, I believe.
 >> >>
 >> >> Does it make sense for main-distribution to "implies" everything that
 >> >> it
 >> >> depends on?
 >> >>
 >> >> From what I can tell, main-distribution doesn't have much value if it
 >> >> doesn't do that, but perhaps it doesn't do that because it isn't
 >> >> supposed to
 >> >> survive for long.
 >> >>
 >> >> Would it be worth trying to write something that looked at the requires
 >> >> and
 >> >> made some "educated guesses" about what to depend on?
 >> >
 >> > I assumed the reason it didn't "implies" everything was because it is
 >> > intended as a device to specify what to install (in some cases), and
 >> > if it implied things, then people developing packages could depend on
 >> > that relationship, which we don't want (I think).
 >> >
 >> > But Matthew can presumably speak to the rationale better than the rest
 >> > of us.
 >> >
 >> > Sam
 >>
 >>
 >>
 >> --
 >> Jay McCarthy <jay@cs.byu.edu>
 >> Assistant Professor / Brigham Young University
 >> http://faculty.cs.byu.edu/~jay
 >>
 >> "The glory of God is Intelligence" - D&C 93
 >
 >
 
 
 
 -- 
 Jay McCarthy <jay@cs.byu.edu>
 Assistant Professor / Brigham Young University
 http://faculty.cs.byu.edu/~jay
 
 "The glory of God is Intelligence" - D&C 93
From: Robby Findler <robby@eecs.northwestern.edu>
To: Jay McCarthy <jay.mccarthy@gmail.com>
Cc: Sam Tobin-Hochstadt <samth@cs.indiana.edu>, bugs <bugs@racket-lang.org>,
        nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14294: planet-compat packages should not specify dependencies
Date: Thu, 16 Jan 2014 10:38:54 -0600

 --047d7b471e5cb0689104f0190f84
 Content-Type: text/plain; charset=UTF-8
 
 On Thu, Jan 16, 2014 at 10:32 AM, Jay McCarthy <jay.mccarthy@gmail.com>wrote:
 
 > On Thu, Jan 16, 2014 at 9:28 AM, Robby Findler
 > <robby@eecs.northwestern.edu> wrote:
 > > A few possible high-level goals:
 > >
 > > - planet-compat should be, in the shorterish term, a bridge for people
 > who
 > > want to convert their planet packages without converting others' planet
 > > packages that they depend on.
 >
 > It does this now, I think.
 >
 >
 Well, I would cite the complaint in this PR as a reason it could do better
 at this job. I think you agree with that (based on the below), but I just
 want to double check to make sure we're on the same page.
 
 
 > > - it would be great if planet-compat eventually replaced all of planet
 > so we
 > > could, at some low-level inside Racket change "require (planet ...)" into
 > > the corresponding require for the package and either completely replace
 > the
 > > planet server, or get rid of most of its functionality while still
 > > preserving backwards compatibility (in the sense that old code still
 > runs).
 >
 > I didn't think of that, but it would be cool.
 >
 > > Both of these uses would seem to require more accurate dependencies.
 >
 > I agree.
 >
 > > I am not sure where to put those dependencies, tho. Do they perhaps
 > belong
 > > on the planet server now? Would that help anything if they were there?
 >
 > Right now, the planet-compat server already computes something like
 > this and we would probably extend that.
 >
 >
 > https://github.com/plt/racket/blob/master/pkgs/plt-services/meta/pkg-index/planet-compat/update.rkt#L281
 >
 > > Robby
 > >
 > >
 > >
 > > On Thu, Jan 16, 2014 at 10:23 AM, Jay McCarthy <jay.mccarthy@gmail.com>
 > > wrote:
 > >>
 > >> That matches my assumptions as well.
 > >>
 > >> As far as something that figures out the requires better... I don't
 > >> see a lot of value in it. My perspective is that planet-compat's only
 > >> job is to get it installed and runnable, but if there are warnings
 > >> building, then it's just an incentive to convert the package.
 > >> (Additionally, planet still exists on all installations of Racket, so
 > >> I'm less enthusiastic about planet-compat than I was when I made it.)
 > >>
 > >> On Thu, Jan 16, 2014 at 9:12 AM, Sam Tobin-Hochstadt
 > >> <samth@cs.indiana.edu> wrote:
 > >> > On Thu, Jan 16, 2014 at 11:07 AM, Robby Findler
 > >> > <robby@eecs.northwestern.edu> wrote:
 > >> >> The "spirit" of the old package system is that they assume the
 > >> >> main-distribution is installed, I believe.
 > >> >>
 > >> >> Does it make sense for main-distribution to "implies" everything that
 > >> >> it
 > >> >> depends on?
 > >> >>
 > >> >> From what I can tell, main-distribution doesn't have much value if it
 > >> >> doesn't do that, but perhaps it doesn't do that because it isn't
 > >> >> supposed to
 > >> >> survive for long.
 > >> >>
 > >> >> Would it be worth trying to write something that looked at the
 > requires
 > >> >> and
 > >> >> made some "educated guesses" about what to depend on?
 > >> >
 > >> > I assumed the reason it didn't "implies" everything was because it is
 > >> > intended as a device to specify what to install (in some cases), and
 > >> > if it implied things, then people developing packages could depend on
 > >> > that relationship, which we don't want (I think).
 > >> >
 > >> > But Matthew can presumably speak to the rationale better than the rest
 > >> > of us.
 > >> >
 > >> > Sam
 > >>
 > >>
 > >>
 > >> --
 > >> Jay McCarthy <jay@cs.byu.edu>
 > >> Assistant Professor / Brigham Young University
 > >> http://faculty.cs.byu.edu/~jay
 > >>
 > >> "The glory of God is Intelligence" - D&C 93
 > >
 > >
 >
 >
 >
 > --
 > Jay McCarthy <jay@cs.byu.edu>
 > Assistant Professor / Brigham Young University
 > http://faculty.cs.byu.edu/~jay
 >
 > "The glory of God is Intelligence" - D&C 93
 >
 
 --047d7b471e5cb0689104f0190f84
 Content-Type: text/html; charset=UTF-8
 Content-Transfer-Encoding: quoted-printable
 
 <div dir=3D"ltr"><br><div class=3D"gmail_extra"><br><br><div class=3D"gmail=
 _quote">On Thu, Jan 16, 2014 at 10:32 AM, Jay McCarthy <span dir=3D"ltr">&l=
 t;<a href=3D"mailto:jay.mccarthy@gmail.com" target=3D"_blank">jay.mccarthy@=
 gmail.com</a>&gt;</span> wrote:<br>
 <blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8ex;border-left:1p=
 x #ccc solid;padding-left:1ex"><div class=3D"im">On Thu, Jan 16, 2014 at 9:=
 28 AM, Robby Findler<br>
 &lt;<a href=3D"mailto:robby@eecs.northwestern.edu">robby@eecs.northwestern.=
 edu</a>&gt; wrote:<br>
 &gt; A few possible high-level goals:<br>
 &gt;<br>
 &gt; - planet-compat should be, in the shorterish term, a bridge for people=
  who<br>
 &gt; want to convert their planet packages without converting others&#39; p=
 lanet<br>
 &gt; packages that they depend on.<br>
 <br>
 </div>It does this now, I think.<br>
 <div class=3D"im"><br></div></blockquote><div><br></div><div>Well, I would =
 cite the complaint in this PR as a reason it could do better at this job. I=
  think you agree with that (based on the below), but I just want to double =
 check to make sure we&#39;re on the same page.</div>
 <div>=C2=A0</div><blockquote class=3D"gmail_quote" style=3D"margin:0 0 0 .8=
 ex;border-left:1px #ccc solid;padding-left:1ex"><div class=3D"im">
 &gt; - it would be great if planet-compat eventually replaced all of planet=
  so we<br>
 &gt; could, at some low-level inside Racket change &quot;require (planet ..=
 .)&quot; into<br>
 &gt; the corresponding require for the package and either completely replac=
 e the<br>
 &gt; planet server, or get rid of most of its functionality while still<br>
 &gt; preserving backwards compatibility (in the sense that old code still r=
 uns).<br>
 <br>
 </div>I didn&#39;t think of that, but it would be cool.<br>
 <div class=3D"im"><br>
 &gt; Both of these uses would seem to require more accurate dependencies.<b=
 r>
 <br>
 </div>I agree.<br>
 <div class=3D"im"><br>
 &gt; I am not sure where to put those dependencies, tho. Do they perhaps be=
 long<br>
 &gt; on the planet server now? Would that help anything if they were there?=
 <br>
 <br>
 </div>Right now, the planet-compat server already computes something like<b=
 r>
 this and we would probably extend that.<br>
 <br>
 <a href=3D"https://github.com/plt/racket/blob/master/pkgs/plt-services/meta=
 /pkg-index/planet-compat/update.rkt#L281" target=3D"_blank">https://github.=
 com/plt/racket/blob/master/pkgs/plt-services/meta/pkg-index/planet-compat/u=
 pdate.rkt#L281</a><br>
 
 <div class=3D"HOEnZb"><div class=3D"h5"><br>
 &gt; Robby<br>
 &gt;<br>
 &gt;<br>
 &gt;<br>
 &gt; On Thu, Jan 16, 2014 at 10:23 AM, Jay McCarthy &lt;<a href=3D"mailto:j=
 ay.mccarthy@gmail.com">jay.mccarthy@gmail.com</a>&gt;<br>
 &gt; wrote:<br>
 &gt;&gt;<br>
 &gt;&gt; That matches my assumptions as well.<br>
 &gt;&gt;<br>
 &gt;&gt; As far as something that figures out the requires better... I don&=
 #39;t<br>
 &gt;&gt; see a lot of value in it. My perspective is that planet-compat&#39=
 ;s only<br>
 &gt;&gt; job is to get it installed and runnable, but if there are warnings=
 <br>
 &gt;&gt; building, then it&#39;s just an incentive to convert the package.<=
 br>
 &gt;&gt; (Additionally, planet still exists on all installations of Racket,=
  so<br>
 &gt;&gt; I&#39;m less enthusiastic about planet-compat than I was when I ma=
 de it.)<br>
 &gt;&gt;<br>
 &gt;&gt; On Thu, Jan 16, 2014 at 9:12 AM, Sam Tobin-Hochstadt<br>
 &gt;&gt; &lt;<a href=3D"mailto:samth@cs.indiana.edu">samth@cs.indiana.edu</=
 a>&gt; wrote:<br>
 &gt;&gt; &gt; On Thu, Jan 16, 2014 at 11:07 AM, Robby Findler<br>
 &gt;&gt; &gt; &lt;<a href=3D"mailto:robby@eecs.northwestern.edu">robby@eecs=
 .northwestern.edu</a>&gt; wrote:<br>
 &gt;&gt; &gt;&gt; The &quot;spirit&quot; of the old package system is that =
 they assume the<br>
 &gt;&gt; &gt;&gt; main-distribution is installed, I believe.<br>
 &gt;&gt; &gt;&gt;<br>
 &gt;&gt; &gt;&gt; Does it make sense for main-distribution to &quot;implies=
 &quot; everything that<br>
 &gt;&gt; &gt;&gt; it<br>
 &gt;&gt; &gt;&gt; depends on?<br>
 &gt;&gt; &gt;&gt;<br>
 &gt;&gt; &gt;&gt; From what I can tell, main-distribution doesn&#39;t have =
 much value if it<br>
 &gt;&gt; &gt;&gt; doesn&#39;t do that, but perhaps it doesn&#39;t do that b=
 ecause it isn&#39;t<br>
 &gt;&gt; &gt;&gt; supposed to<br>
 &gt;&gt; &gt;&gt; survive for long.<br>
 &gt;&gt; &gt;&gt;<br>
 &gt;&gt; &gt;&gt; Would it be worth trying to write something that looked a=
 t the requires<br>
 &gt;&gt; &gt;&gt; and<br>
 &gt;&gt; &gt;&gt; made some &quot;educated guesses&quot; about what to depe=
 nd on?<br>
 &gt;&gt; &gt;<br>
 &gt;&gt; &gt; I assumed the reason it didn&#39;t &quot;implies&quot; everyt=
 hing was because it is<br>
 &gt;&gt; &gt; intended as a device to specify what to install (in some case=
 s), and<br>
 &gt;&gt; &gt; if it implied things, then people developing packages could d=
 epend on<br>
 &gt;&gt; &gt; that relationship, which we don&#39;t want (I think).<br>
 &gt;&gt; &gt;<br>
 &gt;&gt; &gt; But Matthew can presumably speak to the rationale better than=
  the rest<br>
 &gt;&gt; &gt; of us.<br>
 &gt;&gt; &gt;<br>
 &gt;&gt; &gt; Sam<br>
 &gt;&gt;<br>
 &gt;&gt;<br>
 &gt;&gt;<br>
 &gt;&gt; --<br>
 &gt;&gt; Jay McCarthy &lt;<a href=3D"mailto:jay@cs.byu.edu">jay@cs.byu.edu<=
 /a>&gt;<br>
 &gt;&gt; Assistant Professor / Brigham Young University<br>
 &gt;&gt; <a href=3D"http://faculty.cs.byu.edu/~jay" target=3D"_blank">http:=
 //faculty.cs.byu.edu/~jay</a><br>
 &gt;&gt;<br>
 &gt;&gt; &quot;The glory of God is Intelligence&quot; - D&amp;C 93<br>
 &gt;<br>
 &gt;<br>
 <br>
 <br>
 <br>
 --<br>
 Jay McCarthy &lt;<a href=3D"mailto:jay@cs.byu.edu">jay@cs.byu.edu</a>&gt;<b=
 r>
 Assistant Professor / Brigham Young University<br>
 <a href=3D"http://faculty.cs.byu.edu/~jay" target=3D"_blank">http://faculty=
 .cs.byu.edu/~jay</a><br>
 <br>
 &quot;The glory of God is Intelligence&quot; - D&amp;C 93<br>
 </div></div></blockquote></div><br></div></div>
 
 --047d7b471e5cb0689104f0190f84--
From: Jay McCarthy <jay.mccarthy@gmail.com>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: Sam Tobin-Hochstadt <samth@cs.indiana.edu>, bugs <bugs@racket-lang.org>,
        nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14294: planet-compat packages should not specify dependencies
Date: Thu, 16 Jan 2014 09:43:13 -0700

 Yes
 
 On Thu, Jan 16, 2014 at 9:38 AM, Robby Findler
 <robby@eecs.northwestern.edu> wrote:
 >
 >
 >
 > On Thu, Jan 16, 2014 at 10:32 AM, Jay McCarthy <jay.mccarthy@gmail.com>
 > wrote:
 >>
 >> On Thu, Jan 16, 2014 at 9:28 AM, Robby Findler
 >> <robby@eecs.northwestern.edu> wrote:
 >> > A few possible high-level goals:
 >> >
 >> > - planet-compat should be, in the shorterish term, a bridge for people
 >> > who
 >> > want to convert their planet packages without converting others' planet
 >> > packages that they depend on.
 >>
 >> It does this now, I think.
 >>
 >
 > Well, I would cite the complaint in this PR as a reason it could do better
 > at this job. I think you agree with that (based on the below), but I just
 > want to double check to make sure we're on the same page.
 >
 >>
 >> > - it would be great if planet-compat eventually replaced all of planet
 >> > so we
 >> > could, at some low-level inside Racket change "require (planet ...)"
 >> > into
 >> > the corresponding require for the package and either completely replace
 >> > the
 >> > planet server, or get rid of most of its functionality while still
 >> > preserving backwards compatibility (in the sense that old code still
 >> > runs).
 >>
 >> I didn't think of that, but it would be cool.
 >>
 >> > Both of these uses would seem to require more accurate dependencies.
 >>
 >> I agree.
 >>
 >> > I am not sure where to put those dependencies, tho. Do they perhaps
 >> > belong
 >> > on the planet server now? Would that help anything if they were there?
 >>
 >> Right now, the planet-compat server already computes something like
 >> this and we would probably extend that.
 >>
 >>
 >> https://github.com/plt/racket/blob/master/pkgs/plt-services/meta/pkg-index/planet-compat/update.rkt#L281
 >>
 >> > Robby
 >> >
 >> >
 >> >
 >> > On Thu, Jan 16, 2014 at 10:23 AM, Jay McCarthy <jay.mccarthy@gmail.com>
 >> > wrote:
 >> >>
 >> >> That matches my assumptions as well.
 >> >>
 >> >> As far as something that figures out the requires better... I don't
 >> >> see a lot of value in it. My perspective is that planet-compat's only
 >> >> job is to get it installed and runnable, but if there are warnings
 >> >> building, then it's just an incentive to convert the package.
 >> >> (Additionally, planet still exists on all installations of Racket, so
 >> >> I'm less enthusiastic about planet-compat than I was when I made it.)
 >> >>
 >> >> On Thu, Jan 16, 2014 at 9:12 AM, Sam Tobin-Hochstadt
 >> >> <samth@cs.indiana.edu> wrote:
 >> >> > On Thu, Jan 16, 2014 at 11:07 AM, Robby Findler
 >> >> > <robby@eecs.northwestern.edu> wrote:
 >> >> >> The "spirit" of the old package system is that they assume the
 >> >> >> main-distribution is installed, I believe.
 >> >> >>
 >> >> >> Does it make sense for main-distribution to "implies" everything
 >> >> >> that
 >> >> >> it
 >> >> >> depends on?
 >> >> >>
 >> >> >> From what I can tell, main-distribution doesn't have much value if
 >> >> >> it
 >> >> >> doesn't do that, but perhaps it doesn't do that because it isn't
 >> >> >> supposed to
 >> >> >> survive for long.
 >> >> >>
 >> >> >> Would it be worth trying to write something that looked at the
 >> >> >> requires
 >> >> >> and
 >> >> >> made some "educated guesses" about what to depend on?
 >> >> >
 >> >> > I assumed the reason it didn't "implies" everything was because it is
 >> >> > intended as a device to specify what to install (in some cases), and
 >> >> > if it implied things, then people developing packages could depend on
 >> >> > that relationship, which we don't want (I think).
 >> >> >
 >> >> > But Matthew can presumably speak to the rationale better than the
 >> >> > rest
 >> >> > of us.
 >> >> >
 >> >> > Sam
 >> >>
 >> >>
 >> >>
 >> >> --
 >> >> Jay McCarthy <jay@cs.byu.edu>
 >> >> Assistant Professor / Brigham Young University
 >> >> http://faculty.cs.byu.edu/~jay
 >> >>
 >> >> "The glory of God is Intelligence" - D&C 93
 >> >
 >> >
 >>
 >>
 >>
 >> --
 >> Jay McCarthy <jay@cs.byu.edu>
 >> Assistant Professor / Brigham Young University
 >> http://faculty.cs.byu.edu/~jay
 >>
 >> "The glory of God is Intelligence" - D&C 93
 >
 >
 
 
 
 -- 
 Jay McCarthy <jay@cs.byu.edu>
 Assistant Professor / Brigham Young University
 http://faculty.cs.byu.edu/~jay
 
 "The glory of God is Intelligence" - D&C 93
From: Matthew Flatt <mflatt@cs.utah.edu>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: Jay McCarthy <jay.mccarthy@gmail.com>,
        Sam Tobin-Hochstadt <samth@cs.indiana.edu>,
        bugs <bugs@racket-lang.org>, nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14294: planet-compat packages should not specify dependencies
Date: Thu, 16 Jan 2014 09:55:32 -0700

 That all sounds right to me.
 
 Yes: I avoided making "main-distribution" imply everything so that
 packages wouldn't depend on it.
 
 And "planet-filler-dependencies" (or "planet-compat-dependencies"?)
 sounds like a fine bridge.
 
 At Thu, 16 Jan 2014 10:29:51 -0600, Robby Findler wrote:
 > How about this idea: we make a new package called
 > "planet-filler-dependencies" that looks a lot like the current
 > main-distribution package, but implies everything. Then we make it clear
 > the purpose of this package and make all planet-compat packages depend on
 > it.
 > 
 > This way we have a path for people to work with planet package without lots
 > of bad errors that they cannot fix and we commit ourselves to maintaining
 > this package only for the purpose of helping people migrate?
 > 
 > Robby
 > 
 > 
 > 
 > On Thu, Jan 16, 2014 at 10:28 AM, Robby Findler <robby@eecs.northwestern.edu
 > > wrote:
 > 
 > > A few possible high-level goals:
 > >
 > > - planet-compat should be, in the shorterish term, a bridge for people who
 > > want to convert their planet packages without converting others' planet
 > > packages that they depend on.
 > >
 > > - it would be great if planet-compat eventually replaced all of planet so
 > > we could, at some low-level inside Racket change "require (planet ...)"
 > > into the corresponding require for the package and either completely
 > > replace the planet server, or get rid of most of its functionality while
 > > still preserving backwards compatibility (in the sense that old code still
 > > runs).
 > >
 > > Both of these uses would seem to require more accurate dependencies.
 > >
 > > I am not sure where to put those dependencies, tho. Do they perhaps belong
 > > on the planet server now? Would that help anything if they were there?
 > >
 > > Robby
 > >
 > >
 > >
 > > On Thu, Jan 16, 2014 at 10:23 AM, Jay McCarthy <jay.mccarthy@gmail.com>wrote:
 > >
 > >> That matches my assumptions as well.
 > >>
 > >> As far as something that figures out the requires better... I don't
 > >> see a lot of value in it. My perspective is that planet-compat's only
 > >> job is to get it installed and runnable, but if there are warnings
 > >> building, then it's just an incentive to convert the package.
 > >> (Additionally, planet still exists on all installations of Racket, so
 > >> I'm less enthusiastic about planet-compat than I was when I made it.)
 > >>
 > >> On Thu, Jan 16, 2014 at 9:12 AM, Sam Tobin-Hochstadt
 > >> <samth@cs.indiana.edu> wrote:
 > >> > On Thu, Jan 16, 2014 at 11:07 AM, Robby Findler
 > >> > <robby@eecs.northwestern.edu> wrote:
 > >> >> The "spirit" of the old package system is that they assume the
 > >> >> main-distribution is installed, I believe.
 > >> >>
 > >> >> Does it make sense for main-distribution to "implies" everything that
 > >> it
 > >> >> depends on?
 > >> >>
 > >> >> From what I can tell, main-distribution doesn't have much value if it
 > >> >> doesn't do that, but perhaps it doesn't do that because it isn't
 > >> supposed to
 > >> >> survive for long.
 > >> >>
 > >> >> Would it be worth trying to write something that looked at the
 > >> requires and
 > >> >> made some "educated guesses" about what to depend on?
 > >> >
 > >> > I assumed the reason it didn't "implies" everything was because it is
 > >> > intended as a device to specify what to install (in some cases), and
 > >> > if it implied things, then people developing packages could depend on
 > >> > that relationship, which we don't want (I think).
 > >> >
 > >> > But Matthew can presumably speak to the rationale better than the rest
 > >> of us.
 > >> >
 > >> > Sam
 > >>
 > >>
 > >>
 > >> --
 > >> Jay McCarthy <jay@cs.byu.edu>
 > >> Assistant Professor / Brigham Young University
 > >> http://faculty.cs.byu.edu/~jay
 > >>
 > >> "The glory of God is Intelligence" - D&C 93
 > >>
 > >
 > >
