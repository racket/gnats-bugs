From bugs+caf_=bugs=bugs.plt-scheme.org@plt-scheme.org Thu Nov 28 09:33:56 2013
Received: from mail-ob0-f180.google.com (mail-ob0-f180.google.com [209.85.214.180])
	by winooski.ccs.neu.edu (8.14.7/8.14.7) with ESMTP id rASEXrKP009874
	for <bugs@bugs.plt-scheme.org>; Thu, 28 Nov 2013 09:33:53 -0500
Message-Id: <201311281433.rASEXoxw009868@winooski.ccs.neu.edu>
Date: Thu, 28 Nov 2013 09:33:50 -0500
From: greghendershott@email.com
To: bugs@racket-lang.org
Subject: local-require doesn't like non-simple require specs for the #lang module

>Number:         14207
>Category:       all
>Synopsis:       local-require doesn't like non-simple require specs for the #lang module
>Class:          sw-bug
>Responsible:    jay
>Severity:       non-critical
>Priority:       medium
>State:          closed
>Confidential:   no
>Arrival-Date:   Thu Nov 28 09:36:01 -0500 2013
>Closed-Date:    Mon Dec 02 15:16:34 -0500 2013
>Last-Modified:  Mon Dec 02 15:16:34 -0500 2013
>Originator:     Greg Hendershott
>Organization:
plt
>Submitter-Id:   unknown
>Release:        5.90.0.7--2013-08-19(a212241/a)
>Environment:
macosx "Darwin mbp.local 11.4.2 Darwin Kernel Version 11.4.2: Thu Aug 23 16:25:48 PDT 2012; root:xnu-1699.32.7~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
Human Language: english
(current-memory-use) 353283932
Links: (links) = (); (links #:user? #f) = ("contract-profile" "math" "mysterx" "sgl" "datalog" "shell-completion" "algol60" "icons" "frtime" "unstable" "slatex" "realm" "games" "plot" "trace" "eopl" "lazy" "preprocessor" "db" "images" "mzcom" "racklog" "swindle" "schemeunit" "plai" "ds-store" "deinprogramm" "make"); (links #:root? #t) = (); (links #:user? #f #:root? #t) = (#<path:/Applications/Racket_v5.90.0.7/share/pkgs/main-distribution> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/racket-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/at-exp-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/compatibility> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/data-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/draw> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/draw-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/draw-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/drracket> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/errortrace> #<path:!
 /Applications/Racket_v5.90.0.7/share/pkgs/future-visualizer> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/future-visualizer-typed> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/gui> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/htdp> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/html> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/macro-debugger> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/macro-debugger-text-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/mzscheme> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/parser-tools> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/pconvert-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/pict> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/picturing-programs> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/profile> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r5rs> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r6rs> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/racket-doc> #<path:/Appl!
 ications/Racket_v5.90.0.7/share/pkgs/distributed-places-doc> #!
 <path:/Applications/Racket_v5.90.0.7/share/pkgs/racket-index> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/rackunit> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/readline> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/redex> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/sandbox-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/scribble> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/snip> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/srfi> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/string-constants-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/syntax-color> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/typed-racket> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/typed-racket-more> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-contract-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-latent-!
 contract-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-list-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-options-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-parameter-group-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/web-server> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/wxme> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/xrepl> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/base> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/compatibility-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/drracket-plugin-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/errortrace-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/gui-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/parser-tools-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/rackunit-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/scribble-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/scribble-lib> #<path:/Appl!
 ications/Racket_v5.90.0.7/share/pkgs/compatibility-doc> #<path:/Applica!
 tions/Racket_v5.90.0.7/share/pkgs/profile-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/db-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/db-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/srfi-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/wxme-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/gui-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/pict-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/pict-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/draw-x86_64-macosx> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/compiler-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/planet-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/snip-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/typed-racket-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/html-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/net-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/srfi-doc> #<path:/Applications/Racket_v5.90.0.7/!
 share/pkgs/gui-pkg-manager-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/errortrace-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/profile-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r5rs-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/htdp-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/htdp-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/html-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/typed-racket-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/eli-tester> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r6rs-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/math-x86_64-macosx> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/parser-tools-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/web-server-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/web-server-doc> #<path:/Appl!
 ications/Racket_v5.90.0.7/share/pkgs/unstable-flonum-lib> #<path:/Appli!
 cations/Racket_v5.90.0.7/share/pkgs/r5rs-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r6rs-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/distributed-places-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/rackunit-plugin-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/readline-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/readline-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/redex-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/redex-examples> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/redex-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow-exe> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow-plugin> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/syntax-color-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/syntax-color-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/xrepl-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/xrepl-doc> #<path:/Applications/Racket_v5.90.0.7/share/!
 pkgs/gui-x86_64-macosx> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/scribble-text-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-debug-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-macro-testing-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-pretty-lib>)
raco pkg (show):
Installation-wide:
 Package              Checksum                                    Source
 main-distribution    87da68f0fd76d01bfd3877e25484c7cb473f5dc7    (catalog main-distribution)
 racket-lib           ab97208a7cbba149b212fe92bbdbe7cf318492a7    (catalog racket-lib)
 [143 auto-installed packages not shown]
User-specific for installation "snapshot":
 [none]



Collections:
("/Users/greg/Library/Racket/snapshot/collects"
 (non-existent-path))
("/Applications/Racket_v5.90.0.7/collects"
 (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket" "rackunit" "raco" "reader" "s-exp" "scheme" "setup" "srfi" "syntax" "unstable" "version" "xml"))

Recent Internal Errors: 
Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default "/Users/greg/src/scheme/collects") #() "#lang racket\n" #f #t ((main) (test)) #t))
>Description:
It looks like there's a corner case where `local-require` does not work -- with non-simple require specs such as `rename-in` or `prefix-in`, AND where the module is the #lang module.

This works with normal require:

#lang racket
(require (rename-in racket [string rkt:string]))
(rkt:string #\a #\b) ;=> "ab"

But this does not:

#lang racket
(let ()
  (local-require (rename-in racket [string rkt:string]))
  ;;=> 3:28: syntax: misplaced ellipsis in template at: ... in: ...
  (rkt:string #\a #\b))

Something like...

#lang racket
(let ()
  (local-require (rename-in net/url [get-pure-port foo]))
  ...

...does compile OK. So it seems specific to it being the #lang or perhaps specific to `racket`.

I'll report this as a not-critical bug. (Even if it's not a bug in the sense that there's a good reason why it ought not to work? The error message could be better and/or the docs for local-require might explain this.)
>How-To-Repeat:
See code in description above.
>Fix:
>Audit-Trail:
From: Jay McCarthy <jay.mccarthy@gmail.com>
To: greghendershott@email.com, bugs <bugs@racket-lang.org>,
        Matthew Flatt <mflatt@cs.utah.edu>
Cc: nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14207: local-require doesn't like non-simple
 require specs for the #lang module
Date: Fri, 29 Nov 2013 07:02:47 -0700

 Matthew,
 
 I think the problem is that (rename-in M [a rename]) expands to
 include all the bindings of M except replacing rename. Since ... is a
 binding of racket, it is lifted out, but put in a context that can't
 deal with it. I'm not sure if the solution is to prevent lifting ...
 or to move the protection to the next layer. But a simpler test is
 this one:
 
 #lang racket/base
 (let ()
   (local-require (rename-in "r.rkt" [string rkt:strrng]))
   ;;=> 3:28: syntax: misplaced ellipsis in template at: ... in: ...
   rkt:strrng)
 
 where r.kt is
 
 #lang racket
 (provide ...
          string)
 
 
 On Thu, Nov 28, 2013 at 7:36 AM,  <greghendershott@email.com> wrote:
 > A new problem report is waiting at
 >   http://bugs.racket-lang.org/query/?cmd=view&pr=14207
 >
 > Reported by Greg Hendershott for release: 5.90.0.7--2013-08-19(a212241/a)
 >
 > *** Description:
 > It looks like there's a corner case where `local-require` does not work -- with non-simple require specs such as `rename-in` or `prefix-in`, AND where the module is the #lang module.
 >
 > This works with normal require:
 >
 > #lang racket
 > (require (rename-in racket [string rkt:string]))
 > (rkt:string #\a #\b) ;=> "ab"
 >
 > But this does not:
 >
 > #lang racket
 > (let ()
 >   (local-require (rename-in racket [string rkt:string]))
 >   ;;=> 3:28: syntax: misplaced ellipsis in template at: ... in: ...
 >   (rkt:string #\a #\b))
 >
 > Something like...
 >
 > #lang racket
 > (let ()
 >   (local-require (rename-in net/url [get-pure-port foo]))
 >   ...
 >
 > ...does compile OK. So it seems specific to it being the #lang or perhaps specific to `racket`.
 >
 > I'll report this as a not-critical bug. (Even if it's not a bug in the sense that there's a good reason why it ought not to work? The error message could be better and/or the docs for local-require might explain this.)
 >
 > *** How to repeat:
 > See code in description above.
 >
 > *** Environment:
 > macosx "Darwin mbp.local 11.4.2 Darwin Kernel Version 11.4.2: Thu Aug 23 16:25:48 PDT 2012; root:xnu-1699.32.7~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
 > Human Language: english
 > (current-memory-use) 353283932
 > Links: (links) = (); (links #:user? #f) = ("contract-profile" "math" "mysterx" "sgl" "datalog" "shell-completion" "algol60" "icons" "frtime" "unstable" "slatex" "realm" "games" "plot" "trace" "eopl" "lazy" "preprocessor" "db" "images" "mzcom" "racklog" "swindle" "schemeunit" "plai" "ds-store" "deinprogramm" "make"); (links #:root? #t) = (); (links #:user? #f #:root? #t) = (#<path:/Applications/Racket_v5.90.0.7/share/pkgs/main-distribution> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/racket-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/at-exp-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/compatibility> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/data-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/draw> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/draw-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/draw-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/drracket> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/errortrace> #<path:!
 >  /Applications/Racket_v5.90.0.7/share/pkgs/future-visualizer> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/future-visualizer-typed> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/gui> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/htdp> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/html> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/macro-debugger> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/macro-debugger-text-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/mzscheme> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/parser-tools> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/pconvert-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/pict> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/picturing-programs> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/profile> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r5rs> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r6rs> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/racket-doc> #<path:/Appl!
 >  ications/Racket_v5.90.0.7/share/pkgs/distributed-places-doc> #!
 >  <path:/Applications/Racket_v5.90.0.7/share/pkgs/racket-index> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/rackunit> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/readline> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/redex> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/sandbox-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/scribble> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/snip> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/srfi> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/string-constants-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/syntax-color> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/typed-racket> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/typed-racket-more> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-contract-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-latent-!
 >  contract-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-list-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-options-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-parameter-group-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/web-server> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/wxme> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/xrepl> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/base> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/compatibility-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/drracket-plugin-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/errortrace-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/gui-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/parser-tools-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/rackunit-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/scribble-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/scribble-lib> #<path:/Appl!
 >  ications/Racket_v5.90.0.7/share/pkgs/compatibility-doc> #<path:/Applica!
 >  tions/Racket_v5.90.0.7/share/pkgs/profile-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/db-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/db-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/srfi-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/wxme-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/gui-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/pict-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/pict-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/draw-x86_64-macosx> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/compiler-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/planet-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/snip-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/typed-racket-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/html-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/net-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/srfi-doc> #<path:/Applications/Racket_v5.90.0.7/!
 >  share/pkgs/gui-pkg-manager-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/errortrace-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/profile-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r5rs-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/htdp-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/htdp-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/html-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/typed-racket-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/eli-tester> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r6rs-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/math-x86_64-macosx> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/parser-tools-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/web-server-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/web-server-doc> #<path:/Appl!
 >  ications/Racket_v5.90.0.7/share/pkgs/unstable-flonum-lib> #<path:/Appli!
 >  cations/Racket_v5.90.0.7/share/pkgs/r5rs-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r6rs-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/distributed-places-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/rackunit-plugin-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/readline-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/readline-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/redex-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/redex-examples> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/redex-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow-exe> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow-plugin> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/syntax-color-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/syntax-color-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/xrepl-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/xrepl-doc> #<path:/Applications/Racket_v5.90.0.7/share/!
 >  pkgs/gui-x86_64-macosx> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/scribble-text-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-debug-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-macro-testing-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-pretty-lib>)
 > raco pkg (show):
 > Installation-wide:
 >  Package              Checksum                                    Source
 >  main-distribution    87da68f0fd76d01bfd3877e25484c7cb473f5dc7    (catalog main-distribution)
 >  racket-lib           ab97208a7cbba149b212fe92bbdbe7cf318492a7    (catalog racket-lib)
 >  [143 auto-installed packages not shown]
 > User-specific for installation "snapshot":
 >  [none]
 >
 >
 >
 > Collections:
 > ("/Users/greg/Library/Racket/snapshot/collects"
 >  (non-existent-path))
 > ("/Applications/Racket_v5.90.0.7/collects"
 >  (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket" "rackunit" "raco" "reader" "s-exp" "scheme" "setup" "srfi" "syntax" "unstable" "version" "xml"))
 >
 > Recent Internal Errors:
 > Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default "/Users/greg/src/scheme/collects") #() "#lang racket\n" #f #t ((main) (test)) #t))
 >
 
 
 
 -- 
 Jay McCarthy <jay@cs.byu.edu>
 Assistant Professor / Brigham Young University
 http://faculty.cs.byu.edu/~jay
 
 "The glory of God is Intelligence" - D&C 93
 
From: Jay McCarthy <jay.mccarthy@gmail.com>
To: greghendershott@email.com, bugs <bugs@racket-lang.org>,
        Matthew Flatt <mflatt@cs.utah.edu>
Cc: nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14207: local-require doesn't like non-simple
 require specs for the #lang module
Date: Fri, 29 Nov 2013 07:25:09 -0700

 On second thought, it might be as simple as changing
 
 (make-rename-transformer #'lifted)
 
 to
 
 (make-rename-transformer (datum->syntax #f 'lifted))
 
 in the syntax template so that the ... doesn't end up inside a syntax template.
 
 On Fri, Nov 29, 2013 at 7:02 AM, Jay McCarthy <jay.mccarthy@gmail.com> wrote:
 > Matthew,
 >
 > I think the problem is that (rename-in M [a rename]) expands to
 > include all the bindings of M except replacing rename. Since ... is a
 > binding of racket, it is lifted out, but put in a context that can't
 > deal with it. I'm not sure if the solution is to prevent lifting ...
 > or to move the protection to the next layer. But a simpler test is
 > this one:
 >
 > #lang racket/base
 > (let ()
 >   (local-require (rename-in "r.rkt" [string rkt:strrng]))
 >   ;;=> 3:28: syntax: misplaced ellipsis in template at: ... in: ...
 >   rkt:strrng)
 >
 > where r.kt is
 >
 > #lang racket
 > (provide ...
 >          string)
 >
 >
 > On Thu, Nov 28, 2013 at 7:36 AM,  <greghendershott@email.com> wrote:
 >> A new problem report is waiting at
 >>   http://bugs.racket-lang.org/query/?cmd=view&pr=14207
 >>
 >> Reported by Greg Hendershott for release: 5.90.0.7--2013-08-19(a212241/a)
 >>
 >> *** Description:
 >> It looks like there's a corner case where `local-require` does not work -- with non-simple require specs such as `rename-in` or `prefix-in`, AND where the module is the #lang module.
 >>
 >> This works with normal require:
 >>
 >> #lang racket
 >> (require (rename-in racket [string rkt:string]))
 >> (rkt:string #\a #\b) ;=> "ab"
 >>
 >> But this does not:
 >>
 >> #lang racket
 >> (let ()
 >>   (local-require (rename-in racket [string rkt:string]))
 >>   ;;=> 3:28: syntax: misplaced ellipsis in template at: ... in: ...
 >>   (rkt:string #\a #\b))
 >>
 >> Something like...
 >>
 >> #lang racket
 >> (let ()
 >>   (local-require (rename-in net/url [get-pure-port foo]))
 >>   ...
 >>
 >> ...does compile OK. So it seems specific to it being the #lang or perhaps specific to `racket`.
 >>
 >> I'll report this as a not-critical bug. (Even if it's not a bug in the sense that there's a good reason why it ought not to work? The error message could be better and/or the docs for local-require might explain this.)
 >>
 >> *** How to repeat:
 >> See code in description above.
 >>
 >> *** Environment:
 >> macosx "Darwin mbp.local 11.4.2 Darwin Kernel Version 11.4.2: Thu Aug 23 16:25:48 PDT 2012; root:xnu-1699.32.7~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
 >> Human Language: english
 >> (current-memory-use) 353283932
 >> Links: (links) = (); (links #:user? #f) = ("contract-profile" "math" "mysterx" "sgl" "datalog" "shell-completion" "algol60" "icons" "frtime" "unstable" "slatex" "realm" "games" "plot" "trace" "eopl" "lazy" "preprocessor" "db" "images" "mzcom" "racklog" "swindle" "schemeunit" "plai" "ds-store" "deinprogramm" "make"); (links #:root? #t) = (); (links #:user? #f #:root? #t) = (#<path:/Applications/Racket_v5.90.0.7/share/pkgs/main-distribution> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/racket-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/at-exp-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/compatibility> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/data-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/draw> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/draw-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/draw-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/drracket> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/errortrace> #<path:!
 >>  /Applications/Racket_v5.90.0.7/share/pkgs/future-visualizer> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/future-visualizer-typed> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/gui> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/htdp> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/html> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/macro-debugger> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/macro-debugger-text-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/mzscheme> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/parser-tools> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/pconvert-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/pict> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/picturing-programs> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/profile> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r5rs> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r6rs> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/racket-doc> #<path:/Appl!
 >>  ications/Racket_v5.90.0.7/share/pkgs/distributed-places-doc> #!
 >>  <path:/Applications/Racket_v5.90.0.7/share/pkgs/racket-index> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/rackunit> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/readline> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/redex> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/sandbox-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/scribble> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/snip> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/srfi> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/string-constants-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/syntax-color> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/typed-racket> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/typed-racket-more> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-contract-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-latent-!
 >>  contract-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-list-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-options-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-parameter-group-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/web-server> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/wxme> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/xrepl> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/base> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/compatibility-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/drracket-plugin-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/errortrace-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/gui-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/parser-tools-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/rackunit-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/scribble-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/scribble-lib> #<path:/Appl!
 >>  ications/Racket_v5.90.0.7/share/pkgs/compatibility-doc> #<path:/Applica!
 >>  tions/Racket_v5.90.0.7/share/pkgs/profile-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/db-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/db-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/srfi-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/wxme-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/gui-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/pict-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/pict-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/draw-x86_64-macosx> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/compiler-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/planet-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/snip-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/typed-racket-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/html-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/net-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/srfi-doc> #<path:/Applications/Racket_v5.90.0.7/!
 >>  share/pkgs/gui-pkg-manager-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/errortrace-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/profile-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r5rs-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/htdp-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/htdp-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/html-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/typed-racket-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/eli-tester> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r6rs-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/math-x86_64-macosx> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/parser-tools-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/web-server-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/web-server-doc> #<path:/Appl!
 >>  ications/Racket_v5.90.0.7/share/pkgs/unstable-flonum-lib> #<path:/Appli!
 >>  cations/Racket_v5.90.0.7/share/pkgs/r5rs-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r6rs-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/distributed-places-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/rackunit-plugin-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/readline-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/readline-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/redex-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/redex-examples> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/redex-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow-exe> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow-plugin> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/syntax-color-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/syntax-color-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/xrepl-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/xrepl-doc> #<path:/Applications/Racket_v5.90.0.7/share/!
 >>  pkgs/gui-x86_64-macosx> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/scribble-text-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-debug-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-macro-testing-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-pretty-lib>)
 >> raco pkg (show):
 >> Installation-wide:
 >>  Package              Checksum                                    Source
 >>  main-distribution    87da68f0fd76d01bfd3877e25484c7cb473f5dc7    (catalog main-distribution)
 >>  racket-lib           ab97208a7cbba149b212fe92bbdbe7cf318492a7    (catalog racket-lib)
 >>  [143 auto-installed packages not shown]
 >> User-specific for installation "snapshot":
 >>  [none]
 >>
 >>
 >>
 >> Collections:
 >> ("/Users/greg/Library/Racket/snapshot/collects"
 >>  (non-existent-path))
 >> ("/Applications/Racket_v5.90.0.7/collects"
 >>  (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket" "rackunit" "raco" "reader" "s-exp" "scheme" "setup" "srfi" "syntax" "unstable" "version" "xml"))
 >>
 >> Recent Internal Errors:
 >> Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default "/Users/greg/src/scheme/collects") #() "#lang racket\n" #f #t ((main) (test)) #t))
 >>
 >
 >
 >
 > --
 > Jay McCarthy <jay@cs.byu.edu>
 > Assistant Professor / Brigham Young University
 > http://faculty.cs.byu.edu/~jay
 >
 > "The glory of God is Intelligence" - D&C 93
 
 
 
 -- 
 Jay McCarthy <jay@cs.byu.edu>
 Assistant Professor / Brigham Young University
 http://faculty.cs.byu.edu/~jay
 
 "The glory of God is Intelligence" - D&C 93
 
From: Ryan Culpepper <ryan@cs.utah.edu>
To: Jay McCarthy <jay.mccarthy@gmail.com>, greghendershott@email.com,
        bugs <bugs@racket-lang.org>, Matthew Flatt <mflatt@cs.utah.edu>
Cc: nobody <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/14207: local-require doesn't like non-simple
 require specs for the #lang module
Date: Fri, 29 Nov 2013 20:41:55 -0500

 If that's the issue, then the usual fix is to use quote-syntax rather 
 than syntax.
 
 Ryan
 
 
 On 11/29/2013 09:25 AM, Jay McCarthy wrote:
 > On second thought, it might be as simple as changing
 >
 > (make-rename-transformer #'lifted)
 >
 > to
 >
 > (make-rename-transformer (datum->syntax #f 'lifted))
 >
 > in the syntax template so that the ... doesn't end up inside a syntax template.
 >
 > On Fri, Nov 29, 2013 at 7:02 AM, Jay McCarthy <jay.mccarthy@gmail.com> wrote:
 >> Matthew,
 >>
 >> I think the problem is that (rename-in M [a rename]) expands to
 >> include all the bindings of M except replacing rename. Since ... is a
 >> binding of racket, it is lifted out, but put in a context that can't
 >> deal with it. I'm not sure if the solution is to prevent lifting ...
 >> or to move the protection to the next layer. But a simpler test is
 >> this one:
 >>
 >> #lang racket/base
 >> (let ()
 >>    (local-require (rename-in "r.rkt" [string rkt:strrng]))
 >>    ;;=> 3:28: syntax: misplaced ellipsis in template at: ... in: ...
 >>    rkt:strrng)
 >>
 >> where r.kt is
 >>
 >> #lang racket
 >> (provide ...
 >>           string)
 >>
 >>
 >> On Thu, Nov 28, 2013 at 7:36 AM,  <greghendershott@email.com> wrote:
 >>> A new problem report is waiting at
 >>>    http://bugs.racket-lang.org/query/?cmd=view&pr=14207
 >>>
 >>> Reported by Greg Hendershott for release: 5.90.0.7--2013-08-19(a212241/a)
 >>>
 >>> *** Description:
 >>> It looks like there's a corner case where `local-require` does not work -- with non-simple require specs such as `rename-in` or `prefix-in`, AND where the module is the #lang module.
 >>>
 >>> This works with normal require:
 >>>
 >>> #lang racket
 >>> (require (rename-in racket [string rkt:string]))
 >>> (rkt:string #\a #\b) ;=> "ab"
 >>>
 >>> But this does not:
 >>>
 >>> #lang racket
 >>> (let ()
 >>>    (local-require (rename-in racket [string rkt:string]))
 >>>    ;;=> 3:28: syntax: misplaced ellipsis in template at: ... in: ...
 >>>    (rkt:string #\a #\b))
 >>>
 >>> Something like...
 >>>
 >>> #lang racket
 >>> (let ()
 >>>    (local-require (rename-in net/url [get-pure-port foo]))
 >>>    ...
 >>>
 >>> ...does compile OK. So it seems specific to it being the #lang or perhaps specific to `racket`.
 >>>
 >>> I'll report this as a not-critical bug. (Even if it's not a bug in the sense that there's a good reason why it ought not to work? The error message could be better and/or the docs for local-require might explain this.)
 >>>
 >>> *** How to repeat:
 >>> See code in description above.
 >>>
 >>> *** Environment:
 >>> macosx "Darwin mbp.local 11.4.2 Darwin Kernel Version 11.4.2: Thu Aug 23 16:25:48 PDT 2012; root:xnu-1699.32.7~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
 >>> Human Language: english
 >>> (current-memory-use) 353283932
 >>> Links: (links) = (); (links #:user? #f) = ("contract-profile" "math" "mysterx" "sgl" "datalog" "shell-completion" "algol60" "icons" "frtime" "unstable" "slatex" "realm" "games" "plot" "trace" "eopl" "lazy" "preprocessor" "db" "images" "mzcom" "racklog" "swindle" "schemeunit" "plai" "ds-store" "deinprogramm" "make"); (links #:root? #t) = (); (links #:user? #f #:root? #t) = (#<path:/Applications/Racket_v5.90.0.7/share/pkgs/main-distribution> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/racket-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/at-exp-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/compatibility> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/data-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/draw> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/draw-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/draw-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/drracket> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/errortrace> #<pa
  th:!
 >>>   /Applications/Racket_v5.90.0.7/share/pkgs/future-visualizer> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/future-visualizer-typed> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/gui> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/htdp> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/html> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/macro-debugger> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/macro-debugger-text-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/mzscheme> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/parser-tools> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/pconvert-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/pict> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/picturing-programs> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/profile> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r5rs> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r6rs> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/racket-doc> #<path:/
  Appl!
 >>>   ications/Racket_v5.90.0.7/share/pkgs/distributed-places-doc> #!
 >>>   <path:/Applications/Racket_v5.90.0.7/share/pkgs/racket-index> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/rackunit> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/readline> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/redex> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/sandbox-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/scribble> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/snip> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/srfi> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/string-constants-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/syntax-color> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/typed-racket> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/typed-racket-more> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-contract-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-lat
  ent-!
 >>>   contract-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-list-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-options-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-parameter-group-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/web-server> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/wxme> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/xrepl> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/base> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/compatibility-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/drracket-plugin-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/errortrace-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/gui-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/parser-tools-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/rackunit-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/scribble-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/scribble-lib> #<path:/
  Appl!
 >>>   ications/Racket_v5.90.0.7/share/pkgs/compatibility-doc> #<path:/Applica!
 >>>   tions/Racket_v5.90.0.7/share/pkgs/profile-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/db-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/db-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/srfi-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/wxme-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/gui-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/pict-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/pict-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/draw-x86_64-macosx> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/compiler-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/planet-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/snip-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/typed-racket-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/html-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/net-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/srfi-doc> #<path:/Applications/Racket_v5.90.
  0.7/!
 >>>   share/pkgs/gui-pkg-manager-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/errortrace-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/profile-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r5rs-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/htdp-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/htdp-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/html-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/typed-racket-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/eli-tester> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r6rs-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/math-x86_64-macosx> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/parser-tools-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/web-server-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/web-server-doc> #<path:/
  Appl!
 >>>   ications/Racket_v5.90.0.7/share/pkgs/unstable-flonum-lib> #<path:/Appli!
 >>>   cations/Racket_v5.90.0.7/share/pkgs/r5rs-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/r6rs-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/distributed-places-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/rackunit-plugin-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/readline-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/readline-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/redex-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/redex-examples> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/redex-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow-exe> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/slideshow-plugin> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/syntax-color-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/syntax-color-doc> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/xrepl-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/xrepl-doc> #<path:/Applications/Racket_v5.90.0.7/sh
  are/!
 >>>   pkgs/gui-x86_64-macosx> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/scribble-text-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-debug-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-macro-testing-lib> #<path:/Applications/Racket_v5.90.0.7/share/pkgs/unstable-pretty-lib>)
 >>> raco pkg (show):
 >>> Installation-wide:
 >>>   Package              Checksum                                    Source
 >>>   main-distribution    87da68f0fd76d01bfd3877e25484c7cb473f5dc7    (catalog main-distribution)
 >>>   racket-lib           ab97208a7cbba149b212fe92bbdbe7cf318492a7    (catalog racket-lib)
 >>>   [143 auto-installed packages not shown]
 >>> User-specific for installation "snapshot":
 >>>   [none]
 >>>
 >>>
 >>>
 >>> Collections:
 >>> ("/Users/greg/Library/Racket/snapshot/collects"
 >>>   (non-existent-path))
 >>> ("/Applications/Racket_v5.90.0.7/collects"
 >>>   (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket" "rackunit" "raco" "reader" "s-exp" "scheme" "setup" "srfi" "syntax" "unstable" "version" "xml"))
 >>>
 >>> Recent Internal Errors:
 >>> Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default "/Users/greg/src/scheme/collects") #() "#lang racket\n" #f #t ((main) (test)) #t))
 >>>
 >>
 >>
 >>
 >> --
 >> Jay McCarthy <jay@cs.byu.edu>
 >> Assistant Professor / Brigham Young University
 >> http://faculty.cs.byu.edu/~jay
 >>
 >> "The glory of God is Intelligence" - D&C 93
 >
 >
 >
 
Responsible changed from "nobody" to "jay" by jay@racket-lang.org at Mon, 02 Dec 2013 15:16:34 -0500
Reason>>> A commit by jay@racket-lang.org has resolved this report
  http://git.racket-lang.org/plt/commit/01b197d3eb
State changed from "open" to "closed" by jay@racket-lang.org at Mon, 02 Dec 2013 15:16:34 -0500
Reason>>> A commit by jay@racket-lang.org has resolved this report
  http://git.racket-lang.org/plt/commit/01b197d3eb
  | Fix PR14207, thanks ryanc

