From bugs+caf_=bugs=bugs.plt-scheme.org@plt-scheme.org Fri Aug 16 22:58:51 2013
Received: from mail-oa0-f43.google.com (mail-oa0-f43.google.com [209.85.219.43])
	by champlain.ccs.neu.edu (8.14.4/8.14.4) with ESMTP id r7H2wksm021229
	for <bugs@bugs.plt-scheme.org>; Fri, 16 Aug 2013 22:58:46 -0400
Message-Id: <201308170258.r7H2wiTr021222@champlain.ccs.neu.edu>
Date: Fri, 16 Aug 2013 22:58:44 -0400
From: asumu@ccs.neu.edu
To: bugs@racket-lang.org
Subject: "Install by source" in package manager errors

>Number:         13970
>Category:       all
>Synopsis:       "Install by source" in package manager errors
>Class:          sw-bug
>Responsible:    mflatt
>Severity:       serious
>Priority:       medium
>State:          closed
>Confidential:   no
>Arrival-Date:   Fri Aug 16 23:00:01 -0400 2013
>Closed-Date:    Sat Aug 17 14:12:55 -0400 2013
>Last-Modified:  Sat Aug 17 21:47:38 -0400 2013
>Originator:     Asumu Takikawa
>Organization:
plt
>Submitter-Id:   unknown
>Release:        5.90.0.6--2013-08-16(47a568c/a)
>Environment:
windows "Windows NT 6.1 (Build 7601) Service Pack 1" (win32\x86_64\3m) (get-display-depth) = 32
Human Language: japanese
(current-memory-use) 364320204
Links: (links) = (); (links #:user? #f) = ("contract-profile" "math" "mysterx" "sgl" "datalog" "shell-completion" "algol60" "icons" "frtime" "unstable" "slatex" "realm" "games" "plot" "trace" "eopl" "lazy" "preprocessor" "db" "images" "mzcom" "racklog" "swindle" "schemeunit" "plai" "ds-store" "deinprogramm" "make"); (links #:root? #t) = (); (links #:user? #f #:root? #t) = (#<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\racket-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\racket-win32-x86_64> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\db-win32-x86_64> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\com-win32-x86_64> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\base> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\main-distribution> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\at-exp-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\compatibility> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\data-lib> #<path:C:\Program Files\!
 Racket-5.90.0.6\share\pkgs\draw> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\draw-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\draw-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\drracket> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\errortrace> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\future-visualizer> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\future-visualizer-typed> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\gui> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\htdp> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\html> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\macro-debugger> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\macro-debugger-text-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\mzscheme> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\parser-tools> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\pconvert-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\pict> #<!
 path:C:\Program Files\Racket-5.90.0.6\share\pkgs\picturing-pro!
 grams> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\profile> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\r5rs> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\r6rs> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\racket-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\distributed-places-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\racket-index> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\rackunit> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\readline> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\redex> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\sandbox-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\scribble> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\slideshow> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\snip> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\srfi> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\string-constants-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs!
 \syntax-color> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\typed-racket> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\typed-racket-more> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\unstable> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\unstable-contract-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\unstable-latent-contract-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\unstable-list-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\unstable-options-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\unstable-parameter-group-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\web-server> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\wxme> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\xrepl> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\compatibility-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\drracket-plugin-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\errortrace-lib> #<path:C:\P!
 rogram Files\Racket-5.90.0.6\share\pkgs\gui-lib> #<path:C:\Program File!
 s\Racket-5.90.0.6\share\pkgs\parser-tools-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\rackunit-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\scribble-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\scribble-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\compatibility-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\profile-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\db-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\db-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\srfi-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\wxme-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\gui-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\pict-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\pict-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\draw-win32-x86_64> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\compiler-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\plan!
 et-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\snip-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\typed-racket-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\html-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\net-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\srfi-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\gui-pkg-manager-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\errortrace-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\profile-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\r5rs-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\htdp-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\htdp-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\html-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\slideshow-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\typed-racket-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\slideshow-lib> #<path:C:\Program Fi!
 les\Racket-5.90.0.6\share\pkgs\eli-tester> #<path:C:\Program Files\Rack!
 et-5.90.0.6\share\pkgs\r6rs-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\parser-tools-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\web-server-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\web-server-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\unstable-flonum-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\r5rs-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\r6rs-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\distributed-places-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\rackunit-plugin-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\readline-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\readline-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\redex-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\redex-examples> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\redex-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\slideshow-exe> #<path:C:\Program Files\!
 Racket-5.90.0.6\share\pkgs\slideshow-plugin> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\syntax-color-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\syntax-color-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\xrepl-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\xrepl-doc> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\gui-win32-x86_64> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\scribble-text-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\unstable-debug-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\unstable-macro-testing-lib> #<path:C:\Program Files\Racket-5.90.0.6\share\pkgs\unstable-pretty-lib>)
raco pkg (show):
Installation-wide:
 Package              Checksum                                    Source
 main-distribution    87da68f0fd76d01bfd3877e25484c7cb473f5dc7    (catalog main-distribution)
 racket-lib           ab97208a7cbba149b212fe92bbdbe7cf318492a7    (catalog racket-lib)
User-specific for installation "snapshot":
 [none]



Collections:
("C:\\Users\\asumu\\AppData\\Roaming\\Racket\\snapshot\\collects"
 (non-existent-path))
("C:\\Program Files\\Racket-5.90.0.6\\collects"
 (".gitignore" "acks" "compiler" "data" "db" "dynext" "ffi" "file" "info" "info-domain" "json" "launcher" "net" "openssl" "pkg" "planet" "racket" "rackunit" "raco" "reader" "s-exp" "scheme" "setup" "srfi" "syntax" "unstable" "version" "xml"))

Recent Internal Errors: 
Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default) #() "#lang racket\n" #t #t ((main) (test)) #t))
>Description:
I tried to install a package via the package manager's
"Install by source" option. I entered a package name
that I know is registered ("mischief") and got the
following error:

pkg-desc: contract violation
  expected: string?
  given: '#:deps
  in: the 1st argument of
      (->
       string?
       (or/c
        #f
        'file
        'dir
        'link
        'static-link
        'file-url
        'dir-url
        'github
        'name)
       (or/c string? #f)
       boolean?
       pkg-desc?)
  contract from: <collects>/pkg/lib.rkt
  blaming: <collects>/pkg/main.rkt
  at: <collects>/pkg/lib.rkt:2450.3
  context...:
   C:\Program Files\Racket-5.90.0.6\collects\racket\contract\private\blame.rkt:135:0: raise-blame-error
   C:\Program Files\Racket-5.90.0.6\collects\pkg\main.rkt:151:23: for-loop
   C:\Program Files\Racket-5.90.0.6\collects\racket\file.rkt:359:8
   C:\Program Files\Racket-5.90.0.6\collects\racket\file.rkt:348:0: call-with-file-lock44
   C:\Program Files\Racket-5.90.0.6\collects\pkg\main.rkt:89:2: install119
   C:\Program Files\Racket-5.90.0.6\share\pkgs\gui-lib\mrlib\terminal.rkt:201:7
   C:\Program Files\Racket-5.90.0.6\share\pkgs\gui-lib\mred\private\wx\common\queue.rkt:451:6
   C:\Program Files\Racket-5.90.0.6\share\pkgs\gui-lib\mred\private\wx\common\queue.rkt:502:32
   C:\Program Files\Racket-5.90.0.6\collects\racket\private\more-scheme.rkt:147:2: call-with-break-parameterization
   C:\Program Files\Racket-5.90.0.6\share\pkgs\gui-lib\mred\private\wx\common\queue.rkt:397:18: loop

As far as I know, I'm using the default settings for
package installation.

Package source type: infer
Action to take: infer
Package scope: default
Dependencies mode: default
>How-To-Repeat:

>Fix:
>Audit-Trail:
Responsible changed from "nobody" to "mflatt" by mflatt@racket-lang.org at Sat, 17 Aug 2013 14:12:55 -0400
Reason>>> A commit by mflatt@racket-lang.org has resolved this report
  http://git.racket-lang.org/plt/commit/b22b23a8aa
State changed from "open" to "closed" by mflatt@racket-lang.org at Sat, 17 Aug 2013 14:12:55 -0400
Reason>>> A commit by mflatt@racket-lang.org has resolved this report
  http://git.racket-lang.org/plt/commit/b22b23a8aa
  | fix GUI package manager by-source install
  | 
  | Closes PR 13970


----------
A commit by robby@racket-lang.org was marked as relevant
  http://git.racket-lang.org/plt/commit/908b036347
  | 

