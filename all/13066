From bugs+caf_=bugs=bugs.plt-scheme.org@plt-scheme.org Sat Aug 25 13:13:17 2012
Received: from mail-iy0-f172.google.com (mail-iy0-f172.google.com [209.85.210.172])
	by champlain.ccs.neu.edu (8.14.4/8.14.4) with ESMTP id q7PHDEY3014320
	for <bugs@bugs.plt-scheme.org>; Sat, 25 Aug 2012 13:13:14 -0400
Message-Id: <201208251713.q7PHDBgx014309@champlain.ccs.neu.edu>
Date: Sat, 25 Aug 2012 13:13:11 -0400
From: matthias@ccs.neu.edu
To: bugs@racket-lang.org
Subject: empty-image isn't empty

>Number:         13066
>Category:       all
>Synopsis:       empty-image isn't empty
>Class:          sw-bug
>Responsible:    nobody
>Severity:       serious
>Priority:       medium
>State:          open
>Confidential:   no
>Arrival-Date:   Sat Aug 25 13:16:01 -0400 2012
>Last-Modified:  Wed Aug 29 19:24:01 -0400 2012
>Originator:     matthias
>Organization:
plt
>Submitter-Id:   unknown
>Release:        5.3.0.20--2012-08-21(e1401367/d)
>Environment:
macosx "Darwin africa.westell.com 11.4.0 Darwin Kernel Version 11.4.0: Mon Apr  9 19:32:15 PDT 2012; root:xnu-1699.26.8~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
Human Language: english
(current-memory-use) 739091368
Links: (links) = (); (links #:user? #f) = (); (links #:root? #t) = (); (links #:user? #f #:root? #t) = ()


Collections:
("/Users/matthias/0Unison/collects/"
 ("._.DS_Store" ".DS_Store" "compiled" "date" "finance" "info-domain" "info.ss" "pdf.ss~" "session" "short" "testing" "tll-collects" "utils" "web"))
("/Users/matthias/Library/Racket/5.3.0.20/collects"
 (non-existent-path))
("/Users/matthias/plt/collects"
 (".gitignore" "2htdp" "afm" "algol60" "at-exp" "browser" "combinator-parser" "compatibility" "compiler" "config" "data" "datalog" "db" "defaults" "deinprogramm" "drracket" "drscheme" "dynext" "embedded-gui" "eopl" "errortrace" "ffi" "file" "framework" "frtime" "future-visualizer" "games" "graphics" "gui-debugger" "guibuilder" "handin-client" "handin-server" "help" "hierlist" "honu" "htdp" "html" "icons" "images" "info-domain" "json" "lang" "launcher" "lazy" "macro-debugger" "make" "meta" "mred" "mrlib" "mysterx" "mz" "mzcom" "mzlib" "mzscheme" "net" "openssl" "parser-tools" "picturing-programs" "plai" "planet" "plot" "preprocessor" "profile" "r5rs" "r6rs" "racket" "racklog" "rackunit" "raclog" "raco" "racunit" "reader" "readline" "redex" "repo-time-stamp" "repos-time-stamp" "rnrs" "s-exp" "schelog" "scheme" "schemeunit" "scribble" "scribblings" "scriblib" "setup" "sgl" "sirmail" "slatex" "slideshow" "srfi" "srpersist" "stepper" "string-constants" "swindle" "syntax" "syntax-!
 color" "teachpack" "test-box-recovery" "test-engine" "tests" "tex2page" "texpict" "tool" "trace" "typed" "typed-racket" "typed-scheme" "unstable" "version" "waterworld" "web-server" "wxme" "xml" "xrepl"))

Computer Language: (("Teaching Languages" "How to Design Programs" "Intermediate Student with lambda") (#(#t constructor repeating-decimal #f #t none) #f ()))
>Description:
(require 2htdp/image)
I would expect the expression below to produce true but it returns false. 

(image=? 
 (above/align 
  'left
  (text "one" 11 'black)
  (text "two" 11 'black)
  empty-image)
 (above/align 
  'left
  (text "one" 11 'black)
  (text "two" 11 'black)))
>How-To-Repeat:

>Fix:
>Audit-Trail:
From: Matthias Felleisen <matthias@ccs.neu.edu>
To: matthias@ccs.neu.edu, bugs@racket-lang.org
Cc: nobody@racket-lang.org, bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Sat, 25 Aug 2012 15:14:33 -0400

 --Apple-Mail=_19E09D1B-3DBE-4237-9693-E843B3CEF23C
 Content-Transfer-Encoding: quoted-printable
 Content-Type: text/plain;
 	charset=us-ascii
 
 
 Here is another surprise, I am not sure these are related:=20
 
 #lang racket
 
 (require 2htdp/image)
 
 (define x (beside (circle 2 'solid 'black) (text " " 12 'black)))
 (define y (beside (circle 2 'solid 'black) (rectangle 5 0 'outline =
 'white)))
 
 (define one (text "one" 12 'black))
 
 
 (define (foo z)
   (beside/align 'top z
                 (above/align 'left=20
                              (beside/align 'top z one)
                              (beside/align 'top z one))))
 
 (equal? (foo x) (foo y))
 
 
 
 On Aug 25, 2012, at 1:16 PM, matthias@ccs.neu.edu wrote:
 
 > A new problem report is waiting at
 >  http://bugs.racket-lang.org/query/?cmd=3Dview&pr=3D13066
 >=20
 > Reported by matthias for release: 5.3.0.20--2012-08-21(e1401367/d)
 >=20
 > *** Description:
 > (require 2htdp/image)
 > I would expect the expression below to produce true but it returns =
 false.=20
 >=20
 > (image=3D?=20
 > (above/align=20
 >  'left
 >  (text "one" 11 'black)
 >  (text "two" 11 'black)
 >  empty-image)
 > (above/align=20
 >  'left
 >  (text "one" 11 'black)
 >  (text "two" 11 'black)))
 >=20
 > *** How to repeat:
 >=20
 >=20
 > *** Environment:
 > macosx "Darwin africa.westell.com 11.4.0 Darwin Kernel Version 11.4.0: =
 Mon Apr  9 19:32:15 PDT 2012; root:xnu-1699.26.8~1/RELEASE_X86_64 =
 x86_64" (x86_64-macosx/3m) (get-display-depth) =3D 32
 > Human Language: english
 > (current-memory-use) 739091368
 > Links: (links) =3D (); (links #:user? #f) =3D (); (links #:root? #t) =3D=
  (); (links #:user? #f #:root? #t) =3D ()
 >=20
 >=20
 > Collections:
 > ("/Users/matthias/0Unison/collects/"
 > ("._.DS_Store" ".DS_Store" "compiled" "date" "finance" "info-domain" =
 "info.ss" "pdf.ss~" "session" "short" "testing" "tll-collects" "utils" =
 "web"))
 > ("/Users/matthias/Library/Racket/5.3.0.20/collects"
 > (non-existent-path))
 > ("/Users/matthias/plt/collects"
 > (".gitignore" "2htdp" "afm" "algol60" "at-exp" "browser" =
 "combinator-parser" "compatibility" "compiler" "config" "data" "datalog" =
 "db" "defaults" "deinprogramm" "drracket" "drscheme" "dynext" =
 "embedded-gui" "eopl" "errortrace" "ffi" "file" "framework" "frtime" =
 "future-visualizer" "games" "graphics" "gui-debugger" "guibuilder" =
 "handin-client" "handin-server" "help" "hierlist" "honu" "htdp" "html" =
 "icons" "images" "info-domain" "json" "lang" "launcher" "lazy" =
 "macro-debugger" "make" "meta" "mred" "mrlib" "mysterx" "mz" "mzcom" =
 "mzlib" "mzscheme" "net" "openssl" "parser-tools" "picturing-programs" =
 "plai" "planet" "plot" "preprocessor" "profile" "r5rs" "r6rs" "racket" =
 "racklog" "rackunit" "raclog" "raco" "racunit" "reader" "readline" =
 "redex" "repo-time-stamp" "repos-time-stamp" "rnrs" "s-exp" "schelog" =
 "scheme" "schemeunit" "scribble" "scribblings" "scriblib" "setup" "sgl" =
 "sirmail" "slatex" "slideshow" "srfi" "srpersist" "stepper" =
 "string-constants" "swindle" "syntax" "syntax-!
 > color" "teachpack" "test-box-recovery" "test-engine" "tests" =
 "tex2page" "texpict" "tool" "trace" "typed" "typed-racket" =
 "typed-scheme" "unstable" "version" "waterworld" "web-server" "wxme" =
 "xml" "xrepl"))
 >=20
 > Computer Language: (("Teaching Languages" "How to Design Programs" =
 "Intermediate Student with lambda") (#(#t constructor repeating-decimal =
 #f #t none) #f ()))
 >=20
 
 
 --Apple-Mail=_19E09D1B-3DBE-4237-9693-E843B3CEF23C
 Content-Disposition: attachment;
 	filename=smime.p7s
 Content-Type: application/pkcs7-signature;
 	name=smime.p7s
 Content-Transfer-Encoding: base64
 
 MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIMTDCCBVYw
 ggQ+oAMCAQICEHbDqMitQnj5Qd81mMX31uMwDQYJKoZIhvcNAQEFBQAwgd0xCzAJBgNVBAYTAlVT
 MRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29y
 azE7MDkGA1UECxMyVGVybXMgb2YgdXNlIGF0IGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEg
 KGMpMDkxHjAcBgNVBAsTFVBlcnNvbmEgTm90IFZhbGlkYXRlZDE3MDUGA1UEAxMuVmVyaVNpZ24g
 Q2xhc3MgMSBJbmRpdmlkdWFsIFN1YnNjcmliZXIgQ0EgLSBHMzAeFw0xMjA3MjYwMDAwMDBaFw0x
 MzA3MjYyMzU5NTlaMIIBGTEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlT
 aWduIFRydXN0IE5ldHdvcmsxRjBEBgNVBAsTPXd3dy52ZXJpc2lnbi5jb20vcmVwb3NpdG9yeS9S
 UEEgSW5jb3JwLiBieSBSZWYuLExJQUIuTFREKGMpOTgxHjAcBgNVBAsTFVBlcnNvbmEgTm90IFZh
 bGlkYXRlZDEzMDEGA1UECxMqRGlnaXRhbCBJRCBDbGFzcyAxIC0gTmV0c2NhcGUgRnVsbCBTZXJ2
 aWNlMRswGQYDVQQDFBJNYXR0aGlhcyBGZWxsZWlzZW4xIzAhBgkqhkiG9w0BCQEWFG1hdHRoaWFz
 QGNjcy5uZXUuZWR1MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxoivceU706ZnD2XD
 JfoNFd4KTbYA9AObozHkSZ6BJLC8oSGjakZu6m11azFwk5LfPOjd7dQIKw9uDhmT1e4q6jP+B1FC
 a1qqwm7Rw9PcFhqYFBlE8MbqJUXJW53Ynw3dK2XiUNqTXFcBa2otI8XxMtrQch4f9oMUy+aIn/fZ
 QQDbkkzuwz3884xSbm0IMDneYUC6FF1OJe2+fkMqHqEDsSgY97RFcjdgTCOB012odwGhxJ3rIGaX
 WUs7ttjnftzyGODVILMIx8RBJpGJ+Ur4R67SJygV8Clpg1RBuRUSNaZAN0tCjO9YSkb9HfF2tAx9
 POWmQXdTtNNjZfJPbTVnkQIDAQABo4HSMIHPMAkGA1UdEwQCMAAwRAYDVR0gBD0wOzA5BgtghkgB
 hvhFAQcXATAqMCgGCCsGAQUFBwIBFhxodHRwczovL3d3dy52ZXJpc2lnbi5jb20vcnBhMAsGA1Ud
 DwQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDBAYIKwYBBQUHAwIwUAYDVR0fBEkwRzBFoEOgQYY/
 aHR0cDovL2luZGMxZGlnaXRhbGlkLWczLWNybC52ZXJpc2lnbi5jb20vSW5kQzFEaWdpdGFsSUQt
 RzMuY3JsMA0GCSqGSIb3DQEBBQUAA4IBAQCeAXGCjjlMmU1wb3Ii4V0yNygujjQcvJstFh7IyVcM
 oD5/5Ar7b36JL1O2tpBosTf0pVZaORKCMPAf1IfBS48CvvqSoeVyXCFG1goXDjr7Ut+ZwosuFXdr
 2gD6u9EftuoUy+UBdz46NcN9YC0WbX7CrRE96XxvYwPfWnGIjsoNY7WqFI4f7HLlM5dCmAOXySsw
 EbPKpflzEGPU8aKf4FqTX9ne+hTzPbCf5CDJdzrdyn5bQkqvSzxw+P3tvQSU9lnyZkG7wZ1cibna
 QIuSNEe+HKOKcEfeTeD50JhLa43RE24nMsaXWdX61VTiPE/2Y9woEVLxXBp+AFpMZjGYsF/yMIIG
 7jCCBdagAwIBAgIQcRVmBUrkkSFN6bxE+azT3DANBgkqhkiG9w0BAQUFADCByjELMAkGA1UEBhMC
 VVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3
 b3JrMTowOAYDVQQLEzEoYykgMTk5OSBWZXJpU2lnbiwgSW5jLiAtIEZvciBhdXRob3JpemVkIHVz
 ZSBvbmx5MUUwQwYDVQQDEzxWZXJpU2lnbiBDbGFzcyAxIFB1YmxpYyBQcmltYXJ5IENlcnRpZmlj
 YXRpb24gQXV0aG9yaXR5IC0gRzMwHhcNMDkwNTAxMDAwMDAwWhcNMTkwNDMwMjM1OTU5WjCB3TEL
 MAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBU
 cnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBvZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNp
 Z24uY29tL3JwYSAoYykwOTEeMBwGA1UECxMVUGVyc29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQD
 Ey5WZXJpU2lnbiBDbGFzcyAxIEluZGl2aWR1YWwgU3Vic2NyaWJlciBDQSAtIEczMIIBIjANBgkq
 hkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7cRH3yooHXwGa7vXITLJbBOP6bGNQU4099oL42r6ZYgg
 CxET6ZvgSU6Lb9UB0F8NR5GKWkx0Pj/GkQm7TDSejW6hglFi92l2WJYHr54UGAdPWr2f0jGyVBlz
 RmoZQhHsEnMhjfXcMM3l2VYKMcU2bSkUl70t2olHGYjYSwQ967Y8Zx50ABMN0Ibak2f4MwOuGjxr
 aXj2wCyO4YM/d/mZ//6fUlrCtIcK2GypR8FUKWVDPkrAlh/Brfd3r2yxBF6+wbaULZeQLSfSux7p
 g2qE9sSyriMGZSalJ1grByK0b6ZiSBp38tVQJ5op05b7KPW6JHZi44xZ6/tu1ULEvkHH9QIDAQAB
 o4ICuTCCArUwNAYIKwYBBQUHAQEEKDAmMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC52ZXJpc2ln
 bi5jb20wEgYDVR0TAQH/BAgwBgEB/wIBADBwBgNVHSAEaTBnMGUGC2CGSAGG+EUBBxcBMFYwKAYI
 KwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9jcHMwKgYIKwYBBQUHAgIwHhocaHR0
 cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYTA0BgNVHR8ELTArMCmgJ6AlhiNodHRwOi8vY3JsLnZl
 cmlzaWduLmNvbS9wY2ExLWczLmNybDAOBgNVHQ8BAf8EBAMCAQYwbgYIKwYBBQUHAQwEYjBgoV6g
 XDBaMFgwVhYJaW1hZ2UvZ2lmMCEwHzAHBgUrDgMCGgQUS2u5KJYGDLvQUjibKaxLB4shBRgwJhYk
 aHR0cDovL2xvZ28udmVyaXNpZ24uY29tL3ZzbG9nbzEuZ2lmMC4GA1UdEQQnMCWkIzAhMR8wHQYD
 VQQDExZQcml2YXRlTGFiZWw0LTIwNDgtMTE4MB0GA1UdDgQWBBR5R2EIQf04BKJL57XM9UP2SSsR
 +DCB8QYDVR0jBIHpMIHmoYHQpIHNMIHKMQswCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24s
 IEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5
 IFZlcmlTaWduLCBJbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlT
 aWduIENsYXNzIDEgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHM4IR
 AItbdVaEVIULAM+vOEjOsaQwDQYJKoZIhvcNAQEFBQADggEBADlNz0GZgbWpBbVSOOk5hIls5DSo
 WufYbAlMJBq6WaSHO3Mh8ZOBz79oY1pn/jWFK6HDXaNKwjoZ3TDWzE3v8dKBl8pUWkO/N4t6jhmN
 D0OojPKvYLMVirOVnDzgnrMnmKQ1chfl/Cpdh9OKDcLRRSr4wPSsKpM61a4ScAjr+zvid+zoK2Q1
 ds262uDRyxTWcVibvtU+fbbZ6CTFJGZMXZEfdrMXPn8NxiGJL7M3uKH/XLJtSd5lUkL7DojS7Uod
 v0vj+Mxy+kgOZY5JyNb4mZg7t5Q+MXEGh/psWVMu198r7V9jAKwV7QO4VRaMxmgD5yKocwuxvKDa
 UljdCg5/wYIxggSLMIIEhwIBATCB8jCB3TELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWdu
 LCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBv
 ZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykwOTEeMBwGA1UECxMVUGVy
 c29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQDEy5WZXJpU2lnbiBDbGFzcyAxIEluZGl2aWR1YWwg
 U3Vic2NyaWJlciBDQSAtIEczAhB2w6jIrUJ4+UHfNZjF99bjMAkGBSsOAwIaBQCgggJtMBgGCSqG
 SIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTEyMDgyNTE5MTQzM1owIwYJKoZI
 hvcNAQkEMRYEFJCPENGOE1CqHoCbV0U2u5gvx/QoMIIBAwYJKwYBBAGCNxAEMYH1MIHyMIHdMQsw
 CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRy
 dXN0IE5ldHdvcmsxOzA5BgNVBAsTMlRlcm1zIG9mIHVzZSBhdCBodHRwczovL3d3dy52ZXJpc2ln
 bi5jb20vcnBhIChjKTA5MR4wHAYDVQQLExVQZXJzb25hIE5vdCBWYWxpZGF0ZWQxNzA1BgNVBAMT
 LlZlcmlTaWduIENsYXNzIDEgSW5kaXZpZHVhbCBTdWJzY3JpYmVyIENBIC0gRzMCEHbDqMitQnj5
 Qd81mMX31uMwggEFBgsqhkiG9w0BCRACCzGB9aCB8jCB3TELMAkGA1UEBhMCVVMxFzAVBgNVBAoT
 DlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQL
 EzJUZXJtcyBvZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykwOTEeMBwG
 A1UECxMVUGVyc29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQDEy5WZXJpU2lnbiBDbGFzcyAxIElu
 ZGl2aWR1YWwgU3Vic2NyaWJlciBDQSAtIEczAhB2w6jIrUJ4+UHfNZjF99bjMA0GCSqGSIb3DQEB
 AQUABIIBAHLJruJ3OJttzsjMVuFUpI7RMffcjjiTYFdX5+TVyFEbg3EhSkdtFysZcHar8RRnAvLh
 gpU91S1ibGlgFC9iUNXXwRgQseGef2e9LaAPaY7eN8hUXn5SP7C8eQG9hUA5bfhnCavXQ/azMAZ2
 q409EfHtbeOqb5kvJ8l+mzNpEeSOOpCsJsw2KbgNv/g2qkr6j+wkqwxDfNTex5aDSXwZNxyAl9P8
 dmumMfd9SRoEo4ih0autLK6asndJ90U0SqnJFd6si+o1373UPqc878ASHfXBYigBH61aM/hZkx1a
 4x6xu0Iqgbyuwt6JhLAPBsa7FfcF+puwrWlW7hABo+OHdNMAAAAAAAA=
 
 --Apple-Mail=_19E09D1B-3DBE-4237-9693-E843B3CEF23C--
From: Robby Findler <robby@eecs.northwestern.edu>
To: matthias@ccs.neu.edu, bugs@racket-lang.org
Cc: nobody@racket-lang.org, bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Sat, 25 Aug 2012 15:06:28 -0500

 On Sat, Aug 25, 2012 at 12:16 PM,  <matthias@ccs.neu.edu> wrote:
 > A new problem report is waiting at
 >   http://bugs.racket-lang.org/query/?cmd=view&pr=13066
 >
 > Reported by matthias for release: 5.3.0.20--2012-08-21(e1401367/d)
 >
 > *** Description:
 > (require 2htdp/image)
 > I would expect the expression below to produce true but it returns false.
 >
 > (image=?
 >  (above/align
 >   'left
 >   (text "one" 11 'black)
 >   (text "two" 11 'black)
 >   empty-image)
 >  (above/align
 >   'left
 >   (text "one" 11 'black)
 >   (text "two" 11 'black)))
 >
 
 These cannot be the same because they have different bounding boxes.
 The one with the empty-image has a different baseline (so putting text
 aligned horizontally next to both of them won't line up in the same
 place).
 
 Robby
From: Robby Findler <robby@eecs.northwestern.edu>
To: Matthias Felleisen <matthias@ccs.neu.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Sat, 25 Aug 2012 15:05:37 -0500

 This returning #t would require this to be #t.
 
 (equal? (text " " 12 'black)
         (rectangle 5 0 'outline 'white))
 
 
 Why would you expect that to be #t?
 
 Robby
 
 On Sat, Aug 25, 2012 at 2:14 PM, Matthias Felleisen
 <matthias@ccs.neu.edu> wrote:
 >
 > Here is another surprise, I am not sure these are related:
 >
 > #lang racket
 >
 > (require 2htdp/image)
 >
 > (define x (beside (circle 2 'solid 'black) (text " " 12 'black)))
 > (define y (beside (circle 2 'solid 'black) (rectangle 5 0 'outline 'white)))
 >
 > (define one (text "one" 12 'black))
 >
 >
 > (define (foo z)
 >   (beside/align 'top z
 >                 (above/align 'left
 >                              (beside/align 'top z one)
 >                              (beside/align 'top z one))))
 >
 > (equal? (foo x) (foo y))
 >
 >
 >
 > On Aug 25, 2012, at 1:16 PM, matthias@ccs.neu.edu wrote:
 >
 >> A new problem report is waiting at
 >>  http://bugs.racket-lang.org/query/?cmd=view&pr=13066
 >>
 >> Reported by matthias for release: 5.3.0.20--2012-08-21(e1401367/d)
 >>
 >> *** Description:
 >> (require 2htdp/image)
 >> I would expect the expression below to produce true but it returns false.
 >>
 >> (image=?
 >> (above/align
 >>  'left
 >>  (text "one" 11 'black)
 >>  (text "two" 11 'black)
 >>  empty-image)
 >> (above/align
 >>  'left
 >>  (text "one" 11 'black)
 >>  (text "two" 11 'black)))
 >>
 >> *** How to repeat:
 >>
 >>
 >> *** Environment:
 >> macosx "Darwin africa.westell.com 11.4.0 Darwin Kernel Version 11.4.0: Mon Apr  9 19:32:15 PDT 2012; root:xnu-1699.26.8~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
 >> Human Language: english
 >> (current-memory-use) 739091368
 >> Links: (links) = (); (links #:user? #f) = (); (links #:root? #t) = (); (links #:user? #f #:root? #t) = ()
 >>
 >>
 >> Collections:
 >> ("/Users/matthias/0Unison/collects/"
 >> ("._.DS_Store" ".DS_Store" "compiled" "date" "finance" "info-domain" "info.ss" "pdf.ss~" "session" "short" "testing" "tll-collects" "utils" "web"))
 >> ("/Users/matthias/Library/Racket/5.3.0.20/collects"
 >> (non-existent-path))
 >> ("/Users/matthias/plt/collects"
 >> (".gitignore" "2htdp" "afm" "algol60" "at-exp" "browser" "combinator-parser" "compatibility" "compiler" "config" "data" "datalog" "db" "defaults" "deinprogramm" "drracket" "drscheme" "dynext" "embedded-gui" "eopl" "errortrace" "ffi" "file" "framework" "frtime" "future-visualizer" "games" "graphics" "gui-debugger" "guibuilder" "handin-client" "handin-server" "help" "hierlist" "honu" "htdp" "html" "icons" "images" "info-domain" "json" "lang" "launcher" "lazy" "macro-debugger" "make" "meta" "mred" "mrlib" "mysterx" "mz" "mzcom" "mzlib" "mzscheme" "net" "openssl" "parser-tools" "picturing-programs" "plai" "planet" "plot" "preprocessor" "profile" "r5rs" "r6rs" "racket" "racklog" "rackunit" "raclog" "raco" "racunit" "reader" "readline" "redex" "repo-time-stamp" "repos-time-stamp" "rnrs" "s-exp" "schelog" "scheme" "schemeunit" "scribble" "scribblings" "scriblib" "setup" "sgl" "sirmail" "slatex" "slideshow" "srfi" "srpersist" "stepper" "string-constants" "swindle" "syntax" "syntax-!
 >> color" "teachpack" "test-box-recovery" "test-engine" "tests" "tex2page" "texpict" "tool" "trace" "typed" "typed-racket" "typed-scheme" "unstable" "version" "waterworld" "web-server" "wxme" "xml" "xrepl"))
 >>
 >> Computer Language: (("Teaching Languages" "How to Design Programs" "Intermediate Student with lambda") (#(#t constructor repeating-decimal #f #t none) #f ()))
 >>
 >
 
From: Matthias Felleisen <matthias@ccs.neu.edu>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Sat, 25 Aug 2012 17:32:19 -0400

 --Apple-Mail=_02A0D676-5B0F-4DD1-AF91-37542415CFBA
 Content-Transfer-Encoding: quoted-printable
 Content-Type: text/plain;
 	charset=us-ascii
 
 
 Sorry this part was a brain-ft.=20
 
 What I am really trying to say is that the vertical alignment in=20
 
 (foo x) and (foo y)=20
 
 are radically different even though I do not change any=20
 of the composition operations.=20
 
 
 
 
 On Aug 25, 2012, at 4:05 PM, Robby Findler wrote:
 
 > This returning #t would require this to be #t.
 >=20
 > (equal? (text " " 12 'black)
 >       (rectangle 5 0 'outline 'white))
 >=20
 >=20
 > Why would you expect that to be #t?
 >=20
 > Robby
 >=20
 > On Sat, Aug 25, 2012 at 2:14 PM, Matthias Felleisen
 > <matthias@ccs.neu.edu> wrote:
 >>=20
 >> Here is another surprise, I am not sure these are related:
 >>=20
 >> #lang racket
 >>=20
 >> (require 2htdp/image)
 >>=20
 >> (define x (beside (circle 2 'solid 'black) (text " " 12 'black)))
 >> (define y (beside (circle 2 'solid 'black) (rectangle 5 0 'outline =
 'white)))
 >>=20
 >> (define one (text "one" 12 'black))
 >>=20
 >>=20
 >> (define (foo z)
 >> (beside/align 'top z
 >>               (above/align 'left
 >>                            (beside/align 'top z one)
 >>                            (beside/align 'top z one))))
 >>=20
 >> (equal? (foo x) (foo y))
 >>=20
 >>=20
 >>=20
 >> On Aug 25, 2012, at 1:16 PM, matthias@ccs.neu.edu wrote:
 >>=20
 >>> A new problem report is waiting at
 >>> http://bugs.racket-lang.org/query/?cmd=3Dview&pr=3D13066
 >>>=20
 >>> Reported by matthias for release: 5.3.0.20--2012-08-21(e1401367/d)
 >>>=20
 >>> *** Description:
 >>> (require 2htdp/image)
 >>> I would expect the expression below to produce true but it returns =
 false.
 >>>=20
 >>> (image=3D?
 >>> (above/align
 >>> 'left
 >>> (text "one" 11 'black)
 >>> (text "two" 11 'black)
 >>> empty-image)
 >>> (above/align
 >>> 'left
 >>> (text "one" 11 'black)
 >>> (text "two" 11 'black)))
 >>>=20
 >>> *** How to repeat:
 >>>=20
 >>>=20
 >>> *** Environment:
 >>> macosx "Darwin africa.westell.com 11.4.0 Darwin Kernel Version =
 11.4.0: Mon Apr  9 19:32:15 PDT 2012; =
 root:xnu-1699.26.8~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) =
 (get-display-depth) =3D 32
 >>> Human Language: english
 >>> (current-memory-use) 739091368
 >>> Links: (links) =3D (); (links #:user? #f) =3D (); (links #:root? #t) =
 =3D (); (links #:user? #f #:root? #t) =3D ()
 >>>=20
 >>>=20
 >>> Collections:
 >>> ("/Users/matthias/0Unison/collects/"
 >>> ("._.DS_Store" ".DS_Store" "compiled" "date" "finance" "info-domain" =
 "info.ss" "pdf.ss~" "session" "short" "testing" "tll-collects" "utils" =
 "web"))
 >>> ("/Users/matthias/Library/Racket/5.3.0.20/collects"
 >>> (non-existent-path))
 >>> ("/Users/matthias/plt/collects"
 >>> (".gitignore" "2htdp" "afm" "algol60" "at-exp" "browser" =
 "combinator-parser" "compatibility" "compiler" "config" "data" "datalog" =
 "db" "defaults" "deinprogramm" "drracket" "drscheme" "dynext" =
 "embedded-gui" "eopl" "errortrace" "ffi" "file" "framework" "frtime" =
 "future-visualizer" "games" "graphics" "gui-debugger" "guibuilder" =
 "handin-client" "handin-server" "help" "hierlist" "honu" "htdp" "html" =
 "icons" "images" "info-domain" "json" "lang" "launcher" "lazy" =
 "macro-debugger" "make" "meta" "mred" "mrlib" "mysterx" "mz" "mzcom" =
 "mzlib" "mzscheme" "net" "openssl" "parser-tools" "picturing-programs" =
 "plai" "planet" "plot" "preprocessor" "profile" "r5rs" "r6rs" "racket" =
 "racklog" "rackunit" "raclog" "raco" "racunit" "reader" "readline" =
 "redex" "repo-time-stamp" "repos-time-stamp" "rnrs" "s-exp" "schelog" =
 "scheme" "schemeunit" "scribble" "scribblings" "scriblib" "setup" "sgl" =
 "sirmail" "slatex" "slideshow" "srfi" "srpersist" "stepper" =
 "string-constants" "swindle" "syntax" "syntax-!
 >>> color" "teachpack" "test-box-recovery" "test-engine" "tests" =
 "tex2page" "texpict" "tool" "trace" "typed" "typed-racket" =
 "typed-scheme" "unstable" "version" "waterworld" "web-server" "wxme" =
 "xml" "xrepl"))
 >>>=20
 >>> Computer Language: (("Teaching Languages" "How to Design Programs" =
 "Intermediate Student with lambda") (#(#t constructor repeating-decimal =
 #f #t none) #f ()))
 >>>=20
 >>=20
 
 
 --Apple-Mail=_02A0D676-5B0F-4DD1-AF91-37542415CFBA
 Content-Disposition: attachment;
 	filename=smime.p7s
 Content-Type: application/pkcs7-signature;
 	name=smime.p7s
 Content-Transfer-Encoding: base64
 
 MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIMTDCCBVYw
 ggQ+oAMCAQICEHbDqMitQnj5Qd81mMX31uMwDQYJKoZIhvcNAQEFBQAwgd0xCzAJBgNVBAYTAlVT
 MRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29y
 azE7MDkGA1UECxMyVGVybXMgb2YgdXNlIGF0IGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEg
 KGMpMDkxHjAcBgNVBAsTFVBlcnNvbmEgTm90IFZhbGlkYXRlZDE3MDUGA1UEAxMuVmVyaVNpZ24g
 Q2xhc3MgMSBJbmRpdmlkdWFsIFN1YnNjcmliZXIgQ0EgLSBHMzAeFw0xMjA3MjYwMDAwMDBaFw0x
 MzA3MjYyMzU5NTlaMIIBGTEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlT
 aWduIFRydXN0IE5ldHdvcmsxRjBEBgNVBAsTPXd3dy52ZXJpc2lnbi5jb20vcmVwb3NpdG9yeS9S
 UEEgSW5jb3JwLiBieSBSZWYuLExJQUIuTFREKGMpOTgxHjAcBgNVBAsTFVBlcnNvbmEgTm90IFZh
 bGlkYXRlZDEzMDEGA1UECxMqRGlnaXRhbCBJRCBDbGFzcyAxIC0gTmV0c2NhcGUgRnVsbCBTZXJ2
 aWNlMRswGQYDVQQDFBJNYXR0aGlhcyBGZWxsZWlzZW4xIzAhBgkqhkiG9w0BCQEWFG1hdHRoaWFz
 QGNjcy5uZXUuZWR1MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxoivceU706ZnD2XD
 JfoNFd4KTbYA9AObozHkSZ6BJLC8oSGjakZu6m11azFwk5LfPOjd7dQIKw9uDhmT1e4q6jP+B1FC
 a1qqwm7Rw9PcFhqYFBlE8MbqJUXJW53Ynw3dK2XiUNqTXFcBa2otI8XxMtrQch4f9oMUy+aIn/fZ
 QQDbkkzuwz3884xSbm0IMDneYUC6FF1OJe2+fkMqHqEDsSgY97RFcjdgTCOB012odwGhxJ3rIGaX
 WUs7ttjnftzyGODVILMIx8RBJpGJ+Ur4R67SJygV8Clpg1RBuRUSNaZAN0tCjO9YSkb9HfF2tAx9
 POWmQXdTtNNjZfJPbTVnkQIDAQABo4HSMIHPMAkGA1UdEwQCMAAwRAYDVR0gBD0wOzA5BgtghkgB
 hvhFAQcXATAqMCgGCCsGAQUFBwIBFhxodHRwczovL3d3dy52ZXJpc2lnbi5jb20vcnBhMAsGA1Ud
 DwQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDBAYIKwYBBQUHAwIwUAYDVR0fBEkwRzBFoEOgQYY/
 aHR0cDovL2luZGMxZGlnaXRhbGlkLWczLWNybC52ZXJpc2lnbi5jb20vSW5kQzFEaWdpdGFsSUQt
 RzMuY3JsMA0GCSqGSIb3DQEBBQUAA4IBAQCeAXGCjjlMmU1wb3Ii4V0yNygujjQcvJstFh7IyVcM
 oD5/5Ar7b36JL1O2tpBosTf0pVZaORKCMPAf1IfBS48CvvqSoeVyXCFG1goXDjr7Ut+ZwosuFXdr
 2gD6u9EftuoUy+UBdz46NcN9YC0WbX7CrRE96XxvYwPfWnGIjsoNY7WqFI4f7HLlM5dCmAOXySsw
 EbPKpflzEGPU8aKf4FqTX9ne+hTzPbCf5CDJdzrdyn5bQkqvSzxw+P3tvQSU9lnyZkG7wZ1cibna
 QIuSNEe+HKOKcEfeTeD50JhLa43RE24nMsaXWdX61VTiPE/2Y9woEVLxXBp+AFpMZjGYsF/yMIIG
 7jCCBdagAwIBAgIQcRVmBUrkkSFN6bxE+azT3DANBgkqhkiG9w0BAQUFADCByjELMAkGA1UEBhMC
 VVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3
 b3JrMTowOAYDVQQLEzEoYykgMTk5OSBWZXJpU2lnbiwgSW5jLiAtIEZvciBhdXRob3JpemVkIHVz
 ZSBvbmx5MUUwQwYDVQQDEzxWZXJpU2lnbiBDbGFzcyAxIFB1YmxpYyBQcmltYXJ5IENlcnRpZmlj
 YXRpb24gQXV0aG9yaXR5IC0gRzMwHhcNMDkwNTAxMDAwMDAwWhcNMTkwNDMwMjM1OTU5WjCB3TEL
 MAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBU
 cnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBvZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNp
 Z24uY29tL3JwYSAoYykwOTEeMBwGA1UECxMVUGVyc29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQD
 Ey5WZXJpU2lnbiBDbGFzcyAxIEluZGl2aWR1YWwgU3Vic2NyaWJlciBDQSAtIEczMIIBIjANBgkq
 hkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7cRH3yooHXwGa7vXITLJbBOP6bGNQU4099oL42r6ZYgg
 CxET6ZvgSU6Lb9UB0F8NR5GKWkx0Pj/GkQm7TDSejW6hglFi92l2WJYHr54UGAdPWr2f0jGyVBlz
 RmoZQhHsEnMhjfXcMM3l2VYKMcU2bSkUl70t2olHGYjYSwQ967Y8Zx50ABMN0Ibak2f4MwOuGjxr
 aXj2wCyO4YM/d/mZ//6fUlrCtIcK2GypR8FUKWVDPkrAlh/Brfd3r2yxBF6+wbaULZeQLSfSux7p
 g2qE9sSyriMGZSalJ1grByK0b6ZiSBp38tVQJ5op05b7KPW6JHZi44xZ6/tu1ULEvkHH9QIDAQAB
 o4ICuTCCArUwNAYIKwYBBQUHAQEEKDAmMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC52ZXJpc2ln
 bi5jb20wEgYDVR0TAQH/BAgwBgEB/wIBADBwBgNVHSAEaTBnMGUGC2CGSAGG+EUBBxcBMFYwKAYI
 KwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9jcHMwKgYIKwYBBQUHAgIwHhocaHR0
 cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYTA0BgNVHR8ELTArMCmgJ6AlhiNodHRwOi8vY3JsLnZl
 cmlzaWduLmNvbS9wY2ExLWczLmNybDAOBgNVHQ8BAf8EBAMCAQYwbgYIKwYBBQUHAQwEYjBgoV6g
 XDBaMFgwVhYJaW1hZ2UvZ2lmMCEwHzAHBgUrDgMCGgQUS2u5KJYGDLvQUjibKaxLB4shBRgwJhYk
 aHR0cDovL2xvZ28udmVyaXNpZ24uY29tL3ZzbG9nbzEuZ2lmMC4GA1UdEQQnMCWkIzAhMR8wHQYD
 VQQDExZQcml2YXRlTGFiZWw0LTIwNDgtMTE4MB0GA1UdDgQWBBR5R2EIQf04BKJL57XM9UP2SSsR
 +DCB8QYDVR0jBIHpMIHmoYHQpIHNMIHKMQswCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24s
 IEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5
 IFZlcmlTaWduLCBJbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlT
 aWduIENsYXNzIDEgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHM4IR
 AItbdVaEVIULAM+vOEjOsaQwDQYJKoZIhvcNAQEFBQADggEBADlNz0GZgbWpBbVSOOk5hIls5DSo
 WufYbAlMJBq6WaSHO3Mh8ZOBz79oY1pn/jWFK6HDXaNKwjoZ3TDWzE3v8dKBl8pUWkO/N4t6jhmN
 D0OojPKvYLMVirOVnDzgnrMnmKQ1chfl/Cpdh9OKDcLRRSr4wPSsKpM61a4ScAjr+zvid+zoK2Q1
 ds262uDRyxTWcVibvtU+fbbZ6CTFJGZMXZEfdrMXPn8NxiGJL7M3uKH/XLJtSd5lUkL7DojS7Uod
 v0vj+Mxy+kgOZY5JyNb4mZg7t5Q+MXEGh/psWVMu198r7V9jAKwV7QO4VRaMxmgD5yKocwuxvKDa
 UljdCg5/wYIxggSLMIIEhwIBATCB8jCB3TELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWdu
 LCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBv
 ZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykwOTEeMBwGA1UECxMVUGVy
 c29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQDEy5WZXJpU2lnbiBDbGFzcyAxIEluZGl2aWR1YWwg
 U3Vic2NyaWJlciBDQSAtIEczAhB2w6jIrUJ4+UHfNZjF99bjMAkGBSsOAwIaBQCgggJtMBgGCSqG
 SIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTEyMDgyNTIxMzIyMFowIwYJKoZI
 hvcNAQkEMRYEFG2uuZCDhmKBQ8jSDVD4nIfodkHIMIIBAwYJKwYBBAGCNxAEMYH1MIHyMIHdMQsw
 CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRy
 dXN0IE5ldHdvcmsxOzA5BgNVBAsTMlRlcm1zIG9mIHVzZSBhdCBodHRwczovL3d3dy52ZXJpc2ln
 bi5jb20vcnBhIChjKTA5MR4wHAYDVQQLExVQZXJzb25hIE5vdCBWYWxpZGF0ZWQxNzA1BgNVBAMT
 LlZlcmlTaWduIENsYXNzIDEgSW5kaXZpZHVhbCBTdWJzY3JpYmVyIENBIC0gRzMCEHbDqMitQnj5
 Qd81mMX31uMwggEFBgsqhkiG9w0BCRACCzGB9aCB8jCB3TELMAkGA1UEBhMCVVMxFzAVBgNVBAoT
 DlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQL
 EzJUZXJtcyBvZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykwOTEeMBwG
 A1UECxMVUGVyc29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQDEy5WZXJpU2lnbiBDbGFzcyAxIElu
 ZGl2aWR1YWwgU3Vic2NyaWJlciBDQSAtIEczAhB2w6jIrUJ4+UHfNZjF99bjMA0GCSqGSIb3DQEB
 AQUABIIBACUpCrJ5uKovsgyAiDcdZGB125G9TRli5TZZyTBnK6dnCsfMkjDD6Q1K93Dv/AC1xUvh
 kB/HGYh2FciR+2ijxoEQw8tvcXvM/OH/m8P6b7QOgWR3CQHxF+kScLbgZcFXisyL3VTIUjF1DE7m
 tVwbrz3VKdTvpEPOqW062KoJPkjC7DwhzVwda31ve+fqN7hY6iZuqwaNyXX7H6ChnomOTIgxXG1e
 t/olpaEqbDNz3wqW7O4Yv/y8ZjCJE9KwX27/J4x9csJ8/kwMJ3f11KqtKC++CKDEKXO/dhhTfRrW
 XLZQbtaPmLFgeaNboq5hhEsqq/VbIXmnt6094OIC8BIR/ugAAAAAAAA=
 
 --Apple-Mail=_02A0D676-5B0F-4DD1-AF91-37542415CFBA--
From: Robby Findler <robby@eecs.northwestern.edu>
To: Matthias Felleisen <matthias@ccs.neu.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Sat, 25 Aug 2012 18:51:54 -0500

 On Sat, Aug 25, 2012 at 6:44 PM, Matthias Felleisen
 <matthias@ccs.neu.edu> wrote:
 >
 > Hmph. The name empty-image suggests that it really is empty as in it is the identity element for image composition operators.
 
 It's name is based on its size and how it draws.
 
 > The docs seem to suggest this too:
 >
 >>
 >> > (equal? (above empty-image
 >>                  (rectangle 10 10 "solid" "red"))
 >>           (beside empty-image
 >>                   (rectangle 10 10 "solid" "red")))
 >> #t
 >
 > Indeed, what is the difference between the doc example and mine?
 
 The baseline.
 
 Robby
 
 > On Aug 25, 2012, at 4:06 PM, Robby Findler wrote:
 >
 >> On Sat, Aug 25, 2012 at 12:16 PM,  <matthias@ccs.neu.edu> wrote:
 >>> A new problem report is waiting at
 >>>  http://bugs.racket-lang.org/query/?cmd=view&pr=13066
 >>>
 >>> Reported by matthias for release: 5.3.0.20--2012-08-21(e1401367/d)
 >>>
 >>> *** Description:
 >>> (require 2htdp/image)
 >>> I would expect the expression below to produce true but it returns false.
 >>>
 >>> (image=?
 >>> (above/align
 >>>  'left
 >>>  (text "one" 11 'black)
 >>>  (text "two" 11 'black)
 >>>  empty-image)
 >>> (above/align
 >>>  'left
 >>>  (text "one" 11 'black)
 >>>  (text "two" 11 'black)))
 >>>
 >>
 >> These cannot be the same because they have different bounding boxes.
 >> The one with the empty-image has a different baseline (so putting text
 >> aligned horizontally next to both of them won't line up in the same
 >> place).
 >>
 >> Robby
 >
From: Matthias Felleisen <matthias@ccs.neu.edu>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Sat, 25 Aug 2012 19:44:39 -0400

 --Apple-Mail=_CF370AEA-51D5-4348-849E-03E6BDB8AD60
 Content-Transfer-Encoding: quoted-printable
 Content-Type: text/plain;
 	charset=us-ascii
 
 
 Hmph. The name empty-image suggests that it really is empty as in it is =
 the identity element for image composition operators.=20
 
 The docs seem to suggest this too:=20
 
 >=20
 > > (equal? (above empty-image
 >                  (rectangle 10 10 "solid" "red"))
 >           (beside empty-image
 >                   (rectangle 10 10 "solid" "red")))
 > #t
 
 Indeed, what is the difference between the doc example and mine?=20
 
 
 On Aug 25, 2012, at 4:06 PM, Robby Findler wrote:
 
 > On Sat, Aug 25, 2012 at 12:16 PM,  <matthias@ccs.neu.edu> wrote:
 >> A new problem report is waiting at
 >>  http://bugs.racket-lang.org/query/?cmd=3Dview&pr=3D13066
 >>=20
 >> Reported by matthias for release: 5.3.0.20--2012-08-21(e1401367/d)
 >>=20
 >> *** Description:
 >> (require 2htdp/image)
 >> I would expect the expression below to produce true but it returns =
 false.
 >>=20
 >> (image=3D?
 >> (above/align
 >>  'left
 >>  (text "one" 11 'black)
 >>  (text "two" 11 'black)
 >>  empty-image)
 >> (above/align
 >>  'left
 >>  (text "one" 11 'black)
 >>  (text "two" 11 'black)))
 >>=20
 >=20
 > These cannot be the same because they have different bounding boxes.
 > The one with the empty-image has a different baseline (so putting text
 > aligned horizontally next to both of them won't line up in the same
 > place).
 >=20
 > Robby
 
 
 --Apple-Mail=_CF370AEA-51D5-4348-849E-03E6BDB8AD60
 Content-Disposition: attachment;
 	filename=smime.p7s
 Content-Type: application/pkcs7-signature;
 	name=smime.p7s
 Content-Transfer-Encoding: base64
 
 MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIMTDCCBVYw
 ggQ+oAMCAQICEHbDqMitQnj5Qd81mMX31uMwDQYJKoZIhvcNAQEFBQAwgd0xCzAJBgNVBAYTAlVT
 MRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29y
 azE7MDkGA1UECxMyVGVybXMgb2YgdXNlIGF0IGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEg
 KGMpMDkxHjAcBgNVBAsTFVBlcnNvbmEgTm90IFZhbGlkYXRlZDE3MDUGA1UEAxMuVmVyaVNpZ24g
 Q2xhc3MgMSBJbmRpdmlkdWFsIFN1YnNjcmliZXIgQ0EgLSBHMzAeFw0xMjA3MjYwMDAwMDBaFw0x
 MzA3MjYyMzU5NTlaMIIBGTEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlT
 aWduIFRydXN0IE5ldHdvcmsxRjBEBgNVBAsTPXd3dy52ZXJpc2lnbi5jb20vcmVwb3NpdG9yeS9S
 UEEgSW5jb3JwLiBieSBSZWYuLExJQUIuTFREKGMpOTgxHjAcBgNVBAsTFVBlcnNvbmEgTm90IFZh
 bGlkYXRlZDEzMDEGA1UECxMqRGlnaXRhbCBJRCBDbGFzcyAxIC0gTmV0c2NhcGUgRnVsbCBTZXJ2
 aWNlMRswGQYDVQQDFBJNYXR0aGlhcyBGZWxsZWlzZW4xIzAhBgkqhkiG9w0BCQEWFG1hdHRoaWFz
 QGNjcy5uZXUuZWR1MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxoivceU706ZnD2XD
 JfoNFd4KTbYA9AObozHkSZ6BJLC8oSGjakZu6m11azFwk5LfPOjd7dQIKw9uDhmT1e4q6jP+B1FC
 a1qqwm7Rw9PcFhqYFBlE8MbqJUXJW53Ynw3dK2XiUNqTXFcBa2otI8XxMtrQch4f9oMUy+aIn/fZ
 QQDbkkzuwz3884xSbm0IMDneYUC6FF1OJe2+fkMqHqEDsSgY97RFcjdgTCOB012odwGhxJ3rIGaX
 WUs7ttjnftzyGODVILMIx8RBJpGJ+Ur4R67SJygV8Clpg1RBuRUSNaZAN0tCjO9YSkb9HfF2tAx9
 POWmQXdTtNNjZfJPbTVnkQIDAQABo4HSMIHPMAkGA1UdEwQCMAAwRAYDVR0gBD0wOzA5BgtghkgB
 hvhFAQcXATAqMCgGCCsGAQUFBwIBFhxodHRwczovL3d3dy52ZXJpc2lnbi5jb20vcnBhMAsGA1Ud
 DwQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDBAYIKwYBBQUHAwIwUAYDVR0fBEkwRzBFoEOgQYY/
 aHR0cDovL2luZGMxZGlnaXRhbGlkLWczLWNybC52ZXJpc2lnbi5jb20vSW5kQzFEaWdpdGFsSUQt
 RzMuY3JsMA0GCSqGSIb3DQEBBQUAA4IBAQCeAXGCjjlMmU1wb3Ii4V0yNygujjQcvJstFh7IyVcM
 oD5/5Ar7b36JL1O2tpBosTf0pVZaORKCMPAf1IfBS48CvvqSoeVyXCFG1goXDjr7Ut+ZwosuFXdr
 2gD6u9EftuoUy+UBdz46NcN9YC0WbX7CrRE96XxvYwPfWnGIjsoNY7WqFI4f7HLlM5dCmAOXySsw
 EbPKpflzEGPU8aKf4FqTX9ne+hTzPbCf5CDJdzrdyn5bQkqvSzxw+P3tvQSU9lnyZkG7wZ1cibna
 QIuSNEe+HKOKcEfeTeD50JhLa43RE24nMsaXWdX61VTiPE/2Y9woEVLxXBp+AFpMZjGYsF/yMIIG
 7jCCBdagAwIBAgIQcRVmBUrkkSFN6bxE+azT3DANBgkqhkiG9w0BAQUFADCByjELMAkGA1UEBhMC
 VVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3
 b3JrMTowOAYDVQQLEzEoYykgMTk5OSBWZXJpU2lnbiwgSW5jLiAtIEZvciBhdXRob3JpemVkIHVz
 ZSBvbmx5MUUwQwYDVQQDEzxWZXJpU2lnbiBDbGFzcyAxIFB1YmxpYyBQcmltYXJ5IENlcnRpZmlj
 YXRpb24gQXV0aG9yaXR5IC0gRzMwHhcNMDkwNTAxMDAwMDAwWhcNMTkwNDMwMjM1OTU5WjCB3TEL
 MAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBU
 cnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBvZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNp
 Z24uY29tL3JwYSAoYykwOTEeMBwGA1UECxMVUGVyc29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQD
 Ey5WZXJpU2lnbiBDbGFzcyAxIEluZGl2aWR1YWwgU3Vic2NyaWJlciBDQSAtIEczMIIBIjANBgkq
 hkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7cRH3yooHXwGa7vXITLJbBOP6bGNQU4099oL42r6ZYgg
 CxET6ZvgSU6Lb9UB0F8NR5GKWkx0Pj/GkQm7TDSejW6hglFi92l2WJYHr54UGAdPWr2f0jGyVBlz
 RmoZQhHsEnMhjfXcMM3l2VYKMcU2bSkUl70t2olHGYjYSwQ967Y8Zx50ABMN0Ibak2f4MwOuGjxr
 aXj2wCyO4YM/d/mZ//6fUlrCtIcK2GypR8FUKWVDPkrAlh/Brfd3r2yxBF6+wbaULZeQLSfSux7p
 g2qE9sSyriMGZSalJ1grByK0b6ZiSBp38tVQJ5op05b7KPW6JHZi44xZ6/tu1ULEvkHH9QIDAQAB
 o4ICuTCCArUwNAYIKwYBBQUHAQEEKDAmMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC52ZXJpc2ln
 bi5jb20wEgYDVR0TAQH/BAgwBgEB/wIBADBwBgNVHSAEaTBnMGUGC2CGSAGG+EUBBxcBMFYwKAYI
 KwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9jcHMwKgYIKwYBBQUHAgIwHhocaHR0
 cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYTA0BgNVHR8ELTArMCmgJ6AlhiNodHRwOi8vY3JsLnZl
 cmlzaWduLmNvbS9wY2ExLWczLmNybDAOBgNVHQ8BAf8EBAMCAQYwbgYIKwYBBQUHAQwEYjBgoV6g
 XDBaMFgwVhYJaW1hZ2UvZ2lmMCEwHzAHBgUrDgMCGgQUS2u5KJYGDLvQUjibKaxLB4shBRgwJhYk
 aHR0cDovL2xvZ28udmVyaXNpZ24uY29tL3ZzbG9nbzEuZ2lmMC4GA1UdEQQnMCWkIzAhMR8wHQYD
 VQQDExZQcml2YXRlTGFiZWw0LTIwNDgtMTE4MB0GA1UdDgQWBBR5R2EIQf04BKJL57XM9UP2SSsR
 +DCB8QYDVR0jBIHpMIHmoYHQpIHNMIHKMQswCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24s
 IEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5
 IFZlcmlTaWduLCBJbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlT
 aWduIENsYXNzIDEgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHM4IR
 AItbdVaEVIULAM+vOEjOsaQwDQYJKoZIhvcNAQEFBQADggEBADlNz0GZgbWpBbVSOOk5hIls5DSo
 WufYbAlMJBq6WaSHO3Mh8ZOBz79oY1pn/jWFK6HDXaNKwjoZ3TDWzE3v8dKBl8pUWkO/N4t6jhmN
 D0OojPKvYLMVirOVnDzgnrMnmKQ1chfl/Cpdh9OKDcLRRSr4wPSsKpM61a4ScAjr+zvid+zoK2Q1
 ds262uDRyxTWcVibvtU+fbbZ6CTFJGZMXZEfdrMXPn8NxiGJL7M3uKH/XLJtSd5lUkL7DojS7Uod
 v0vj+Mxy+kgOZY5JyNb4mZg7t5Q+MXEGh/psWVMu198r7V9jAKwV7QO4VRaMxmgD5yKocwuxvKDa
 UljdCg5/wYIxggSLMIIEhwIBATCB8jCB3TELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWdu
 LCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBv
 ZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykwOTEeMBwGA1UECxMVUGVy
 c29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQDEy5WZXJpU2lnbiBDbGFzcyAxIEluZGl2aWR1YWwg
 U3Vic2NyaWJlciBDQSAtIEczAhB2w6jIrUJ4+UHfNZjF99bjMAkGBSsOAwIaBQCgggJtMBgGCSqG
 SIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTEyMDgyNTIzNDQ0MFowIwYJKoZI
 hvcNAQkEMRYEFFlnAaNHbtq65WY9kfsyXZfWyM0TMIIBAwYJKwYBBAGCNxAEMYH1MIHyMIHdMQsw
 CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRy
 dXN0IE5ldHdvcmsxOzA5BgNVBAsTMlRlcm1zIG9mIHVzZSBhdCBodHRwczovL3d3dy52ZXJpc2ln
 bi5jb20vcnBhIChjKTA5MR4wHAYDVQQLExVQZXJzb25hIE5vdCBWYWxpZGF0ZWQxNzA1BgNVBAMT
 LlZlcmlTaWduIENsYXNzIDEgSW5kaXZpZHVhbCBTdWJzY3JpYmVyIENBIC0gRzMCEHbDqMitQnj5
 Qd81mMX31uMwggEFBgsqhkiG9w0BCRACCzGB9aCB8jCB3TELMAkGA1UEBhMCVVMxFzAVBgNVBAoT
 DlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQL
 EzJUZXJtcyBvZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykwOTEeMBwG
 A1UECxMVUGVyc29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQDEy5WZXJpU2lnbiBDbGFzcyAxIElu
 ZGl2aWR1YWwgU3Vic2NyaWJlciBDQSAtIEczAhB2w6jIrUJ4+UHfNZjF99bjMA0GCSqGSIb3DQEB
 AQUABIIBALZ2K4CBaJ+vGFmgJ0BkNTBmaQtCaIiiTBtoOcyLTe3ceC+fBu8QWKEYOExTop8jZrWL
 TgLnRONyJj1V3Hxr0g/l+ZrBQWo81mKjkRjWW5yn4+gzyCpw6rm9iHVIkrW+Zyt5Ictmx8xJZOq/
 bIOSS4DnkSVWsbg7fA/37zzGEFnfP0VVTgXa1fONk81fjTe5To4h4HaqJm8JzXG0RriTmsty/Tko
 1HUbUCh288K1ahkOwWmIOKebAqf1UMvsG3n98U3GZR/Nl1fAYjvrYS2DGsm6ZRj/Fnovg8zYcH6M
 dl8Y5f+DslJvc/cdCS+6cad3kVAAW9vSArrbIK/wMGzEne8AAAAAAAA=
 
 --Apple-Mail=_CF370AEA-51D5-4348-849E-03E6BDB8AD60--
From: Robby Findler <robby@eecs.northwestern.edu>
To: Matthias Felleisen <matthias@ccs.neu.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Sat, 25 Aug 2012 18:54:28 -0500

 (Its)
 
 On Sat, Aug 25, 2012 at 6:51 PM, Robby Findler
 <robby@eecs.northwestern.edu> wrote:
 > On Sat, Aug 25, 2012 at 6:44 PM, Matthias Felleisen
 > <matthias@ccs.neu.edu> wrote:
 >>
 >> Hmph. The name empty-image suggests that it really is empty as in it is the identity element for image composition operators.
 >
 > It's name is based on its size and how it draws.
 >
 >> The docs seem to suggest this too:
 >>
 >>>
 >>> > (equal? (above empty-image
 >>>                  (rectangle 10 10 "solid" "red"))
 >>>           (beside empty-image
 >>>                   (rectangle 10 10 "solid" "red")))
 >>> #t
 >>
 >> Indeed, what is the difference between the doc example and mine?
 >
 > The baseline.
 >
 > Robby
 >
 >> On Aug 25, 2012, at 4:06 PM, Robby Findler wrote:
 >>
 >>> On Sat, Aug 25, 2012 at 12:16 PM,  <matthias@ccs.neu.edu> wrote:
 >>>> A new problem report is waiting at
 >>>>  http://bugs.racket-lang.org/query/?cmd=view&pr=13066
 >>>>
 >>>> Reported by matthias for release: 5.3.0.20--2012-08-21(e1401367/d)
 >>>>
 >>>> *** Description:
 >>>> (require 2htdp/image)
 >>>> I would expect the expression below to produce true but it returns false.
 >>>>
 >>>> (image=?
 >>>> (above/align
 >>>>  'left
 >>>>  (text "one" 11 'black)
 >>>>  (text "two" 11 'black)
 >>>>  empty-image)
 >>>> (above/align
 >>>>  'left
 >>>>  (text "one" 11 'black)
 >>>>  (text "two" 11 'black)))
 >>>>
 >>>
 >>> These cannot be the same because they have different bounding boxes.
 >>> The one with the empty-image has a different baseline (so putting text
 >>> aligned horizontally next to both of them won't line up in the same
 >>> place).
 >>>
 >>> Robby
 >>
From: Robby Findler <robby@eecs.northwestern.edu>
To: Matthias Felleisen <matthias@ccs.neu.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Sat, 25 Aug 2012 18:56:28 -0500

 This is again an issue of baselines. Here's a simpler program:
 
 #lang racket
 (require 2htdp/image)
 (define x (beside (circle 2 'solid 'black) (text " " 12 'black)))
 (define y (beside (circle 2 'solid 'black) (rectangle 5 0 'outline 'white)))
 (define one (text "one" 12 'black))
 (define (foo z) (beside/align 'top z one))
 (foo x)
 (foo y)
 
 I guess you should consider something more like this:
 
 #lang racket
 (require 2htdp/image)
 (define x (beside/align "baseline" (circle 2 'solid 'black) (text " "
 12 'black)))
 (define y (beside/align "baseline" (circle 2 'solid 'black) (rectangle
 5 0 'outline 'white)))
 (define one (text "one" 12 'black))
 (define (foo z) (beside/align "baseline" z one))
 (foo x)
 (foo y)
 
 In general, when you combine with 'top 'center or 'bottom and you are
 combining text horizontally, it is going to look wrong.
 
 Robby
 
 On Sat, Aug 25, 2012 at 4:32 PM, Matthias Felleisen
 <matthias@ccs.neu.edu> wrote:
 >
 > Sorry this part was a brain-ft.
 >
 > What I am really trying to say is that the vertical alignment in
 >
 > (foo x) and (foo y)
 >
 > are radically different even though I do not change any
 > of the composition operations.
 >
 >
 >
 >
 > On Aug 25, 2012, at 4:05 PM, Robby Findler wrote:
 >
 >> This returning #t would require this to be #t.
 >>
 >> (equal? (text " " 12 'black)
 >>       (rectangle 5 0 'outline 'white))
 >>
 >>
 >> Why would you expect that to be #t?
 >>
 >> Robby
 >>
 >> On Sat, Aug 25, 2012 at 2:14 PM, Matthias Felleisen
 >> <matthias@ccs.neu.edu> wrote:
 >>>
 >>> Here is another surprise, I am not sure these are related:
 >>>
 >>> #lang racket
 >>>
 >>> (require 2htdp/image)
 >>>
 >>> (define x (beside (circle 2 'solid 'black) (text " " 12 'black)))
 >>> (define y (beside (circle 2 'solid 'black) (rectangle 5 0 'outline 'white)))
 >>>
 >>> (define one (text "one" 12 'black))
 >>>
 >>>
 >>> (define (foo z)
 >>> (beside/align 'top z
 >>>               (above/align 'left
 >>>                            (beside/align 'top z one)
 >>>                            (beside/align 'top z one))))
 >>>
 >>> (equal? (foo x) (foo y))
 >>>
 >>>
 >>>
 >>> On Aug 25, 2012, at 1:16 PM, matthias@ccs.neu.edu wrote:
 >>>
 >>>> A new problem report is waiting at
 >>>> http://bugs.racket-lang.org/query/?cmd=view&pr=13066
 >>>>
 >>>> Reported by matthias for release: 5.3.0.20--2012-08-21(e1401367/d)
 >>>>
 >>>> *** Description:
 >>>> (require 2htdp/image)
 >>>> I would expect the expression below to produce true but it returns false.
 >>>>
 >>>> (image=?
 >>>> (above/align
 >>>> 'left
 >>>> (text "one" 11 'black)
 >>>> (text "two" 11 'black)
 >>>> empty-image)
 >>>> (above/align
 >>>> 'left
 >>>> (text "one" 11 'black)
 >>>> (text "two" 11 'black)))
 >>>>
 >>>> *** How to repeat:
 >>>>
 >>>>
 >>>> *** Environment:
 >>>> macosx "Darwin africa.westell.com 11.4.0 Darwin Kernel Version 11.4.0: Mon Apr  9 19:32:15 PDT 2012; root:xnu-1699.26.8~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
 >>>> Human Language: english
 >>>> (current-memory-use) 739091368
 >>>> Links: (links) = (); (links #:user? #f) = (); (links #:root? #t) = (); (links #:user? #f #:root? #t) = ()
 >>>>
 >>>>
 >>>> Collections:
 >>>> ("/Users/matthias/0Unison/collects/"
 >>>> ("._.DS_Store" ".DS_Store" "compiled" "date" "finance" "info-domain" "info.ss" "pdf.ss~" "session" "short" "testing" "tll-collects" "utils" "web"))
 >>>> ("/Users/matthias/Library/Racket/5.3.0.20/collects"
 >>>> (non-existent-path))
 >>>> ("/Users/matthias/plt/collects"
 >>>> (".gitignore" "2htdp" "afm" "algol60" "at-exp" "browser" "combinator-parser" "compatibility" "compiler" "config" "data" "datalog" "db" "defaults" "deinprogramm" "drracket" "drscheme" "dynext" "embedded-gui" "eopl" "errortrace" "ffi" "file" "framework" "frtime" "future-visualizer" "games" "graphics" "gui-debugger" "guibuilder" "handin-client" "handin-server" "help" "hierlist" "honu" "htdp" "html" "icons" "images" "info-domain" "json" "lang" "launcher" "lazy" "macro-debugger" "make" "meta" "mred" "mrlib" "mysterx" "mz" "mzcom" "mzlib" "mzscheme" "net" "openssl" "parser-tools" "picturing-programs" "plai" "planet" "plot" "preprocessor" "profile" "r5rs" "r6rs" "racket" "racklog" "rackunit" "raclog" "raco" "racunit" "reader" "readline" "redex" "repo-time-stamp" "repos-time-stamp" "rnrs" "s-exp" "schelog" "scheme" "schemeunit" "scribble" "scribblings" "scriblib" "setup" "sgl" "sirmail" "slatex" "slideshow" "srfi" "srpersist" "stepper" "string-constants" "swindle" "syntax" "syntax-!
 >>>> color" "teachpack" "test-box-recovery" "test-engine" "tests" "tex2page" "texpict" "tool" "trace" "typed" "typed-racket" "typed-scheme" "unstable" "version" "waterworld" "web-server" "wxme" "xml" "xrepl"))
 >>>>
 >>>> Computer Language: (("Teaching Languages" "How to Design Programs" "Intermediate Student with lambda") (#(#t constructor repeating-decimal #f #t none) #f ()))
 >>>>
 >>>
 >
 
From: Matthias Felleisen <matthias@ccs.neu.edu>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Sat, 25 Aug 2012 19:54:37 -0400

 --Apple-Mail=_6272379E-DD9F-4FFF-8BC7-1C454957711A
 Content-Transfer-Encoding: quoted-printable
 Content-Type: text/plain;
 	charset=us-ascii
 
 
 On Aug 25, 2012, at 7:51 PM, Robby Findler wrote:
 
 >>=20
 >> The docs seem to suggest this too:
 >>=20
 >>>=20
 >>>> (equal? (above empty-image
 >>>                 (rectangle 10 10 "solid" "red"))
 >>>          (beside empty-image
 >>>                  (rectangle 10 10 "solid" "red")))
 >>> #t
 >>=20
 >> Indeed, what is the difference between the doc example and mine?
 >=20
 > The baseline.
 
 
 1. I consider the docs a bit misleading then.=20
 
 2. I don't understand your response yet. In the above equal?=20
 example from the docs, the 'above' looks like mine below. It's
 not like the beside sub-expression creates a new baseline.=20
 
 Even when I switch the subexpressions of the 'above' expression
 in your example, it remains #t.=20
 
 It almost looks like my example then.=20
 
 3. Until now I hadn't heard of baseline, and I hadn't encountered the =
 concept.=20
 
 
 --Apple-Mail=_6272379E-DD9F-4FFF-8BC7-1C454957711A
 Content-Disposition: attachment;
 	filename=smime.p7s
 Content-Type: application/pkcs7-signature;
 	name=smime.p7s
 Content-Transfer-Encoding: base64
 
 MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIMTDCCBVYw
 ggQ+oAMCAQICEHbDqMitQnj5Qd81mMX31uMwDQYJKoZIhvcNAQEFBQAwgd0xCzAJBgNVBAYTAlVT
 MRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29y
 azE7MDkGA1UECxMyVGVybXMgb2YgdXNlIGF0IGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEg
 KGMpMDkxHjAcBgNVBAsTFVBlcnNvbmEgTm90IFZhbGlkYXRlZDE3MDUGA1UEAxMuVmVyaVNpZ24g
 Q2xhc3MgMSBJbmRpdmlkdWFsIFN1YnNjcmliZXIgQ0EgLSBHMzAeFw0xMjA3MjYwMDAwMDBaFw0x
 MzA3MjYyMzU5NTlaMIIBGTEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlT
 aWduIFRydXN0IE5ldHdvcmsxRjBEBgNVBAsTPXd3dy52ZXJpc2lnbi5jb20vcmVwb3NpdG9yeS9S
 UEEgSW5jb3JwLiBieSBSZWYuLExJQUIuTFREKGMpOTgxHjAcBgNVBAsTFVBlcnNvbmEgTm90IFZh
 bGlkYXRlZDEzMDEGA1UECxMqRGlnaXRhbCBJRCBDbGFzcyAxIC0gTmV0c2NhcGUgRnVsbCBTZXJ2
 aWNlMRswGQYDVQQDFBJNYXR0aGlhcyBGZWxsZWlzZW4xIzAhBgkqhkiG9w0BCQEWFG1hdHRoaWFz
 QGNjcy5uZXUuZWR1MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxoivceU706ZnD2XD
 JfoNFd4KTbYA9AObozHkSZ6BJLC8oSGjakZu6m11azFwk5LfPOjd7dQIKw9uDhmT1e4q6jP+B1FC
 a1qqwm7Rw9PcFhqYFBlE8MbqJUXJW53Ynw3dK2XiUNqTXFcBa2otI8XxMtrQch4f9oMUy+aIn/fZ
 QQDbkkzuwz3884xSbm0IMDneYUC6FF1OJe2+fkMqHqEDsSgY97RFcjdgTCOB012odwGhxJ3rIGaX
 WUs7ttjnftzyGODVILMIx8RBJpGJ+Ur4R67SJygV8Clpg1RBuRUSNaZAN0tCjO9YSkb9HfF2tAx9
 POWmQXdTtNNjZfJPbTVnkQIDAQABo4HSMIHPMAkGA1UdEwQCMAAwRAYDVR0gBD0wOzA5BgtghkgB
 hvhFAQcXATAqMCgGCCsGAQUFBwIBFhxodHRwczovL3d3dy52ZXJpc2lnbi5jb20vcnBhMAsGA1Ud
 DwQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDBAYIKwYBBQUHAwIwUAYDVR0fBEkwRzBFoEOgQYY/
 aHR0cDovL2luZGMxZGlnaXRhbGlkLWczLWNybC52ZXJpc2lnbi5jb20vSW5kQzFEaWdpdGFsSUQt
 RzMuY3JsMA0GCSqGSIb3DQEBBQUAA4IBAQCeAXGCjjlMmU1wb3Ii4V0yNygujjQcvJstFh7IyVcM
 oD5/5Ar7b36JL1O2tpBosTf0pVZaORKCMPAf1IfBS48CvvqSoeVyXCFG1goXDjr7Ut+ZwosuFXdr
 2gD6u9EftuoUy+UBdz46NcN9YC0WbX7CrRE96XxvYwPfWnGIjsoNY7WqFI4f7HLlM5dCmAOXySsw
 EbPKpflzEGPU8aKf4FqTX9ne+hTzPbCf5CDJdzrdyn5bQkqvSzxw+P3tvQSU9lnyZkG7wZ1cibna
 QIuSNEe+HKOKcEfeTeD50JhLa43RE24nMsaXWdX61VTiPE/2Y9woEVLxXBp+AFpMZjGYsF/yMIIG
 7jCCBdagAwIBAgIQcRVmBUrkkSFN6bxE+azT3DANBgkqhkiG9w0BAQUFADCByjELMAkGA1UEBhMC
 VVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3
 b3JrMTowOAYDVQQLEzEoYykgMTk5OSBWZXJpU2lnbiwgSW5jLiAtIEZvciBhdXRob3JpemVkIHVz
 ZSBvbmx5MUUwQwYDVQQDEzxWZXJpU2lnbiBDbGFzcyAxIFB1YmxpYyBQcmltYXJ5IENlcnRpZmlj
 YXRpb24gQXV0aG9yaXR5IC0gRzMwHhcNMDkwNTAxMDAwMDAwWhcNMTkwNDMwMjM1OTU5WjCB3TEL
 MAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBU
 cnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBvZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNp
 Z24uY29tL3JwYSAoYykwOTEeMBwGA1UECxMVUGVyc29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQD
 Ey5WZXJpU2lnbiBDbGFzcyAxIEluZGl2aWR1YWwgU3Vic2NyaWJlciBDQSAtIEczMIIBIjANBgkq
 hkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7cRH3yooHXwGa7vXITLJbBOP6bGNQU4099oL42r6ZYgg
 CxET6ZvgSU6Lb9UB0F8NR5GKWkx0Pj/GkQm7TDSejW6hglFi92l2WJYHr54UGAdPWr2f0jGyVBlz
 RmoZQhHsEnMhjfXcMM3l2VYKMcU2bSkUl70t2olHGYjYSwQ967Y8Zx50ABMN0Ibak2f4MwOuGjxr
 aXj2wCyO4YM/d/mZ//6fUlrCtIcK2GypR8FUKWVDPkrAlh/Brfd3r2yxBF6+wbaULZeQLSfSux7p
 g2qE9sSyriMGZSalJ1grByK0b6ZiSBp38tVQJ5op05b7KPW6JHZi44xZ6/tu1ULEvkHH9QIDAQAB
 o4ICuTCCArUwNAYIKwYBBQUHAQEEKDAmMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC52ZXJpc2ln
 bi5jb20wEgYDVR0TAQH/BAgwBgEB/wIBADBwBgNVHSAEaTBnMGUGC2CGSAGG+EUBBxcBMFYwKAYI
 KwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9jcHMwKgYIKwYBBQUHAgIwHhocaHR0
 cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYTA0BgNVHR8ELTArMCmgJ6AlhiNodHRwOi8vY3JsLnZl
 cmlzaWduLmNvbS9wY2ExLWczLmNybDAOBgNVHQ8BAf8EBAMCAQYwbgYIKwYBBQUHAQwEYjBgoV6g
 XDBaMFgwVhYJaW1hZ2UvZ2lmMCEwHzAHBgUrDgMCGgQUS2u5KJYGDLvQUjibKaxLB4shBRgwJhYk
 aHR0cDovL2xvZ28udmVyaXNpZ24uY29tL3ZzbG9nbzEuZ2lmMC4GA1UdEQQnMCWkIzAhMR8wHQYD
 VQQDExZQcml2YXRlTGFiZWw0LTIwNDgtMTE4MB0GA1UdDgQWBBR5R2EIQf04BKJL57XM9UP2SSsR
 +DCB8QYDVR0jBIHpMIHmoYHQpIHNMIHKMQswCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24s
 IEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5
 IFZlcmlTaWduLCBJbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlT
 aWduIENsYXNzIDEgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHM4IR
 AItbdVaEVIULAM+vOEjOsaQwDQYJKoZIhvcNAQEFBQADggEBADlNz0GZgbWpBbVSOOk5hIls5DSo
 WufYbAlMJBq6WaSHO3Mh8ZOBz79oY1pn/jWFK6HDXaNKwjoZ3TDWzE3v8dKBl8pUWkO/N4t6jhmN
 D0OojPKvYLMVirOVnDzgnrMnmKQ1chfl/Cpdh9OKDcLRRSr4wPSsKpM61a4ScAjr+zvid+zoK2Q1
 ds262uDRyxTWcVibvtU+fbbZ6CTFJGZMXZEfdrMXPn8NxiGJL7M3uKH/XLJtSd5lUkL7DojS7Uod
 v0vj+Mxy+kgOZY5JyNb4mZg7t5Q+MXEGh/psWVMu198r7V9jAKwV7QO4VRaMxmgD5yKocwuxvKDa
 UljdCg5/wYIxggSLMIIEhwIBATCB8jCB3TELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWdu
 LCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBv
 ZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykwOTEeMBwGA1UECxMVUGVy
 c29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQDEy5WZXJpU2lnbiBDbGFzcyAxIEluZGl2aWR1YWwg
 U3Vic2NyaWJlciBDQSAtIEczAhB2w6jIrUJ4+UHfNZjF99bjMAkGBSsOAwIaBQCgggJtMBgGCSqG
 SIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTEyMDgyNTIzNTQzN1owIwYJKoZI
 hvcNAQkEMRYEFDisKiwkYu1NJZ7vu8ZKEFW0D4H4MIIBAwYJKwYBBAGCNxAEMYH1MIHyMIHdMQsw
 CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRy
 dXN0IE5ldHdvcmsxOzA5BgNVBAsTMlRlcm1zIG9mIHVzZSBhdCBodHRwczovL3d3dy52ZXJpc2ln
 bi5jb20vcnBhIChjKTA5MR4wHAYDVQQLExVQZXJzb25hIE5vdCBWYWxpZGF0ZWQxNzA1BgNVBAMT
 LlZlcmlTaWduIENsYXNzIDEgSW5kaXZpZHVhbCBTdWJzY3JpYmVyIENBIC0gRzMCEHbDqMitQnj5
 Qd81mMX31uMwggEFBgsqhkiG9w0BCRACCzGB9aCB8jCB3TELMAkGA1UEBhMCVVMxFzAVBgNVBAoT
 DlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQL
 EzJUZXJtcyBvZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykwOTEeMBwG
 A1UECxMVUGVyc29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQDEy5WZXJpU2lnbiBDbGFzcyAxIElu
 ZGl2aWR1YWwgU3Vic2NyaWJlciBDQSAtIEczAhB2w6jIrUJ4+UHfNZjF99bjMA0GCSqGSIb3DQEB
 AQUABIIBAJA+x+f3Xd+LB7yKXfmmN2unx5fYXaQRn8YrE0SFB9M4QHV4QCpN4ezvzY+ak3lYfAip
 vgU7v28WfYbsrNtpA/ekmjrWA5MlObeol04SfEmaW/b0wV6dd+sHBs7Na1mmwxv8iDRUK9zK1x7h
 c8PY0eN3aykyiIrxmRHtMfJTTi8F6RmPs04fLVlBnlxwhOElD3iCqrdMR1++j+v0VU0gbRpTVhWi
 yZIEWFWZ7e63fmPwHvdWxKoi+fomlQmHiiqCDghWIHzR1NLlm9dZCT3MIMZ2AcSsDnHdB6iZvAV/
 g6s6BQlFYppVzy7+3HJEeGFtDBk7UDyjJ3QZ0VBLQ3OqsvsAAAAAAAA=
 
 --Apple-Mail=_6272379E-DD9F-4FFF-8BC7-1C454957711A--
From: Robby Findler <robby@eecs.northwestern.edu>
To: Matthias Felleisen <matthias@ccs.neu.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Sat, 25 Aug 2012 19:14:00 -0500

 On Sat, Aug 25, 2012 at 6:54 PM, Matthias Felleisen
 <matthias@ccs.neu.edu> wrote:
 > 1. I consider the docs a bit misleading then.
 
 I've pushed an attempt at a clarification.
 
 > 2. I don't understand your response yet. In the above equal?
 > example from the docs, the 'above' looks like mine below. It's
 > not like the beside sub-expression creates a new baseline.
 >
 > Even when I switch the subexpressions of the 'above' expression
 > in your example, it remains #t.
 
 Just to be clear, this is correct behavior.
 
 > It almost looks like my example then.
 
 The key difference is that your example has text. Images that have
 text start out with baselines that are different from their heights.
 
 > 3. Until now I hadn't heard of baseline, and I hadn't encountered the concept.
 
 I find this hard to believe. It features prominently in the
 description of picts (which I believe you've used a bunch, altho you
 do seem to keep using wyswig things for your talks ;), the
 get-text-extent method (which you may not have used), and the
 2htdp/image docs, which I'm hoping you'll read now.
 
 Robby
From: Stephen Bloch <sbloch@adelphi.edu>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: Matthias Felleisen <matthias@ccs.neu.edu>, bugs@racket-lang.org,
        nobody@racket-lang.org, bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Sun, 26 Aug 2012 20:20:55 -0400

 On Aug 25, 2012, at 7:51 PM, Robby Findler wrote:
 
 >> Indeed, what is the difference between the doc example and mine?
 > 
 > The baseline.
 
 And the problems of pinholes rear their ugly head from beyond the grave.
 
 Seriously, if two images look identical at every conceivable magnification, any reasonable person would expect them to be equal? and to behave interchangeably.  If we also need to keep track of pinholes and/or baselines, that should be a different data type that decorates an image with this extra information.
 
 
 Stephen Bloch
 sbloch@adelphi.edu
 
 
From: Robby Findler <robby@eecs.northwestern.edu>
To: Stephen Bloch <sbloch@adelphi.edu>
Cc: Matthias Felleisen <matthias@ccs.neu.edu>, bugs@racket-lang.org,
        nobody@racket-lang.org, bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Sun, 26 Aug 2012 19:25:12 -0500

 Well, one could take that perspective, yes.
 
 But images can (and do) draw outside their bounding boxes. So I think
 your rationale is not right (else we'd have to consider width and
 height to be in the same category as baselines).
 
 As it turns out, only picts that are created from strings can ever
 have a height different from the baseline (or if you use crop in a
 fancy way), so perhaps a better approach is to avoid text (since
 lining up text without baselines is just ugly anyways).
 
 Robby
 
 On Sun, Aug 26, 2012 at 7:20 PM, Stephen Bloch <sbloch@adelphi.edu> wrote:
 >
 > On Aug 25, 2012, at 7:51 PM, Robby Findler wrote:
 >
 >>> Indeed, what is the difference between the doc example and mine?
 >>
 >> The baseline.
 >
 > And the problems of pinholes rear their ugly head from beyond the grave.
 >
 > Seriously, if two images look identical at every conceivable magnification, any reasonable person would expect them to be equal? and to behave interchangeably.  If we also need to keep track of pinholes and/or baselines, that should be a different data type that decorates an image with this extra information.
 >
 >
 > Stephen Bloch
 > sbloch@adelphi.edu
 >
 
From: Sam Tobin-Hochstadt <samth@ccs.neu.edu>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: Stephen Bloch <sbloch@adelphi.edu>,
        Matthias Felleisen <matthias@ccs.neu.edu>, bugs@racket-lang.org,
        nobody@racket-lang.org, bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Sun, 26 Aug 2012 20:45:05 -0400

 On Sun, Aug 26, 2012 at 8:25 PM, Robby Findler
 <robby@eecs.northwestern.edu> wrote:
 > Well, one could take that perspective, yes.
 >
 > But images can (and do) draw outside their bounding boxes. So I think
 > your rationale is not right (else we'd have to consider width and
 > height to be in the same category as baselines).
 
 I think Stephen's argument suggests that the whole idea of a "bounding
 box" that's separate from the width and height of the pixels in the
 image is a bad one.  For doing real work with images, this is clearly
 a non-starter, but it might work in a teaching setting.
 -- 
 sam th
 samth@ccs.neu.edu
From: Robby Findler <robby@eecs.northwestern.edu>
To: Sam Tobin-Hochstadt <samth@ccs.neu.edu>
Cc: Stephen Bloch <sbloch@adelphi.edu>,
        Matthias Felleisen <matthias@ccs.neu.edu>, bugs@racket-lang.org,
        nobody@racket-lang.org, bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Sun, 26 Aug 2012 20:13:47 -0500

 On Sun, Aug 26, 2012 at 7:45 PM, Sam Tobin-Hochstadt <samth@ccs.neu.edu> wrote:
 > On Sun, Aug 26, 2012 at 8:25 PM, Robby Findler
 > <robby@eecs.northwestern.edu> wrote:
 >> Well, one could take that perspective, yes.
 >>
 >> But images can (and do) draw outside their bounding boxes. So I think
 >> your rationale is not right (else we'd have to consider width and
 >> height to be in the same category as baselines).
 >
 > I think Stephen's argument suggests that the whole idea of a "bounding
 > box" that's separate from the width and height of the pixels in the
 > image is a bad one.  For doing real work with images, this is clearly
 > a non-starter, but it might work in a teaching setting.
 
 I think it is a non-starter for 2htdp/image, actually.
 
 If I understand correctly, you'd have to get rid of all rounded shapes
 and all pens.
 
 I still believe what I wrote in my last message is the the best
 option: just avoid 'text'-based shapes until you're ready for them.
 
 Robby
From: Matthias Felleisen <matthias@ccs.neu.edu>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Wed, 29 Aug 2012 16:46:27 -0400

 --Apple-Mail=_84BF4156-6BFC-495C-8034-5AD621E2CDC3
 Content-Transfer-Encoding: quoted-printable
 Content-Type: text/plain;
 	charset=us-ascii
 
 
 On Aug 25, 2012, at 8:14 PM, Robby Findler wrote:
 
 >>=20
 >> 3. Until now I hadn't heard of baseline, and I hadn't encountered the =
 concept.
 >=20
 > I find this hard to believe. It features prominently in the
 > description of picts (which I believe you've used a bunch, altho you
 > do seem to keep using wyswig things for your talks ;), the
 > get-text-extent method (which you may not have used), and the
 > 2htdp/image docs, which I'm hoping you'll read now.
 
 Naturally I had heard of 'baseline' before you started
 programming -- tex taught me that much in 1984. I also=20
 use slideshow extensively to create images for '2e' --=20
 with and without text. So perhaps you should reserve
 judgment.=20
 
 I will admit that I had never taken the time to read the=20
 entire docs for 2htdp/image. I had naively assumed that
 we had eliminated *all* 'invisible differences' issues.=20
 While I had skirted the problem a couple of times before
 (the same exercise, though not ready for '2e'), I had=20
 always been under enough time pressure not to investigate.=20
 
 ;; ---=20
 
 > I still believe what I wrote in my last message is the the best
 > option: just avoid 'text'-based shapes until you're ready for them.
 
 I think this part of your response is overly defensive and=20
 too quick from the hip.=20
 
 1. I now understand that we are getting a bunch of neat/cool
 things that we would lose if we eliminated the concept of=20
 baseline from image.=20
 
 2. But we are still facing two problems:=20
 
 -- even though we have an algebraic form of image generation,=20
 we do not have a neutral element (identity element) for the=20
 basic composition operations. I want to teach fold with image,=20
 it is great, and I don't want to hear "not ready."=20
 
 Q: is there really no identity element in this world?=20
 
 N: Thank you very much for the clarification to the docs.=20
 They are very helpful.=20
 
 -- students who don't know whether they are ready because=20
 teachpacks don't come with 'levels' (and are intended to=20
 get around *sl levels). They will use 'text' and they will
 get effects that they can't figure out -- because like me
 and as "Matthew the impatient" says they will not read the=20
 entire documentation. Worse, they see 'text' in '2e' and=20
 'above' and voila, why bother looking in the docs. It must
 work ## except that it doesn't.=20
 
 SO: I propose that we should get an 'image-debug' function
 that draws the invisible baseline into an image ## unless we
 can solve Q above positively.=20
 
 -- Matthias
 
 
 
 
 
 
 =20=
 
 --Apple-Mail=_84BF4156-6BFC-495C-8034-5AD621E2CDC3
 Content-Disposition: attachment;
 	filename=smime.p7s
 Content-Type: application/pkcs7-signature;
 	name=smime.p7s
 Content-Transfer-Encoding: base64
 
 MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIMTDCCBVYw
 ggQ+oAMCAQICEHbDqMitQnj5Qd81mMX31uMwDQYJKoZIhvcNAQEFBQAwgd0xCzAJBgNVBAYTAlVT
 MRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29y
 azE7MDkGA1UECxMyVGVybXMgb2YgdXNlIGF0IGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEg
 KGMpMDkxHjAcBgNVBAsTFVBlcnNvbmEgTm90IFZhbGlkYXRlZDE3MDUGA1UEAxMuVmVyaVNpZ24g
 Q2xhc3MgMSBJbmRpdmlkdWFsIFN1YnNjcmliZXIgQ0EgLSBHMzAeFw0xMjA3MjYwMDAwMDBaFw0x
 MzA3MjYyMzU5NTlaMIIBGTEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlT
 aWduIFRydXN0IE5ldHdvcmsxRjBEBgNVBAsTPXd3dy52ZXJpc2lnbi5jb20vcmVwb3NpdG9yeS9S
 UEEgSW5jb3JwLiBieSBSZWYuLExJQUIuTFREKGMpOTgxHjAcBgNVBAsTFVBlcnNvbmEgTm90IFZh
 bGlkYXRlZDEzMDEGA1UECxMqRGlnaXRhbCBJRCBDbGFzcyAxIC0gTmV0c2NhcGUgRnVsbCBTZXJ2
 aWNlMRswGQYDVQQDFBJNYXR0aGlhcyBGZWxsZWlzZW4xIzAhBgkqhkiG9w0BCQEWFG1hdHRoaWFz
 QGNjcy5uZXUuZWR1MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxoivceU706ZnD2XD
 JfoNFd4KTbYA9AObozHkSZ6BJLC8oSGjakZu6m11azFwk5LfPOjd7dQIKw9uDhmT1e4q6jP+B1FC
 a1qqwm7Rw9PcFhqYFBlE8MbqJUXJW53Ynw3dK2XiUNqTXFcBa2otI8XxMtrQch4f9oMUy+aIn/fZ
 QQDbkkzuwz3884xSbm0IMDneYUC6FF1OJe2+fkMqHqEDsSgY97RFcjdgTCOB012odwGhxJ3rIGaX
 WUs7ttjnftzyGODVILMIx8RBJpGJ+Ur4R67SJygV8Clpg1RBuRUSNaZAN0tCjO9YSkb9HfF2tAx9
 POWmQXdTtNNjZfJPbTVnkQIDAQABo4HSMIHPMAkGA1UdEwQCMAAwRAYDVR0gBD0wOzA5BgtghkgB
 hvhFAQcXATAqMCgGCCsGAQUFBwIBFhxodHRwczovL3d3dy52ZXJpc2lnbi5jb20vcnBhMAsGA1Ud
 DwQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDBAYIKwYBBQUHAwIwUAYDVR0fBEkwRzBFoEOgQYY/
 aHR0cDovL2luZGMxZGlnaXRhbGlkLWczLWNybC52ZXJpc2lnbi5jb20vSW5kQzFEaWdpdGFsSUQt
 RzMuY3JsMA0GCSqGSIb3DQEBBQUAA4IBAQCeAXGCjjlMmU1wb3Ii4V0yNygujjQcvJstFh7IyVcM
 oD5/5Ar7b36JL1O2tpBosTf0pVZaORKCMPAf1IfBS48CvvqSoeVyXCFG1goXDjr7Ut+ZwosuFXdr
 2gD6u9EftuoUy+UBdz46NcN9YC0WbX7CrRE96XxvYwPfWnGIjsoNY7WqFI4f7HLlM5dCmAOXySsw
 EbPKpflzEGPU8aKf4FqTX9ne+hTzPbCf5CDJdzrdyn5bQkqvSzxw+P3tvQSU9lnyZkG7wZ1cibna
 QIuSNEe+HKOKcEfeTeD50JhLa43RE24nMsaXWdX61VTiPE/2Y9woEVLxXBp+AFpMZjGYsF/yMIIG
 7jCCBdagAwIBAgIQcRVmBUrkkSFN6bxE+azT3DANBgkqhkiG9w0BAQUFADCByjELMAkGA1UEBhMC
 VVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3
 b3JrMTowOAYDVQQLEzEoYykgMTk5OSBWZXJpU2lnbiwgSW5jLiAtIEZvciBhdXRob3JpemVkIHVz
 ZSBvbmx5MUUwQwYDVQQDEzxWZXJpU2lnbiBDbGFzcyAxIFB1YmxpYyBQcmltYXJ5IENlcnRpZmlj
 YXRpb24gQXV0aG9yaXR5IC0gRzMwHhcNMDkwNTAxMDAwMDAwWhcNMTkwNDMwMjM1OTU5WjCB3TEL
 MAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBU
 cnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBvZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNp
 Z24uY29tL3JwYSAoYykwOTEeMBwGA1UECxMVUGVyc29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQD
 Ey5WZXJpU2lnbiBDbGFzcyAxIEluZGl2aWR1YWwgU3Vic2NyaWJlciBDQSAtIEczMIIBIjANBgkq
 hkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7cRH3yooHXwGa7vXITLJbBOP6bGNQU4099oL42r6ZYgg
 CxET6ZvgSU6Lb9UB0F8NR5GKWkx0Pj/GkQm7TDSejW6hglFi92l2WJYHr54UGAdPWr2f0jGyVBlz
 RmoZQhHsEnMhjfXcMM3l2VYKMcU2bSkUl70t2olHGYjYSwQ967Y8Zx50ABMN0Ibak2f4MwOuGjxr
 aXj2wCyO4YM/d/mZ//6fUlrCtIcK2GypR8FUKWVDPkrAlh/Brfd3r2yxBF6+wbaULZeQLSfSux7p
 g2qE9sSyriMGZSalJ1grByK0b6ZiSBp38tVQJ5op05b7KPW6JHZi44xZ6/tu1ULEvkHH9QIDAQAB
 o4ICuTCCArUwNAYIKwYBBQUHAQEEKDAmMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC52ZXJpc2ln
 bi5jb20wEgYDVR0TAQH/BAgwBgEB/wIBADBwBgNVHSAEaTBnMGUGC2CGSAGG+EUBBxcBMFYwKAYI
 KwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9jcHMwKgYIKwYBBQUHAgIwHhocaHR0
 cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYTA0BgNVHR8ELTArMCmgJ6AlhiNodHRwOi8vY3JsLnZl
 cmlzaWduLmNvbS9wY2ExLWczLmNybDAOBgNVHQ8BAf8EBAMCAQYwbgYIKwYBBQUHAQwEYjBgoV6g
 XDBaMFgwVhYJaW1hZ2UvZ2lmMCEwHzAHBgUrDgMCGgQUS2u5KJYGDLvQUjibKaxLB4shBRgwJhYk
 aHR0cDovL2xvZ28udmVyaXNpZ24uY29tL3ZzbG9nbzEuZ2lmMC4GA1UdEQQnMCWkIzAhMR8wHQYD
 VQQDExZQcml2YXRlTGFiZWw0LTIwNDgtMTE4MB0GA1UdDgQWBBR5R2EIQf04BKJL57XM9UP2SSsR
 +DCB8QYDVR0jBIHpMIHmoYHQpIHNMIHKMQswCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24s
 IEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5
 IFZlcmlTaWduLCBJbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlT
 aWduIENsYXNzIDEgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHM4IR
 AItbdVaEVIULAM+vOEjOsaQwDQYJKoZIhvcNAQEFBQADggEBADlNz0GZgbWpBbVSOOk5hIls5DSo
 WufYbAlMJBq6WaSHO3Mh8ZOBz79oY1pn/jWFK6HDXaNKwjoZ3TDWzE3v8dKBl8pUWkO/N4t6jhmN
 D0OojPKvYLMVirOVnDzgnrMnmKQ1chfl/Cpdh9OKDcLRRSr4wPSsKpM61a4ScAjr+zvid+zoK2Q1
 ds262uDRyxTWcVibvtU+fbbZ6CTFJGZMXZEfdrMXPn8NxiGJL7M3uKH/XLJtSd5lUkL7DojS7Uod
 v0vj+Mxy+kgOZY5JyNb4mZg7t5Q+MXEGh/psWVMu198r7V9jAKwV7QO4VRaMxmgD5yKocwuxvKDa
 UljdCg5/wYIxggSLMIIEhwIBATCB8jCB3TELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWdu
 LCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBv
 ZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykwOTEeMBwGA1UECxMVUGVy
 c29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQDEy5WZXJpU2lnbiBDbGFzcyAxIEluZGl2aWR1YWwg
 U3Vic2NyaWJlciBDQSAtIEczAhB2w6jIrUJ4+UHfNZjF99bjMAkGBSsOAwIaBQCgggJtMBgGCSqG
 SIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTEyMDgyOTIwNDYyN1owIwYJKoZI
 hvcNAQkEMRYEFGEp0NXmGSru1kSpktgdwtVortNgMIIBAwYJKwYBBAGCNxAEMYH1MIHyMIHdMQsw
 CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRy
 dXN0IE5ldHdvcmsxOzA5BgNVBAsTMlRlcm1zIG9mIHVzZSBhdCBodHRwczovL3d3dy52ZXJpc2ln
 bi5jb20vcnBhIChjKTA5MR4wHAYDVQQLExVQZXJzb25hIE5vdCBWYWxpZGF0ZWQxNzA1BgNVBAMT
 LlZlcmlTaWduIENsYXNzIDEgSW5kaXZpZHVhbCBTdWJzY3JpYmVyIENBIC0gRzMCEHbDqMitQnj5
 Qd81mMX31uMwggEFBgsqhkiG9w0BCRACCzGB9aCB8jCB3TELMAkGA1UEBhMCVVMxFzAVBgNVBAoT
 DlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQL
 EzJUZXJtcyBvZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykwOTEeMBwG
 A1UECxMVUGVyc29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQDEy5WZXJpU2lnbiBDbGFzcyAxIElu
 ZGl2aWR1YWwgU3Vic2NyaWJlciBDQSAtIEczAhB2w6jIrUJ4+UHfNZjF99bjMA0GCSqGSIb3DQEB
 AQUABIIBAJB4Mvv/3QgJVxmEaDSA6KV/zvJnDC05v1p+V6MmFEfQBSBNwNgB9HyZUWgJ20UrAC9i
 j+rayp0+ntdT8G3EPqllOlw5IZ5KSV0CZ5p+UU8uJy2GaORPXy4xmckA9i5bdg05jaMC/g0a85c8
 CfYgEifWOLAK+qjPiLt94zuqMjoGmdB3knK4ByJ+Th4fuxBNOm0hca6kRh2l1pI0aR1cjz3RtCba
 D7a4db5KOoZ+AD9EYo8GY/Bfevvf+WBo+MAJtVauuxorVJHoRzuNw9OMYdHOqIjBf/+4QdETbqjL
 12FfvScvn4w+PtBdIqCqkqkcfuyzTs6FVNcp8wWJHUV2Oa4AAAAAAAA=
 
 --Apple-Mail=_84BF4156-6BFC-495C-8034-5AD621E2CDC3--
From: Robby Findler <robby@eecs.northwestern.edu>
To: Matthias Felleisen <matthias@ccs.neu.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Wed, 29 Aug 2012 16:07:47 -0500

 On Wed, Aug 29, 2012 at 3:46 PM, Matthias Felleisen
 <matthias@ccs.neu.edu> wrote:
 >> I still believe what I wrote in my last message is the the best
 >> option: just avoid 'text'-based shapes until you're ready for them.
 >
 > I think this part of your response is overly defensive and
 > too quick from the hip.
 >
 > 1. I now understand that we are getting a bunch of neat/cool
 > things that we would lose if we eliminated the concept of
 > baseline from image.
 >
 > 2. But we are still facing two problems:
 >
 > -- even though we have an algebraic form of image generation,
 > we do not have a neutral element (identity element) for the
 > basic composition operations. I want to teach fold with image,
 > it is great, and I don't want to hear "not ready."
 
 Well, it is the neutral element for horizontal composition and
 vertical composition where it is on the top (I believe).
 
 > Q: is there really no identity element in this world?
 >
 > N: Thank you very much for the clarification to the docs.
 > They are very helpful.
 >
 > -- students who don't know whether they are ready because
 > teachpacks don't come with 'levels' (and are intended to
 > get around *sl levels). They will use 'text' and they will
 > get effects that they can't figure out -- because like me
 > and as "Matthew the impatient" says they will not read the
 > entire documentation. Worse, they see 'text' in '2e' and
 > 'above' and voila, why bother looking in the docs. It must
 > work ## except that it doesn't.
 >
 > SO: I propose that we should get an 'image-debug' function
 > that draws the invisible baseline into an image ## unless we
 > can solve Q above positively.
 
 Sure, I can add that.
 
 I don't think it will help with the impatient.
 
 If we did have levels, then you'd be forced to not use 'text' right
 away in 2e. Maybe it would be worth actually behaving this way and not
 using it?
 
 Or we could break 2htdp/image up into two libraries? Or we could
 figure out a submodule-based protocol for 'require' in intermediate
 and advanced to have the option of loading more stuff than the require
 in bsl?
 
 Robby
From: Matthias Felleisen <matthias@ccs.neu.edu>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Wed, 29 Aug 2012 17:12:29 -0400

 --Apple-Mail=_FF372440-A9B6-4CDD-AAE1-2012FDE1499C
 Content-Transfer-Encoding: 7bit
 Content-Type: text/plain;
 	charset=us-ascii
 
 
 On Aug 29, 2012, at 5:07 PM, Robby Findler wrote:
 
 > Well, it is the neutral element for horizontal composition and
 > vertical composition where it is on the top (I believe).
 
 In (German) algebra, this is called a left-identity element. 
 I guess it exists in relevant practice. An algebraist would 
 be pleased to know. 
 
 
 >> Q: is there really no identity element in this world?
 >> 
 >> N: Thank you very much for the clarification to the docs.
 >> They are very helpful.
 >> 
 >> -- students who don't know whether they are ready because
 >> teachpacks don't come with 'levels' (and are intended to
 >> get around *sl levels). They will use 'text' and they will
 >> get effects that they can't figure out -- because like me
 >> and as "Matthew the impatient" says they will not read the
 >> entire documentation. Worse, they see 'text' in '2e' and
 >> 'above' and voila, why bother looking in the docs. It must
 >> work ## except that it doesn't.
 >> 
 >> SO: I propose that we should get an 'image-debug' function
 >> that draws the invisible baseline into an image ## unless we
 >> can solve Q above positively.
 > 
 > Sure, I can add that.
 > 
 > I don't think it will help with the impatient.
 
 I imagine it to be always on in DrRacket but (image-debug false)
 would turn it off. I'd comment on this in '2e'. 
 
 > If we did have levels, then you'd be forced to not use 'text' right
 > away in 2e. Maybe it would be worth actually behaving this way and not
 > using it?
 
 Well, I find having text convenient but I'd be willing to 
 postpone the use of 'text' to Advanced. 
 
 
 > Or we could break 2htdp/image up into two libraries? Or we could
 > figure out a submodule-based protocol for 'require' in intermediate
 > and advanced to have the option of loading more stuff than the require
 > in bsl?
 
 This brings up the general question of how we can programmatically 
 express that a library depends on a specific language. I would want
 to say 
 
  (require 2htdp/image)
 
 and in ASL it would import 'text' and in BSL it wouldn't. 
 
 
 
 
 
 
 
 --Apple-Mail=_FF372440-A9B6-4CDD-AAE1-2012FDE1499C
 Content-Disposition: attachment;
 	filename=smime.p7s
 Content-Type: application/pkcs7-signature;
 	name=smime.p7s
 Content-Transfer-Encoding: base64
 
 MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIMTDCCBVYw
 ggQ+oAMCAQICEHbDqMitQnj5Qd81mMX31uMwDQYJKoZIhvcNAQEFBQAwgd0xCzAJBgNVBAYTAlVT
 MRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29y
 azE7MDkGA1UECxMyVGVybXMgb2YgdXNlIGF0IGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEg
 KGMpMDkxHjAcBgNVBAsTFVBlcnNvbmEgTm90IFZhbGlkYXRlZDE3MDUGA1UEAxMuVmVyaVNpZ24g
 Q2xhc3MgMSBJbmRpdmlkdWFsIFN1YnNjcmliZXIgQ0EgLSBHMzAeFw0xMjA3MjYwMDAwMDBaFw0x
 MzA3MjYyMzU5NTlaMIIBGTEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlT
 aWduIFRydXN0IE5ldHdvcmsxRjBEBgNVBAsTPXd3dy52ZXJpc2lnbi5jb20vcmVwb3NpdG9yeS9S
 UEEgSW5jb3JwLiBieSBSZWYuLExJQUIuTFREKGMpOTgxHjAcBgNVBAsTFVBlcnNvbmEgTm90IFZh
 bGlkYXRlZDEzMDEGA1UECxMqRGlnaXRhbCBJRCBDbGFzcyAxIC0gTmV0c2NhcGUgRnVsbCBTZXJ2
 aWNlMRswGQYDVQQDFBJNYXR0aGlhcyBGZWxsZWlzZW4xIzAhBgkqhkiG9w0BCQEWFG1hdHRoaWFz
 QGNjcy5uZXUuZWR1MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxoivceU706ZnD2XD
 JfoNFd4KTbYA9AObozHkSZ6BJLC8oSGjakZu6m11azFwk5LfPOjd7dQIKw9uDhmT1e4q6jP+B1FC
 a1qqwm7Rw9PcFhqYFBlE8MbqJUXJW53Ynw3dK2XiUNqTXFcBa2otI8XxMtrQch4f9oMUy+aIn/fZ
 QQDbkkzuwz3884xSbm0IMDneYUC6FF1OJe2+fkMqHqEDsSgY97RFcjdgTCOB012odwGhxJ3rIGaX
 WUs7ttjnftzyGODVILMIx8RBJpGJ+Ur4R67SJygV8Clpg1RBuRUSNaZAN0tCjO9YSkb9HfF2tAx9
 POWmQXdTtNNjZfJPbTVnkQIDAQABo4HSMIHPMAkGA1UdEwQCMAAwRAYDVR0gBD0wOzA5BgtghkgB
 hvhFAQcXATAqMCgGCCsGAQUFBwIBFhxodHRwczovL3d3dy52ZXJpc2lnbi5jb20vcnBhMAsGA1Ud
 DwQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDBAYIKwYBBQUHAwIwUAYDVR0fBEkwRzBFoEOgQYY/
 aHR0cDovL2luZGMxZGlnaXRhbGlkLWczLWNybC52ZXJpc2lnbi5jb20vSW5kQzFEaWdpdGFsSUQt
 RzMuY3JsMA0GCSqGSIb3DQEBBQUAA4IBAQCeAXGCjjlMmU1wb3Ii4V0yNygujjQcvJstFh7IyVcM
 oD5/5Ar7b36JL1O2tpBosTf0pVZaORKCMPAf1IfBS48CvvqSoeVyXCFG1goXDjr7Ut+ZwosuFXdr
 2gD6u9EftuoUy+UBdz46NcN9YC0WbX7CrRE96XxvYwPfWnGIjsoNY7WqFI4f7HLlM5dCmAOXySsw
 EbPKpflzEGPU8aKf4FqTX9ne+hTzPbCf5CDJdzrdyn5bQkqvSzxw+P3tvQSU9lnyZkG7wZ1cibna
 QIuSNEe+HKOKcEfeTeD50JhLa43RE24nMsaXWdX61VTiPE/2Y9woEVLxXBp+AFpMZjGYsF/yMIIG
 7jCCBdagAwIBAgIQcRVmBUrkkSFN6bxE+azT3DANBgkqhkiG9w0BAQUFADCByjELMAkGA1UEBhMC
 VVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3
 b3JrMTowOAYDVQQLEzEoYykgMTk5OSBWZXJpU2lnbiwgSW5jLiAtIEZvciBhdXRob3JpemVkIHVz
 ZSBvbmx5MUUwQwYDVQQDEzxWZXJpU2lnbiBDbGFzcyAxIFB1YmxpYyBQcmltYXJ5IENlcnRpZmlj
 YXRpb24gQXV0aG9yaXR5IC0gRzMwHhcNMDkwNTAxMDAwMDAwWhcNMTkwNDMwMjM1OTU5WjCB3TEL
 MAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBU
 cnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBvZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNp
 Z24uY29tL3JwYSAoYykwOTEeMBwGA1UECxMVUGVyc29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQD
 Ey5WZXJpU2lnbiBDbGFzcyAxIEluZGl2aWR1YWwgU3Vic2NyaWJlciBDQSAtIEczMIIBIjANBgkq
 hkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7cRH3yooHXwGa7vXITLJbBOP6bGNQU4099oL42r6ZYgg
 CxET6ZvgSU6Lb9UB0F8NR5GKWkx0Pj/GkQm7TDSejW6hglFi92l2WJYHr54UGAdPWr2f0jGyVBlz
 RmoZQhHsEnMhjfXcMM3l2VYKMcU2bSkUl70t2olHGYjYSwQ967Y8Zx50ABMN0Ibak2f4MwOuGjxr
 aXj2wCyO4YM/d/mZ//6fUlrCtIcK2GypR8FUKWVDPkrAlh/Brfd3r2yxBF6+wbaULZeQLSfSux7p
 g2qE9sSyriMGZSalJ1grByK0b6ZiSBp38tVQJ5op05b7KPW6JHZi44xZ6/tu1ULEvkHH9QIDAQAB
 o4ICuTCCArUwNAYIKwYBBQUHAQEEKDAmMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC52ZXJpc2ln
 bi5jb20wEgYDVR0TAQH/BAgwBgEB/wIBADBwBgNVHSAEaTBnMGUGC2CGSAGG+EUBBxcBMFYwKAYI
 KwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9jcHMwKgYIKwYBBQUHAgIwHhocaHR0
 cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYTA0BgNVHR8ELTArMCmgJ6AlhiNodHRwOi8vY3JsLnZl
 cmlzaWduLmNvbS9wY2ExLWczLmNybDAOBgNVHQ8BAf8EBAMCAQYwbgYIKwYBBQUHAQwEYjBgoV6g
 XDBaMFgwVhYJaW1hZ2UvZ2lmMCEwHzAHBgUrDgMCGgQUS2u5KJYGDLvQUjibKaxLB4shBRgwJhYk
 aHR0cDovL2xvZ28udmVyaXNpZ24uY29tL3ZzbG9nbzEuZ2lmMC4GA1UdEQQnMCWkIzAhMR8wHQYD
 VQQDExZQcml2YXRlTGFiZWw0LTIwNDgtMTE4MB0GA1UdDgQWBBR5R2EIQf04BKJL57XM9UP2SSsR
 +DCB8QYDVR0jBIHpMIHmoYHQpIHNMIHKMQswCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24s
 IEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5
 IFZlcmlTaWduLCBJbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlT
 aWduIENsYXNzIDEgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHM4IR
 AItbdVaEVIULAM+vOEjOsaQwDQYJKoZIhvcNAQEFBQADggEBADlNz0GZgbWpBbVSOOk5hIls5DSo
 WufYbAlMJBq6WaSHO3Mh8ZOBz79oY1pn/jWFK6HDXaNKwjoZ3TDWzE3v8dKBl8pUWkO/N4t6jhmN
 D0OojPKvYLMVirOVnDzgnrMnmKQ1chfl/Cpdh9OKDcLRRSr4wPSsKpM61a4ScAjr+zvid+zoK2Q1
 ds262uDRyxTWcVibvtU+fbbZ6CTFJGZMXZEfdrMXPn8NxiGJL7M3uKH/XLJtSd5lUkL7DojS7Uod
 v0vj+Mxy+kgOZY5JyNb4mZg7t5Q+MXEGh/psWVMu198r7V9jAKwV7QO4VRaMxmgD5yKocwuxvKDa
 UljdCg5/wYIxggSLMIIEhwIBATCB8jCB3TELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWdu
 LCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBv
 ZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykwOTEeMBwGA1UECxMVUGVy
 c29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQDEy5WZXJpU2lnbiBDbGFzcyAxIEluZGl2aWR1YWwg
 U3Vic2NyaWJlciBDQSAtIEczAhB2w6jIrUJ4+UHfNZjF99bjMAkGBSsOAwIaBQCgggJtMBgGCSqG
 SIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTEyMDgyOTIxMTIyOVowIwYJKoZI
 hvcNAQkEMRYEFBsMgUsogZhXrQecVCNoSLXrIuUzMIIBAwYJKwYBBAGCNxAEMYH1MIHyMIHdMQsw
 CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRy
 dXN0IE5ldHdvcmsxOzA5BgNVBAsTMlRlcm1zIG9mIHVzZSBhdCBodHRwczovL3d3dy52ZXJpc2ln
 bi5jb20vcnBhIChjKTA5MR4wHAYDVQQLExVQZXJzb25hIE5vdCBWYWxpZGF0ZWQxNzA1BgNVBAMT
 LlZlcmlTaWduIENsYXNzIDEgSW5kaXZpZHVhbCBTdWJzY3JpYmVyIENBIC0gRzMCEHbDqMitQnj5
 Qd81mMX31uMwggEFBgsqhkiG9w0BCRACCzGB9aCB8jCB3TELMAkGA1UEBhMCVVMxFzAVBgNVBAoT
 DlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQL
 EzJUZXJtcyBvZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykwOTEeMBwG
 A1UECxMVUGVyc29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQDEy5WZXJpU2lnbiBDbGFzcyAxIElu
 ZGl2aWR1YWwgU3Vic2NyaWJlciBDQSAtIEczAhB2w6jIrUJ4+UHfNZjF99bjMA0GCSqGSIb3DQEB
 AQUABIIBADWM+wj9jFx4hc0PZ0Po2qwwYj5O4ryETC7KfEJe5Q8MaAGYDiB/cskaW5Icw7FRIaiG
 eLcBuqCv/gTcwORm+ZfTRiOW2rNknJV3xvoKduimLHMZZ6q8c3JIzBOAlcGAlA5MsDOxmEezfh7k
 lEDCr7QSHzNbWvfAGVbN1tSGDo0AQe2wAP42kjGYjiPwBMkLS3dJhpM3GK1MpDxgl4AhjDaHCHHy
 95WlGHc2iXAWG3ziho19u3LcB8H2VXH9Vu44ssBK3osNjOuZNawYEEPIiEhngUDtpdcW97PtcZwq
 7zuMIb/jtNoqv7zR4G0z71bkTjfFEdDP7d9j7Ia+r9OC2+sAAAAAAAA=
 
 --Apple-Mail=_FF372440-A9B6-4CDD-AAE1-2012FDE1499C--
From: Robby Findler <robby@eecs.northwestern.edu>
To: Matthias Felleisen <matthias@ccs.neu.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Wed, 29 Aug 2012 16:39:10 -0500

 On Wed, Aug 29, 2012 at 4:12 PM, Matthias Felleisen
 <matthias@ccs.neu.edu> wrote:
 >>> Q: is there really no identity element in this world?
 >>>
 >>> N: Thank you very much for the clarification to the docs.
 >>> They are very helpful.
 >>>
 >>> -- students who don't know whether they are ready because
 >>> teachpacks don't come with 'levels' (and are intended to
 >>> get around *sl levels). They will use 'text' and they will
 >>> get effects that they can't figure out -- because like me
 >>> and as "Matthew the impatient" says they will not read the
 >>> entire documentation. Worse, they see 'text' in '2e' and
 >>> 'above' and voila, why bother looking in the docs. It must
 >>> work ## except that it doesn't.
 >>>
 >>> SO: I propose that we should get an 'image-debug' function
 >>> that draws the invisible baseline into an image ## unless we
 >>> can solve Q above positively.
 >>
 >> Sure, I can add that.
 >>
 >> I don't think it will help with the impatient.
 >
 > I imagine it to be always on in DrRacket but (image-debug false)
 > would turn it off. I'd comment on this in '2e'.
 
 Sorry, but that sounds terrible. All images come with extra ugly lines
 on them unless you find some obscure imperative command whose name has
 the word "debug" in it?
 
 >> Or we could break 2htdp/image up into two libraries? Or we could
 >> figure out a submodule-based protocol for 'require' in intermediate
 >> and advanced to have the option of loading more stuff than the require
 >> in bsl?
 >
 > This brings up the general question of how we can programmatically
 > express that a library depends on a specific language. I would want
 > to say
 >
 >  (require 2htdp/image)
 >
 > and in ASL it would import 'text' and in BSL it wouldn't.
 
 This is what I am proposing. require in bsl would require (submod
 2htdp/image bsl) (if it existed, falling back to 2htdp/image if it
 didn't). Similarly for the other languages.
 
 Robby
From: Matthias Felleisen <matthias@ccs.neu.edu>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Wed, 29 Aug 2012 17:58:58 -0400

 --Apple-Mail=_8D57EC56-4263-434C-883C-0B208F4ACCAD
 Content-Transfer-Encoding: 7bit
 Content-Type: text/plain;
 	charset=us-ascii
 
 
 On Aug 29, 2012, at 5:39 PM, Robby Findler wrote
 
 > Sorry, but that sounds terrible. All images come with extra ugly lines
 > on them unless you find some obscure imperative command whose name has
 > the word "debug" in it?
 > 
 >>> Or we could break 2htdp/image up into two libraries? Or we could
 >>> figure out a submodule-based protocol for 'require' in intermediate
 >>> and advanced to have the option of loading more stuff than the require
 >>> in bsl?
 >> 
 >> This brings up the general question of how we can programmatically
 >> express that a library depends on a specific language. I would want
 >> to say
 >> 
 >> (require 2htdp/image)
 >> 
 >> and in ASL it would import 'text' and in BSL it wouldn't.
 > 
 > This is what I am proposing. require in bsl would require (submod
 > 2htdp/image bsl) (if it existed, falling back to 2htdp/image if it
 > didn't). Similarly for the other languages.
 
 Nice. The language redefines 'require' to express the dependency. 
 It doesn't look uniform/general but it definitely works here. Good. 
 
 BUT, I don't think the problem will go away. An ASL student will
 still not necessarily read enough documentation or read it well 
 enough to see that empty-image combined with text does weird stuff. 
 Instead, he will wonder why we were so crazy to delay the introduction 
 of text -- unless we spend significant space on baseline, which is
 really a distraction for most use contexts (I think). 
 
 -- Matthias
 
 
 --Apple-Mail=_8D57EC56-4263-434C-883C-0B208F4ACCAD
 Content-Disposition: attachment;
 	filename=smime.p7s
 Content-Type: application/pkcs7-signature;
 	name=smime.p7s
 Content-Transfer-Encoding: base64
 
 MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIMTDCCBVYw
 ggQ+oAMCAQICEHbDqMitQnj5Qd81mMX31uMwDQYJKoZIhvcNAQEFBQAwgd0xCzAJBgNVBAYTAlVT
 MRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29y
 azE7MDkGA1UECxMyVGVybXMgb2YgdXNlIGF0IGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEg
 KGMpMDkxHjAcBgNVBAsTFVBlcnNvbmEgTm90IFZhbGlkYXRlZDE3MDUGA1UEAxMuVmVyaVNpZ24g
 Q2xhc3MgMSBJbmRpdmlkdWFsIFN1YnNjcmliZXIgQ0EgLSBHMzAeFw0xMjA3MjYwMDAwMDBaFw0x
 MzA3MjYyMzU5NTlaMIIBGTEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlT
 aWduIFRydXN0IE5ldHdvcmsxRjBEBgNVBAsTPXd3dy52ZXJpc2lnbi5jb20vcmVwb3NpdG9yeS9S
 UEEgSW5jb3JwLiBieSBSZWYuLExJQUIuTFREKGMpOTgxHjAcBgNVBAsTFVBlcnNvbmEgTm90IFZh
 bGlkYXRlZDEzMDEGA1UECxMqRGlnaXRhbCBJRCBDbGFzcyAxIC0gTmV0c2NhcGUgRnVsbCBTZXJ2
 aWNlMRswGQYDVQQDFBJNYXR0aGlhcyBGZWxsZWlzZW4xIzAhBgkqhkiG9w0BCQEWFG1hdHRoaWFz
 QGNjcy5uZXUuZWR1MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxoivceU706ZnD2XD
 JfoNFd4KTbYA9AObozHkSZ6BJLC8oSGjakZu6m11azFwk5LfPOjd7dQIKw9uDhmT1e4q6jP+B1FC
 a1qqwm7Rw9PcFhqYFBlE8MbqJUXJW53Ynw3dK2XiUNqTXFcBa2otI8XxMtrQch4f9oMUy+aIn/fZ
 QQDbkkzuwz3884xSbm0IMDneYUC6FF1OJe2+fkMqHqEDsSgY97RFcjdgTCOB012odwGhxJ3rIGaX
 WUs7ttjnftzyGODVILMIx8RBJpGJ+Ur4R67SJygV8Clpg1RBuRUSNaZAN0tCjO9YSkb9HfF2tAx9
 POWmQXdTtNNjZfJPbTVnkQIDAQABo4HSMIHPMAkGA1UdEwQCMAAwRAYDVR0gBD0wOzA5BgtghkgB
 hvhFAQcXATAqMCgGCCsGAQUFBwIBFhxodHRwczovL3d3dy52ZXJpc2lnbi5jb20vcnBhMAsGA1Ud
 DwQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDBAYIKwYBBQUHAwIwUAYDVR0fBEkwRzBFoEOgQYY/
 aHR0cDovL2luZGMxZGlnaXRhbGlkLWczLWNybC52ZXJpc2lnbi5jb20vSW5kQzFEaWdpdGFsSUQt
 RzMuY3JsMA0GCSqGSIb3DQEBBQUAA4IBAQCeAXGCjjlMmU1wb3Ii4V0yNygujjQcvJstFh7IyVcM
 oD5/5Ar7b36JL1O2tpBosTf0pVZaORKCMPAf1IfBS48CvvqSoeVyXCFG1goXDjr7Ut+ZwosuFXdr
 2gD6u9EftuoUy+UBdz46NcN9YC0WbX7CrRE96XxvYwPfWnGIjsoNY7WqFI4f7HLlM5dCmAOXySsw
 EbPKpflzEGPU8aKf4FqTX9ne+hTzPbCf5CDJdzrdyn5bQkqvSzxw+P3tvQSU9lnyZkG7wZ1cibna
 QIuSNEe+HKOKcEfeTeD50JhLa43RE24nMsaXWdX61VTiPE/2Y9woEVLxXBp+AFpMZjGYsF/yMIIG
 7jCCBdagAwIBAgIQcRVmBUrkkSFN6bxE+azT3DANBgkqhkiG9w0BAQUFADCByjELMAkGA1UEBhMC
 VVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3
 b3JrMTowOAYDVQQLEzEoYykgMTk5OSBWZXJpU2lnbiwgSW5jLiAtIEZvciBhdXRob3JpemVkIHVz
 ZSBvbmx5MUUwQwYDVQQDEzxWZXJpU2lnbiBDbGFzcyAxIFB1YmxpYyBQcmltYXJ5IENlcnRpZmlj
 YXRpb24gQXV0aG9yaXR5IC0gRzMwHhcNMDkwNTAxMDAwMDAwWhcNMTkwNDMwMjM1OTU5WjCB3TEL
 MAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBU
 cnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBvZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNp
 Z24uY29tL3JwYSAoYykwOTEeMBwGA1UECxMVUGVyc29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQD
 Ey5WZXJpU2lnbiBDbGFzcyAxIEluZGl2aWR1YWwgU3Vic2NyaWJlciBDQSAtIEczMIIBIjANBgkq
 hkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7cRH3yooHXwGa7vXITLJbBOP6bGNQU4099oL42r6ZYgg
 CxET6ZvgSU6Lb9UB0F8NR5GKWkx0Pj/GkQm7TDSejW6hglFi92l2WJYHr54UGAdPWr2f0jGyVBlz
 RmoZQhHsEnMhjfXcMM3l2VYKMcU2bSkUl70t2olHGYjYSwQ967Y8Zx50ABMN0Ibak2f4MwOuGjxr
 aXj2wCyO4YM/d/mZ//6fUlrCtIcK2GypR8FUKWVDPkrAlh/Brfd3r2yxBF6+wbaULZeQLSfSux7p
 g2qE9sSyriMGZSalJ1grByK0b6ZiSBp38tVQJ5op05b7KPW6JHZi44xZ6/tu1ULEvkHH9QIDAQAB
 o4ICuTCCArUwNAYIKwYBBQUHAQEEKDAmMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC52ZXJpc2ln
 bi5jb20wEgYDVR0TAQH/BAgwBgEB/wIBADBwBgNVHSAEaTBnMGUGC2CGSAGG+EUBBxcBMFYwKAYI
 KwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9jcHMwKgYIKwYBBQUHAgIwHhocaHR0
 cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYTA0BgNVHR8ELTArMCmgJ6AlhiNodHRwOi8vY3JsLnZl
 cmlzaWduLmNvbS9wY2ExLWczLmNybDAOBgNVHQ8BAf8EBAMCAQYwbgYIKwYBBQUHAQwEYjBgoV6g
 XDBaMFgwVhYJaW1hZ2UvZ2lmMCEwHzAHBgUrDgMCGgQUS2u5KJYGDLvQUjibKaxLB4shBRgwJhYk
 aHR0cDovL2xvZ28udmVyaXNpZ24uY29tL3ZzbG9nbzEuZ2lmMC4GA1UdEQQnMCWkIzAhMR8wHQYD
 VQQDExZQcml2YXRlTGFiZWw0LTIwNDgtMTE4MB0GA1UdDgQWBBR5R2EIQf04BKJL57XM9UP2SSsR
 +DCB8QYDVR0jBIHpMIHmoYHQpIHNMIHKMQswCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24s
 IEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5
 IFZlcmlTaWduLCBJbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlT
 aWduIENsYXNzIDEgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHM4IR
 AItbdVaEVIULAM+vOEjOsaQwDQYJKoZIhvcNAQEFBQADggEBADlNz0GZgbWpBbVSOOk5hIls5DSo
 WufYbAlMJBq6WaSHO3Mh8ZOBz79oY1pn/jWFK6HDXaNKwjoZ3TDWzE3v8dKBl8pUWkO/N4t6jhmN
 D0OojPKvYLMVirOVnDzgnrMnmKQ1chfl/Cpdh9OKDcLRRSr4wPSsKpM61a4ScAjr+zvid+zoK2Q1
 ds262uDRyxTWcVibvtU+fbbZ6CTFJGZMXZEfdrMXPn8NxiGJL7M3uKH/XLJtSd5lUkL7DojS7Uod
 v0vj+Mxy+kgOZY5JyNb4mZg7t5Q+MXEGh/psWVMu198r7V9jAKwV7QO4VRaMxmgD5yKocwuxvKDa
 UljdCg5/wYIxggSLMIIEhwIBATCB8jCB3TELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWdu
 LCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBv
 ZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykwOTEeMBwGA1UECxMVUGVy
 c29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQDEy5WZXJpU2lnbiBDbGFzcyAxIEluZGl2aWR1YWwg
 U3Vic2NyaWJlciBDQSAtIEczAhB2w6jIrUJ4+UHfNZjF99bjMAkGBSsOAwIaBQCgggJtMBgGCSqG
 SIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTEyMDgyOTIxNTg1OVowIwYJKoZI
 hvcNAQkEMRYEFPQep/KvKY81rGsgGSPU2jojQUvWMIIBAwYJKwYBBAGCNxAEMYH1MIHyMIHdMQsw
 CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRy
 dXN0IE5ldHdvcmsxOzA5BgNVBAsTMlRlcm1zIG9mIHVzZSBhdCBodHRwczovL3d3dy52ZXJpc2ln
 bi5jb20vcnBhIChjKTA5MR4wHAYDVQQLExVQZXJzb25hIE5vdCBWYWxpZGF0ZWQxNzA1BgNVBAMT
 LlZlcmlTaWduIENsYXNzIDEgSW5kaXZpZHVhbCBTdWJzY3JpYmVyIENBIC0gRzMCEHbDqMitQnj5
 Qd81mMX31uMwggEFBgsqhkiG9w0BCRACCzGB9aCB8jCB3TELMAkGA1UEBhMCVVMxFzAVBgNVBAoT
 DlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQL
 EzJUZXJtcyBvZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykwOTEeMBwG
 A1UECxMVUGVyc29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQDEy5WZXJpU2lnbiBDbGFzcyAxIElu
 ZGl2aWR1YWwgU3Vic2NyaWJlciBDQSAtIEczAhB2w6jIrUJ4+UHfNZjF99bjMA0GCSqGSIb3DQEB
 AQUABIIBABA9AovL0zCAgG6hlDQH0NWAyQd8CeWRrxaFevLaCLRi3tPWDQxAXe8mNt5bikdAdL0z
 EAymBNbKcc0ny9wYEPKOmJPE7AA1VSub902OPmOvYtOsH0a3MzFSxUT+aBImU2JWS+B3QwU3/q0w
 ep8OqT7kNprpEP6EICMuPM5odv+01YxJSw6Kwt1iJco4+1mSlIfjS60cMjQkWbRwPxJ+HCLkI3FK
 qSK392zdCQk+HSsS5Lmi/oa8u76XUu+FCtuONWEi4yMZTeFmpdETo+gM9xmDHTo8O60mo0yg5WRa
 HltPpCIgxJyEER5fJudJs8g7S+MMNaUS8mXzC/JsU3s5AQEAAAAAAAA=
 
 --Apple-Mail=_8D57EC56-4263-434C-883C-0B208F4ACCAD--
From: Robby Findler <robby@eecs.northwestern.edu>
To: Matthias Felleisen <matthias@ccs.neu.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Wed, 29 Aug 2012 17:02:40 -0500

 Well, I think you're saying that the status quo isn't good enough --
 we need a better combination setup. And I think I agree.
 
 I wonder what it is? :)
 
 Robby
 
 On Wed, Aug 29, 2012 at 4:58 PM, Matthias Felleisen
 <matthias@ccs.neu.edu> wrote:
 >
 > On Aug 29, 2012, at 5:39 PM, Robby Findler wrote
 >
 >> Sorry, but that sounds terrible. All images come with extra ugly lines
 >> on them unless you find some obscure imperative command whose name has
 >> the word "debug" in it?
 >>
 >>>> Or we could break 2htdp/image up into two libraries? Or we could
 >>>> figure out a submodule-based protocol for 'require' in intermediate
 >>>> and advanced to have the option of loading more stuff than the require
 >>>> in bsl?
 >>>
 >>> This brings up the general question of how we can programmatically
 >>> express that a library depends on a specific language. I would want
 >>> to say
 >>>
 >>> (require 2htdp/image)
 >>>
 >>> and in ASL it would import 'text' and in BSL it wouldn't.
 >>
 >> This is what I am proposing. require in bsl would require (submod
 >> 2htdp/image bsl) (if it existed, falling back to 2htdp/image if it
 >> didn't). Similarly for the other languages.
 >
 > Nice. The language redefines 'require' to express the dependency.
 > It doesn't look uniform/general but it definitely works here. Good.
 >
 > BUT, I don't think the problem will go away. An ASL student will
 > still not necessarily read enough documentation or read it well
 > enough to see that empty-image combined with text does weird stuff.
 > Instead, he will wonder why we were so crazy to delay the introduction
 > of text -- unless we spend significant space on baseline, which is
 > really a distraction for most use contexts (I think).
 >
 > -- Matthias
 >
From: Robby Findler <robby@eecs.northwestern.edu>
To: Matthias Felleisen <matthias@ccs.neu.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification <bug-notification@racket-lang.org>,
        Ian Barland <ibarland@radford.edu>
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Wed, 29 Aug 2012 17:08:44 -0500

 [ Added Ian. Ian: check out the history of this conversation here:
 http://bugs.racket-lang.org/query/?cmd=view&pr=13066 ]
 
 Okay, here's a likely crazy suggestion: what if we had only width and
 height as (size) properties of an image and then the descenders in
 'text' would just draw outside the bounding box. This would make the
 empty-image be the identity everywhere.
 
 One problem is that we'd want a way to "finish" an image so that its
 bounding box gets expanded out to everywhere it draws (at least for
 text; I'm not sure we can implement that for other things like pens
 (but maybe we can get close)), but I think we might be able to get
 away with putting that into places like the DrRacket REPL and
 2htdp/universe without it having to be something that beginners have
 to worry about explicitly.
 
 ... other problems?
 
 Robby
From: Matthias Felleisen <matthias@ccs.neu.edu>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Wed, 29 Aug 2012 18:08:28 -0400

 --Apple-Mail=_94A1A6F5-716F-478D-A2D0-47613A7F46EA
 Content-Transfer-Encoding: quoted-printable
 Content-Type: text/plain;
 	charset=us-ascii
 
 
 
 BTW, which module would you get in #lang racket when you use require for =
 2htdp/image? How about DMdA or eopl or plai? Wouldn't we have to supply =
 one submodule for each possible language into which the library might be =
 imported? -- Matthias
 
 
 
 
 
 On Aug 29, 2012, at 6:02 PM, Robby Findler wrote:
 
 > Well, I think you're saying that the status quo isn't good enough --
 > we need a better combination setup. And I think I agree.
 >=20
 > I wonder what it is? :)
 >=20
 > Robby
 >=20
 > On Wed, Aug 29, 2012 at 4:58 PM, Matthias Felleisen
 > <matthias@ccs.neu.edu> wrote:
 >>=20
 >> On Aug 29, 2012, at 5:39 PM, Robby Findler wrote
 >>=20
 >>> Sorry, but that sounds terrible. All images come with extra ugly =
 lines
 >>> on them unless you find some obscure imperative command whose name =
 has
 >>> the word "debug" in it?
 >>>=20
 >>>>> Or we could break 2htdp/image up into two libraries? Or we could
 >>>>> figure out a submodule-based protocol for 'require' in =
 intermediate
 >>>>> and advanced to have the option of loading more stuff than the =
 require
 >>>>> in bsl?
 >>>>=20
 >>>> This brings up the general question of how we can programmatically
 >>>> express that a library depends on a specific language. I would want
 >>>> to say
 >>>>=20
 >>>> (require 2htdp/image)
 >>>>=20
 >>>> and in ASL it would import 'text' and in BSL it wouldn't.
 >>>=20
 >>> This is what I am proposing. require in bsl would require (submod
 >>> 2htdp/image bsl) (if it existed, falling back to 2htdp/image if it
 >>> didn't). Similarly for the other languages.
 >>=20
 >> Nice. The language redefines 'require' to express the dependency.
 >> It doesn't look uniform/general but it definitely works here. Good.
 >>=20
 >> BUT, I don't think the problem will go away. An ASL student will
 >> still not necessarily read enough documentation or read it well
 >> enough to see that empty-image combined with text does weird stuff.
 >> Instead, he will wonder why we were so crazy to delay the =
 introduction
 >> of text -- unless we spend significant space on baseline, which is
 >> really a distraction for most use contexts (I think).
 >>=20
 >> -- Matthias
 >>=20
 
 
 --Apple-Mail=_94A1A6F5-716F-478D-A2D0-47613A7F46EA
 Content-Disposition: attachment;
 	filename=smime.p7s
 Content-Type: application/pkcs7-signature;
 	name=smime.p7s
 Content-Transfer-Encoding: base64
 
 MIAGCSqGSIb3DQEHAqCAMIACAQExCzAJBgUrDgMCGgUAMIAGCSqGSIb3DQEHAQAAoIIMTDCCBVYw
 ggQ+oAMCAQICEHbDqMitQnj5Qd81mMX31uMwDQYJKoZIhvcNAQEFBQAwgd0xCzAJBgNVBAYTAlVT
 MRcwFQYDVQQKEw5WZXJpU2lnbiwgSW5jLjEfMB0GA1UECxMWVmVyaVNpZ24gVHJ1c3QgTmV0d29y
 azE7MDkGA1UECxMyVGVybXMgb2YgdXNlIGF0IGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9ycGEg
 KGMpMDkxHjAcBgNVBAsTFVBlcnNvbmEgTm90IFZhbGlkYXRlZDE3MDUGA1UEAxMuVmVyaVNpZ24g
 Q2xhc3MgMSBJbmRpdmlkdWFsIFN1YnNjcmliZXIgQ0EgLSBHMzAeFw0xMjA3MjYwMDAwMDBaFw0x
 MzA3MjYyMzU5NTlaMIIBGTEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlT
 aWduIFRydXN0IE5ldHdvcmsxRjBEBgNVBAsTPXd3dy52ZXJpc2lnbi5jb20vcmVwb3NpdG9yeS9S
 UEEgSW5jb3JwLiBieSBSZWYuLExJQUIuTFREKGMpOTgxHjAcBgNVBAsTFVBlcnNvbmEgTm90IFZh
 bGlkYXRlZDEzMDEGA1UECxMqRGlnaXRhbCBJRCBDbGFzcyAxIC0gTmV0c2NhcGUgRnVsbCBTZXJ2
 aWNlMRswGQYDVQQDFBJNYXR0aGlhcyBGZWxsZWlzZW4xIzAhBgkqhkiG9w0BCQEWFG1hdHRoaWFz
 QGNjcy5uZXUuZWR1MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxoivceU706ZnD2XD
 JfoNFd4KTbYA9AObozHkSZ6BJLC8oSGjakZu6m11azFwk5LfPOjd7dQIKw9uDhmT1e4q6jP+B1FC
 a1qqwm7Rw9PcFhqYFBlE8MbqJUXJW53Ynw3dK2XiUNqTXFcBa2otI8XxMtrQch4f9oMUy+aIn/fZ
 QQDbkkzuwz3884xSbm0IMDneYUC6FF1OJe2+fkMqHqEDsSgY97RFcjdgTCOB012odwGhxJ3rIGaX
 WUs7ttjnftzyGODVILMIx8RBJpGJ+Ur4R67SJygV8Clpg1RBuRUSNaZAN0tCjO9YSkb9HfF2tAx9
 POWmQXdTtNNjZfJPbTVnkQIDAQABo4HSMIHPMAkGA1UdEwQCMAAwRAYDVR0gBD0wOzA5BgtghkgB
 hvhFAQcXATAqMCgGCCsGAQUFBwIBFhxodHRwczovL3d3dy52ZXJpc2lnbi5jb20vcnBhMAsGA1Ud
 DwQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDBAYIKwYBBQUHAwIwUAYDVR0fBEkwRzBFoEOgQYY/
 aHR0cDovL2luZGMxZGlnaXRhbGlkLWczLWNybC52ZXJpc2lnbi5jb20vSW5kQzFEaWdpdGFsSUQt
 RzMuY3JsMA0GCSqGSIb3DQEBBQUAA4IBAQCeAXGCjjlMmU1wb3Ii4V0yNygujjQcvJstFh7IyVcM
 oD5/5Ar7b36JL1O2tpBosTf0pVZaORKCMPAf1IfBS48CvvqSoeVyXCFG1goXDjr7Ut+ZwosuFXdr
 2gD6u9EftuoUy+UBdz46NcN9YC0WbX7CrRE96XxvYwPfWnGIjsoNY7WqFI4f7HLlM5dCmAOXySsw
 EbPKpflzEGPU8aKf4FqTX9ne+hTzPbCf5CDJdzrdyn5bQkqvSzxw+P3tvQSU9lnyZkG7wZ1cibna
 QIuSNEe+HKOKcEfeTeD50JhLa43RE24nMsaXWdX61VTiPE/2Y9woEVLxXBp+AFpMZjGYsF/yMIIG
 7jCCBdagAwIBAgIQcRVmBUrkkSFN6bxE+azT3DANBgkqhkiG9w0BAQUFADCByjELMAkGA1UEBhMC
 VVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3
 b3JrMTowOAYDVQQLEzEoYykgMTk5OSBWZXJpU2lnbiwgSW5jLiAtIEZvciBhdXRob3JpemVkIHVz
 ZSBvbmx5MUUwQwYDVQQDEzxWZXJpU2lnbiBDbGFzcyAxIFB1YmxpYyBQcmltYXJ5IENlcnRpZmlj
 YXRpb24gQXV0aG9yaXR5IC0gRzMwHhcNMDkwNTAxMDAwMDAwWhcNMTkwNDMwMjM1OTU5WjCB3TEL
 MAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBU
 cnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBvZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNp
 Z24uY29tL3JwYSAoYykwOTEeMBwGA1UECxMVUGVyc29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQD
 Ey5WZXJpU2lnbiBDbGFzcyAxIEluZGl2aWR1YWwgU3Vic2NyaWJlciBDQSAtIEczMIIBIjANBgkq
 hkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7cRH3yooHXwGa7vXITLJbBOP6bGNQU4099oL42r6ZYgg
 CxET6ZvgSU6Lb9UB0F8NR5GKWkx0Pj/GkQm7TDSejW6hglFi92l2WJYHr54UGAdPWr2f0jGyVBlz
 RmoZQhHsEnMhjfXcMM3l2VYKMcU2bSkUl70t2olHGYjYSwQ967Y8Zx50ABMN0Ibak2f4MwOuGjxr
 aXj2wCyO4YM/d/mZ//6fUlrCtIcK2GypR8FUKWVDPkrAlh/Brfd3r2yxBF6+wbaULZeQLSfSux7p
 g2qE9sSyriMGZSalJ1grByK0b6ZiSBp38tVQJ5op05b7KPW6JHZi44xZ6/tu1ULEvkHH9QIDAQAB
 o4ICuTCCArUwNAYIKwYBBQUHAQEEKDAmMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC52ZXJpc2ln
 bi5jb20wEgYDVR0TAQH/BAgwBgEB/wIBADBwBgNVHSAEaTBnMGUGC2CGSAGG+EUBBxcBMFYwKAYI
 KwYBBQUHAgEWHGh0dHBzOi8vd3d3LnZlcmlzaWduLmNvbS9jcHMwKgYIKwYBBQUHAgIwHhocaHR0
 cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYTA0BgNVHR8ELTArMCmgJ6AlhiNodHRwOi8vY3JsLnZl
 cmlzaWduLmNvbS9wY2ExLWczLmNybDAOBgNVHQ8BAf8EBAMCAQYwbgYIKwYBBQUHAQwEYjBgoV6g
 XDBaMFgwVhYJaW1hZ2UvZ2lmMCEwHzAHBgUrDgMCGgQUS2u5KJYGDLvQUjibKaxLB4shBRgwJhYk
 aHR0cDovL2xvZ28udmVyaXNpZ24uY29tL3ZzbG9nbzEuZ2lmMC4GA1UdEQQnMCWkIzAhMR8wHQYD
 VQQDExZQcml2YXRlTGFiZWw0LTIwNDgtMTE4MB0GA1UdDgQWBBR5R2EIQf04BKJL57XM9UP2SSsR
 +DCB8QYDVR0jBIHpMIHmoYHQpIHNMIHKMQswCQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24s
 IEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRydXN0IE5ldHdvcmsxOjA4BgNVBAsTMShjKSAxOTk5
 IFZlcmlTaWduLCBJbmMuIC0gRm9yIGF1dGhvcml6ZWQgdXNlIG9ubHkxRTBDBgNVBAMTPFZlcmlT
 aWduIENsYXNzIDEgUHVibGljIFByaW1hcnkgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkgLSBHM4IR
 AItbdVaEVIULAM+vOEjOsaQwDQYJKoZIhvcNAQEFBQADggEBADlNz0GZgbWpBbVSOOk5hIls5DSo
 WufYbAlMJBq6WaSHO3Mh8ZOBz79oY1pn/jWFK6HDXaNKwjoZ3TDWzE3v8dKBl8pUWkO/N4t6jhmN
 D0OojPKvYLMVirOVnDzgnrMnmKQ1chfl/Cpdh9OKDcLRRSr4wPSsKpM61a4ScAjr+zvid+zoK2Q1
 ds262uDRyxTWcVibvtU+fbbZ6CTFJGZMXZEfdrMXPn8NxiGJL7M3uKH/XLJtSd5lUkL7DojS7Uod
 v0vj+Mxy+kgOZY5JyNb4mZg7t5Q+MXEGh/psWVMu198r7V9jAKwV7QO4VRaMxmgD5yKocwuxvKDa
 UljdCg5/wYIxggSLMIIEhwIBATCB8jCB3TELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWdu
 LCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBv
 ZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykwOTEeMBwGA1UECxMVUGVy
 c29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQDEy5WZXJpU2lnbiBDbGFzcyAxIEluZGl2aWR1YWwg
 U3Vic2NyaWJlciBDQSAtIEczAhB2w6jIrUJ4+UHfNZjF99bjMAkGBSsOAwIaBQCgggJtMBgGCSqG
 SIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTEyMDgyOTIyMDgyOFowIwYJKoZI
 hvcNAQkEMRYEFBMrwCem0k4A9YG4qQSXo69Wl6qmMIIBAwYJKwYBBAGCNxAEMYH1MIHyMIHdMQsw
 CQYDVQQGEwJVUzEXMBUGA1UEChMOVmVyaVNpZ24sIEluYy4xHzAdBgNVBAsTFlZlcmlTaWduIFRy
 dXN0IE5ldHdvcmsxOzA5BgNVBAsTMlRlcm1zIG9mIHVzZSBhdCBodHRwczovL3d3dy52ZXJpc2ln
 bi5jb20vcnBhIChjKTA5MR4wHAYDVQQLExVQZXJzb25hIE5vdCBWYWxpZGF0ZWQxNzA1BgNVBAMT
 LlZlcmlTaWduIENsYXNzIDEgSW5kaXZpZHVhbCBTdWJzY3JpYmVyIENBIC0gRzMCEHbDqMitQnj5
 Qd81mMX31uMwggEFBgsqhkiG9w0BCRACCzGB9aCB8jCB3TELMAkGA1UEBhMCVVMxFzAVBgNVBAoT
 DlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQL
 EzJUZXJtcyBvZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykwOTEeMBwG
 A1UECxMVUGVyc29uYSBOb3QgVmFsaWRhdGVkMTcwNQYDVQQDEy5WZXJpU2lnbiBDbGFzcyAxIElu
 ZGl2aWR1YWwgU3Vic2NyaWJlciBDQSAtIEczAhB2w6jIrUJ4+UHfNZjF99bjMA0GCSqGSIb3DQEB
 AQUABIIBALOAXlZ7e9bsB4RtntWeItGr1hP7wQorDkHox9+XG4TH4QR16BsbLXomvwQIOx6zLv2g
 kyFgqDvIj7jIqJRE1jBjguENgtYwK1eauesLDwgRo6ULOkcF1VIcCCcopNfeGZi21MQHYT1h7JWF
 lXUlKZmYf9amaEJnPwU/oRSkIW+1MJUdiW8JxnFBs9m+k44bNjWI6JN3oBBteCxpmpZ5/RKPzD3/
 TQ4Fr/6r+/SZe86BUjtJHM62kD5MEhat+2Qbdx3oeoe7xiNYiTOqfYJ1c15tai8P7zAU0pstFlHE
 W7RV+9jW7WrOQ41/hJd1IhkK00xpWONe2dXHOINt3vlwiYwAAAAAAAA=
 
 --Apple-Mail=_94A1A6F5-716F-478D-A2D0-47613A7F46EA--
From: Robby Findler <robby@eecs.northwestern.edu>
To: Matthias Felleisen <matthias@ccs.neu.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Wed, 29 Aug 2012 17:25:31 -0500

 I think that this is not going to be a general purpose solution. I
 think we'd have 2htdp/image contain everything, and (submod
 2htdp/image bsl) would leave out a few things and that would be it
 (well maybe bsl+ would be the same as bsl).
 
 That seems okay to me, since htdp beginners are a special breed. :)
 
 Robby
 
 On Wed, Aug 29, 2012 at 5:08 PM, Matthias Felleisen
 <matthias@ccs.neu.edu> wrote:
 >
 >
 > BTW, which module would you get in #lang racket when you use require for 2htdp/image? How about DMdA or eopl or plai? Wouldn't we have to supply one submodule for each possible language into which the library might be imported? -- Matthias
 >
 >
 >
 >
 >
 > On Aug 29, 2012, at 6:02 PM, Robby Findler wrote:
 >
 >> Well, I think you're saying that the status quo isn't good enough --
 >> we need a better combination setup. And I think I agree.
 >>
 >> I wonder what it is? :)
 >>
 >> Robby
 >>
 >> On Wed, Aug 29, 2012 at 4:58 PM, Matthias Felleisen
 >> <matthias@ccs.neu.edu> wrote:
 >>>
 >>> On Aug 29, 2012, at 5:39 PM, Robby Findler wrote
 >>>
 >>>> Sorry, but that sounds terrible. All images come with extra ugly lines
 >>>> on them unless you find some obscure imperative command whose name has
 >>>> the word "debug" in it?
 >>>>
 >>>>>> Or we could break 2htdp/image up into two libraries? Or we could
 >>>>>> figure out a submodule-based protocol for 'require' in intermediate
 >>>>>> and advanced to have the option of loading more stuff than the require
 >>>>>> in bsl?
 >>>>>
 >>>>> This brings up the general question of how we can programmatically
 >>>>> express that a library depends on a specific language. I would want
 >>>>> to say
 >>>>>
 >>>>> (require 2htdp/image)
 >>>>>
 >>>>> and in ASL it would import 'text' and in BSL it wouldn't.
 >>>>
 >>>> This is what I am proposing. require in bsl would require (submod
 >>>> 2htdp/image bsl) (if it existed, falling back to 2htdp/image if it
 >>>> didn't). Similarly for the other languages.
 >>>
 >>> Nice. The language redefines 'require' to express the dependency.
 >>> It doesn't look uniform/general but it definitely works here. Good.
 >>>
 >>> BUT, I don't think the problem will go away. An ASL student will
 >>> still not necessarily read enough documentation or read it well
 >>> enough to see that empty-image combined with text does weird stuff.
 >>> Instead, he will wonder why we were so crazy to delay the introduction
 >>> of text -- unless we spend significant space on baseline, which is
 >>> really a distraction for most use contexts (I think).
 >>>
 >>> -- Matthias
 >>>
 >
From: Stephen Bloch <sbloch@adelphi.edu>
To: Matthias Felleisen <matthias@ccs.neu.edu>
Cc: Robby Findler <robby@eecs.northwestern.edu>, bugs@racket-lang.org,
        nobody@racket-lang.org, bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Wed, 29 Aug 2012 18:31:00 -0400

 On Aug 29, 2012, at 5:12 PM, Matthias Felleisen wrote:
 
 >> If we did have levels, then you'd be forced to not use 'text' right
 >> away in 2e. Maybe it would be worth actually behaving this way and not
 >> using it?
 > 
 > Well, I find having text convenient but I'd be willing to 
 > postpone the use of 'text' to Advanced. 
 
 -1.  _Picturing Programs_ uses "text" starting in chapter 3, both in prose and in exercises, and goes to Advanced language in chapter 29.  I've been willing to grit my teeth and accept the fact that text doesn't rotate and reflect properly, but not being able to use it AT ALL in BSL would be very annoying.
 
 Stephen Bloch
 sbloch@adelphi.edu
 
 
From: Stephen Bloch <sbloch@adelphi.edu>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: Matthias Felleisen <matthias@ccs.neu.edu>, bugs@racket-lang.org,
        nobody@racket-lang.org,
        bug-notification <bug-notification@racket-lang.org>,
        Ian Barland <ibarland@radford.edu>
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Wed, 29 Aug 2012 18:34:33 -0400

 On Aug 29, 2012, at 6:08 PM, Robby Findler wrote:
 
 > Okay, here's a likely crazy suggestion: what if we had only width and
 > height as (size) properties of an image and then the descenders in
 > 'text' would just draw outside the bounding box. This would make the
 > empty-image be the identity everywhere.
 
 If we can combine that with other situations (e.g. pens) that draw outside the bounding box into a single clean general-purpose solution, it could work.
 
 
 Stephen Bloch
 sbloch@adelphi.edu
 
 
From: Stephen Bloch <bloch@adelphi.edu>
To: Matthias Felleisen <matthias@ccs.neu.edu>
Cc: Robby Findler <robby@eecs.northwestern.edu>,
        "bugs@racket-lang.org" <bugs@racket-lang.org>,
        "nobody@racket-lang.org" <nobody@racket-lang.org>,
        "bug-notification@racket-lang.org" <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Wed, 29 Aug 2012 18:53:48 -0400

 --Apple-Mail-1-753934844
 Content-Transfer-Encoding: quoted-printable
 Content-Type: text/plain;
 	charset=us-ascii
 
 On Aug 29, 2012, at 5:58 PM, Matthias Felleisen <matthias@ccs.neu.edu> wrote=
 :
 
 >=20
 >>> and in ASL it would import 'text' and in BSL it wouldn't....
 > ...
 > BUT, I don't think the problem will go away. An ASL student will
 > still not necessarily read enough documentation or read it well=20
 > enough to see that empty-image combined with text does weird stuff.=20
 > Instead, he will wonder why we were so crazy to delay the introduction=20
 > of text -- unless we spend significant space on baseline, which is
 > really a distraction for most use contexts (I think).=20
 
 I think of ASL as introducing imperative programming, and I know how to make=
  the case that that should be delayed.  "text" has nothing to do with impera=
 tive programming, and I don't see any reason it shouldn't belong in the firs=
 t week of a programming course except that we haven't come up with a suitabl=
 y general way to handle bad
 
 
 Stephen Bloch
 sbloch@adelphi.edu
 >=20
 
 --Apple-Mail-1-753934844
 Content-Transfer-Encoding: quoted-printable
 Content-Type: text/html;
 	charset=utf-8
 
 <html><body bgcolor=3D"#FFFFFF"><div><span class=3D"Apple-style-span" style=3D=
 "-webkit-tap-highlight-color: rgba(26, 26, 26, 0.296875); -webkit-compositio=
 n-fill-color: rgba(175, 192, 227, 0.230469); -webkit-composition-frame-color=
 : rgba(77, 128, 180, 0.230469); ">On Aug 29, 2012, at 5:58 PM, Matthias Fell=
 eisen &lt;<a href=3D"mailto:matthias@ccs.neu.edu">matthias@ccs.neu.edu</a>&g=
 t; wrote:</span><br></div><div><br></div><div></div><blockquote type=3D"cite=
 "><div><span></span><blockquote type=3D"cite"><blockquote type=3D"cite"><spa=
 n class=3D"Apple-style-span" style=3D"-webkit-tap-highlight-color: rgba(26, 2=
 6, 26, 0.296875); -webkit-composition-fill-color: rgba(175, 192, 227, 0.2304=
 69); -webkit-composition-frame-color: rgba(77, 128, 180, 0.230469); ">and in=
  ASL it would import 'text' and in BSL it wouldn't....</span><br></blockquot=
 e></blockquote></div></blockquote><blockquote type=3D"cite"><div><font class=
 =3D"Apple-style-span" color=3D"#000000">...<br></font><span>BUT, I don't thi=
 nk the problem will go away. An ASL student will</span><br><span>still not n=
 ecessarily read enough documentation or read it well </span><br><span>enough=
  to see that empty-image combined with text does weird stuff. </span><br><sp=
 an>Instead, he will wonder why we were so crazy to delay the introduction </=
 span><br><span>of text -- unless we spend significant space on baseline, whi=
 ch is</span><br><span>really a distraction for most use contexts (I think). <=
 /span><br></div></blockquote><div><br></div><div>I think of ASL as introduci=
 ng imperative programming, and I know how to make the case that that should b=
 e delayed. &nbsp;"text" has nothing to do with imperative programming, and I=
  don't see any reason it shouldn't belong in the first week of a programming=
  course except that we haven't come up with a suitably general way to handle=
  bad</div><span class=3D"Apple-style-span" style=3D"-webkit-tap-highlight-co=
 lor: rgba(26, 26, 26, 0.296875); -webkit-composition-fill-color: rgba(175, 1=
 92, 227, 0.230469); -webkit-composition-frame-color: rgba(77, 128, 180, 0.23=
 0469); "><br><br>Stephen Bloch<div><a href=3D"mailto:sbloch@adelphi.edu">sbl=
 och@adelphi.edu</a></div></span><blockquote type=3D"cite"><div><span></span>=
 </div></blockquote></body></html>=
 
 --Apple-Mail-1-753934844--
From: Robby Findler <robby@eecs.northwestern.edu>
To: Stephen Bloch <sbloch@adelphi.edu>
Cc: Matthias Felleisen <matthias@ccs.neu.edu>, bugs@racket-lang.org,
        nobody@racket-lang.org, bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Wed, 29 Aug 2012 17:52:44 -0500

 On Wed, Aug 29, 2012 at 5:31 PM, Stephen Bloch <sbloch@adelphi.edu> wrote:
 >
 > On Aug 29, 2012, at 5:12 PM, Matthias Felleisen wrote:
 >
 >>> If we did have levels, then you'd be forced to not use 'text' right
 >>> away in 2e. Maybe it would be worth actually behaving this way and not
 >>> using it?
 >>
 >> Well, I find having text convenient but I'd be willing to
 >> postpone the use of 'text' to Advanced.
 >
 > -1.  _Picturing Programs_ uses "text" starting in chapter 3, both in prose and in exercises, and goes to Advanced language in chapter 29.  I've been willing to grit my teeth and accept the fact that text doesn't rotate and reflect properly, but not being able to use it AT ALL in BSL would be very annoying.
 
 When you say "doesn't rotate and reflect properly" you mean that the
 bounding box stays rectangular, I assume? And not something else?
 
 Robby
 
From: Stephen Bloch <bloch@adelphi.edu>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: Stephen Bloch <sbloch@adelphi.edu>,
        Matthias Felleisen <matthias@ccs.neu.edu>,
        "bugs@racket-lang.org" <bugs@racket-lang.org>,
        "nobody@racket-lang.org" <nobody@racket-lang.org>,
        "bug-notification@racket-lang.org" <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Wed, 29 Aug 2012 18:57:16 -0400

 I must confess, I haven't actually tried this recently.  There was a time when the docs said specifically that reflection didn't work on images containing text.
 
 Stephen Bloch
 sbloch@adelphi.edu
 
 > 
 > When you say "doesn't rotate and reflect properly" you mean that the
 > bounding box stays rectangular, I assume? And not something else?
 > 
 > Robby
 
From: Stephen Bloch <bloch@adelphi.edu>
To: Matthias Felleisen <matthias@ccs.neu.edu>
Cc: Robby Findler <robby@eecs.northwestern.edu>,
        "bugs@racket-lang.org" <bugs@racket-lang.org>,
        "nobody@racket-lang.org" <nobody@racket-lang.org>,
        "bug-notification@racket-lang.org" <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Wed, 29 Aug 2012 19:02:21 -0400

 On Aug 29, 2012, at 5:58 PM, Matthias Felleisen <matthias@ccs.neu.edu> wrote:
 
 > BUT, I don't think the problem will go away. An ASL student will
 > still not necessarily read enough documentation or read it well 
 > enough to see that empty-image combined with text does weird stuff. 
 > Instead, he will wonder why we were so crazy to delay the introduction 
 > of text -- unless we spend significant space on baseline, which is
 > really a distraction for most use contexts (I think).
 
 ASL is about imperative programming, and I know how to make the case that it should be delayed.  "text" has nothing to do with imperative programming, and I don't see any reason it doesn't belong in week 1 of a programming course except that we haven't come up with a clean way to handle baselines.
 
 Can't we have images contain NO invisible data, and when we need pinholes or baselines or something, use a decorator class?
 
 Stephen Bloch
 sbloch@adelphi.edu
 
 
From: Stephen Bloch <bloch@adelphi.edu>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: Matthias Felleisen <matthias@ccs.neu.edu>,
        "bugs@racket-lang.org" <bugs@racket-lang.org>,
        "nobody@racket-lang.org" <nobody@racket-lang.org>,
        bug-notification <bug-notification@racket-lang.org>,
        Ian Barland <ibarland@radford.edu>
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Wed, 29 Aug 2012 19:08:34 -0400

 In a sense, every image has two bounding boxes: one for concatenation and one for drawing pixels.  I suspect that for most people, the "intuitive" meaning of "bounding box" corresponds to the latter.  But we use the term for the former, and hand-wave around the latter by saying "some images draw outside their bounding boxes," without providing (AFAIK) any uniform way of finding out whether and to what extent that's true of a given image.
 
 Grump, grump.
 
 Stephen Bloch
 sbloch@adelphi.edu
From: Robby Findler <robby@eecs.northwestern.edu>
To: Stephen Bloch <bloch@adelphi.edu>
Cc: Robby Findler <robby@eecs.northwestern.edu>,
        Stephen Bloch <sbloch@adelphi.edu>,
        Matthias Felleisen <matthias@ccs.neu.edu>,
        "bugs@racket-lang.org" <bugs@racket-lang.org>,
        "nobody@racket-lang.org" <nobody@racket-lang.org>,
        "bug-notification@racket-lang.org" <bug-notification@racket-lang.org>
Subject: Re: [racket-bug] all/13066: empty-image isn't empty
Date: Wed, 29 Aug 2012 18:23:05 -0500

 --bcaec51d29fa47963004c86fd780
 Content-Type: text/plain; charset=UTF-8
 
 That time is long gone.
 
 On Wednesday, August 29, 2012, Stephen Bloch wrote:
 
 > I must confess, I haven't actually tried this recently.  There was a time
 > when the docs said specifically that reflection didn't work on images
 > containing text.
 >
 > Stephen Bloch
 > sbloch@adelphi.edu <javascript:;>
 >
 > >
 > > When you say "doesn't rotate and reflect properly" you mean that the
 > > bounding box stays rectangular, I assume? And not something else?
 > >
 > > Robby
 >
 
 --bcaec51d29fa47963004c86fd780
 Content-Type: text/html; charset=UTF-8
 Content-Transfer-Encoding: quoted-printable
 
 That time is long gone.=C2=A0<span></span><br><br>On Wednesday, August 29, =
 2012, Stephen Bloch  wrote:<br><blockquote class=3D"gmail_quote" style=3D"m=
 argin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">I must confes=
 s, I haven&#39;t actually tried this recently. =C2=A0There was a time when =
 the docs said specifically that reflection didn&#39;t work on images contai=
 ning text.<br>
 
 <br>
 Stephen Bloch<br>
 <a href=3D"javascript:;" onclick=3D"_e(event, &#39;cvml&#39;, &#39;sbloch@a=
 delphi.edu&#39;)">sbloch@adelphi.edu</a><br>
 <br>
 &gt;<br>
 &gt; When you say &quot;doesn&#39;t rotate and reflect properly&quot; you m=
 ean that the<br>
 &gt; bounding box stays rectangular, I assume? And not something else?<br>
 &gt;<br>
 &gt; Robby<br>
 </blockquote>
 
 --bcaec51d29fa47963004c86fd780--
