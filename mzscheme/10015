From bugs+caf_=bugs=bugs.plt-scheme.org@plt-scheme.org Thu Jan  8 12:51:53 2009
Received: from rv-out-0506.google.com (rv-out-0506.google.com [209.85.198.234])
	by champlain.ccs.neu.edu (8.14.2/8.14.2) with ESMTP id n08HpjCL002572
	for <bugs@bugs.plt-scheme.org>; Thu, 8 Jan 2009 12:51:46 -0500
Message-Id: <200901081751.n08HpNYp002565@champlain.ccs.neu.edu>
Date: Thu, 8 Jan 2009 12:51:23 -0500
From: robby@cs.uchicago.edu
To: bugs@plt-scheme.org
Subject: plt-help on windows leaves junk files behind after running

>Number:         10015
>Category:       mzscheme
>Synopsis:       plt-help on windows leaves junk files behind after running
>Class:          sw-bug
>Responsible:    mflatt
>Severity:       serious
>Priority:       medium
>State:          closed
>Confidential:   no
>Arrival-Date:   Thu Jan 08 12:52:01 -0500 2009
>Closed-Date:    Tue Feb 07 17:25:57 -0500 2012
>Last-Modified:  Thu Feb 09 16:04:01 -0500 2012
>Originator:     Robby Findler
>Organization:
plt
>Submitter-Id:   unknown
>Release:        4.1.3.9
>Environment:
Win32 / Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US) AppleWebKit/525.19 (KHTML, like Gecko) Chrome/1.0.154.36 Safari/525.19
>Description:
When running plt-help from the command line, it creates a file called plt-sendurl-contents-file-<a-big-number>.html and these things end up all over the place eventually.
>How-To-Repeat:
[robby-laptop] ~/tmp> ls
[robby-laptop] ~/tmp> plt-help frame

here I waited for the page to load. I then closed the page in the browser.

[robby-laptop] ~/tmp> ls
plt-sendurl-contents-file-1231436928928798255.html
[robby-laptop] ~/tmp> cat plt-sendurl-contents-file-1231436928928798255.html
<html><head><meta http-equiv="refresh" content="0;URL=file:///C:/Users/robby/AppData/Roaming/PLT%20Scheme/4.1.3.9/doc/search/index.html?q=frame"></head><body>Please go <a href="file:///C:/Users/robby/AppData/Roaming/PLT%20Scheme/4.1.3.9/doc/search/index.html?q=frame">here</a>.</body></html>[robby-laptop] ~/tmp>
[robby-laptop] ~/tmp>

>Fix:
>Audit-Trail:
From: Sam Tobin-Hochstadt <samth@ccs.neu.edu>
To: Robby Findler <robby@eecs.northwestern.edu>, bugs@plt-scheme.org
Cc: bug-notification <bug-notification@racket-lang.org>
Subject: Re: [plt-bug] all/10015: plt-help on windows leaves junk files behind
 after running
Date: Tue, 7 Feb 2012 16:22:30 -0500

 This continues to be the case with current Racket, but the files all
 go in the tmp directory.
 
 [reproduced by Stephen Chang]
 
 On Thu, Jan 8, 2009 at 12:52 PM,  <robby@cs.uchicago.edu> wrote:
 > A new problem report is waiting at
 >  http://bugs.plt-scheme.org/query/?cmd=view&pr=10015
 >
 > Reported by Robby Findler for release: 4.1.3.9
 >
 > *** Description:
 > When running plt-help from the command line, it creates a file called plt-sendurl-contents-file-<a-big-number>.html and these things end up all over the place eventually.
 >
 > *** How to repeat:
 > [robby-laptop] ~/tmp> ls
 > [robby-laptop] ~/tmp> plt-help frame
 >
 > here I waited for the page to load. I then closed the page in the browser.
 >
 > [robby-laptop] ~/tmp> ls
 > plt-sendurl-contents-file-1231436928928798255.html
 > [robby-laptop] ~/tmp> cat plt-sendurl-contents-file-1231436928928798255.html
 > <html><head><meta http-equiv="refresh" content="0;URL=file:///C:/Users/robby/AppData/Roaming/PLT%20Scheme/4.1.3.9/doc/search/index.html?q=frame"></head><body>Please go <a href="file:///C:/Users/robby/AppData/Roaming/PLT%20Scheme/4.1.3.9/doc/search/index.html?q=frame">here</a>.</body></html>[robby-laptop] ~/tmp>
 > [robby-laptop] ~/tmp>
 >
 >
 > *** Environment:
 > Win32 / Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US) AppleWebKit/525.19 (KHTML, like Gecko) Chrome/1.0.154.36 Safari/525.19
 >
 
 
 
 -- 
 sam th
 samth@ccs.neu.edu
 
From: Eli Barzilay <eli@barzilay.org>
To: Sam Tobin-Hochstadt <samth@ccs.neu.edu>
Cc: Robby Findler <robby@eecs.northwestern.edu>,
        "bugs@plt-scheme.org" <bugs@plt-scheme.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [plt-bug] all/10015: plt-help on windows leaves junk files behind
 after running
Date: Tue, 7 Feb 2012 17:20:15 -0500

 --bcaec51b1e5df65eb204b8672e41
 Content-Type: text/plain; charset=UTF-8
 
 This files are expected, and there is no way to avoid them.  They contain
 "trampoline" HTML files that have an HTML fragment or query since those are
 not passed on to the browser when used on Windows.  There are now similar
 problems with some of the newer Linux browser launchers, so it is likely to
 be used there too.  The reason for leaving them behind is that there is no
 way to know when the browser actually opened and jumped to the correct
 place.  To make things semi-sane, every time the send-url function is used
 it will delete some of the older files, so they should stay at some
 smallish number of files overall.  Also, they should all be in the temp
 directory, so if they got elsewhere then that's a real bug.
 
 On Tuesday, February 7, 2012, Sam Tobin-Hochstadt <samth@ccs.neu.edu> wrote:
 > This continues to be the case with current Racket, but the files all
 > go in the tmp directory.
 >
 > [reproduced by Stephen Chang]
 >
 > On Thu, Jan 8, 2009 at 12:52 PM,  <robby@cs.uchicago.edu> wrote:
 >> A new problem report is waiting at
 >>  http://bugs.plt-scheme.org/query/?cmd=view&pr=10015
 >>
 >> Reported by Robby Findler for release: 4.1.3.9
 >>
 >> *** Description:
 >> When running plt-help from the command line, it creates a file called
 plt-sendurl-contents-file-<a-big-number>.html and these things end up all
 over the place eventually.
 >>
 >> *** How to repeat:
 >> [robby-laptop] ~/tmp> ls
 >> [robby-laptop] ~/tmp> plt-help frame
 >>
 >> here I waited for the page to load. I then closed the page in the
 browser.
 >>
 >> [robby-laptop] ~/tmp> ls
 >> plt-sendurl-contents-file-1231436928928798255.html
 >> [robby-laptop] ~/tmp> cat
 plt-sendurl-contents-file-1231436928928798255.html
 >> <html><head><meta http-equiv="refresh"
 content="0;URL=file:///C:/Users/robby/AppData/Roaming/PLT%20Scheme/
 4.1.3.9/doc/search/index.html?q=frame"></head><body>Please go <a
 href="file:///C:/Users/robby/AppData/Roaming/PLT%20Scheme/
 4.1.3.9/doc/search/index.html?q=frame">here</a>.</body></html>[robby-laptop]
 ~/tmp>
 >> [robby-laptop] ~/tmp>
 >>
 >>
 >> *** Environment:
 >> Win32 / Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US)
 AppleWebKit/525.19 (KHTML, like Gecko) Chrome/1.0.154.36 Safari/525.19
 >>
 >
 >
 >
 > --
 > sam th
 > samth@ccs.neu.edu
 >
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
 
 --bcaec51b1e5df65eb204b8672e41
 Content-Type: text/html; charset=UTF-8
 Content-Transfer-Encoding: quoted-printable
 
 This files are expected, and there is no way to avoid them. =C2=A0They cont=
 ain &quot;trampoline&quot; HTML files that have an HTML fragment or query s=
 ince those are not passed on to the browser when used on Windows. =C2=A0The=
 re are now similar problems with some of the newer Linux browser launchers,=
  so it is likely to be used there too. =C2=A0The reason for leaving them be=
 hind is that there is no way to know when the browser actually opened and j=
 umped to the correct place. =C2=A0To make things semi-sane, every time the =
 send-url function is used it will delete some of the older files, so they s=
 hould stay at some smallish number of files overall. =C2=A0Also, they shoul=
 d all be in the temp directory, so if they got elsewhere then that&#39;s a =
 real bug.<br>
 <br>On Tuesday, February 7, 2012, Sam Tobin-Hochstadt &lt;<a href=3D"mailto=
 :samth@ccs.neu.edu">samth@ccs.neu.edu</a>&gt; wrote:<br>&gt; This continues=
  to be the case with current Racket, but the files all<br>&gt; go in the tm=
 p directory.<br>
 &gt;<br>&gt; [reproduced by Stephen Chang]<br>&gt;<br>&gt; On Thu, Jan 8, 2=
 009 at 12:52 PM, =C2=A0&lt;<a href=3D"mailto:robby@cs.uchicago.edu">robby@c=
 s.uchicago.edu</a>&gt; wrote:<br>&gt;&gt; A new problem report is waiting a=
 t<br>
 &gt;&gt; =C2=A0<a href=3D"http://bugs.plt-scheme.org/query/?cmd=3Dview&amp;=
 pr=3D10015">http://bugs.plt-scheme.org/query/?cmd=3Dview&amp;pr=3D10015</a>=
 <br>&gt;&gt;<br>&gt;&gt; Reported by Robby Findler for release: 4.1.3.9<br>=
 &gt;&gt;<br>
 &gt;&gt; *** Description:<br>&gt;&gt; When running plt-help from the comman=
 d line, it creates a file called plt-sendurl-contents-file-&lt;a-big-number=
 &gt;.html and these things end up all over the place eventually.<br>&gt;&gt=
 ;<br>
 &gt;&gt; *** How to repeat:<br>&gt;&gt; [robby-laptop] ~/tmp&gt; ls<br>&gt;=
 &gt; [robby-laptop] ~/tmp&gt; plt-help frame<br>&gt;&gt;<br>&gt;&gt; here I=
  waited for the page to load. I then closed the page in the browser.<br>
 &gt;&gt;<br>&gt;&gt; [robby-laptop] ~/tmp&gt; ls<br>&gt;&gt; plt-sendurl-co=
 ntents-file-1231436928928798255.html<br>&gt;&gt; [robby-laptop] ~/tmp&gt; c=
 at plt-sendurl-contents-file-1231436928928798255.html<br>&gt;&gt; &lt;html&=
 gt;&lt;head&gt;&lt;meta http-equiv=3D&quot;refresh&quot; content=3D&quot;0;=
 URL=3Dfile:///C:/Users/robby/AppData/Roaming/PLT%20Scheme/<a href=3D"http:/=
 /4.1.3.9/doc/search/index.html?q=3Dframe">4.1.3.9/doc/search/index.html?q=
 =3Dframe</a>&quot;&gt;&lt;/head&gt;&lt;body&gt;Please go &lt;a href=3D&quot=
 ;file:///C:/Users/robby/AppData/Roaming/PLT%20Scheme/<a href=3D"http://4.1.=
 3.9/doc/search/index.html?q=3Dframe">4.1.3.9/doc/search/index.html?q=3Dfram=
 e</a>&quot;&gt;here&lt;/a&gt;.&lt;/body&gt;&lt;/html&gt;[robby-laptop] ~/tm=
 p&gt;<br>
 &gt;&gt; [robby-laptop] ~/tmp&gt;<br>&gt;&gt;<br>&gt;&gt;<br>&gt;&gt; *** E=
 nvironment:<br>&gt;&gt; Win32 / Mozilla/5.0 (Windows; U; Windows NT 6.0; en=
 -US) AppleWebKit/525.19 (KHTML, like Gecko) Chrome/<a href=3D"http://1.0.15=
 4.36">1.0.154.36</a> Safari/525.19<br>
 &gt;&gt;<br>&gt;<br>&gt;<br>&gt;<br>&gt; --<br>&gt; sam th<br>&gt; <a href=
 =3D"mailto:samth@ccs.neu.edu">samth@ccs.neu.edu</a><br>&gt;<br><br>-- <br>=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 ((lambda (x) (x x)) (lambda (x) (x x)))=
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Eli Barzilay:<br>
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 <a href=3D"h=
 ttp://www.barzilay.org/">http://www.barzilay.org/</a>=C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0 Maze is Life!<br>
 
 --bcaec51b1e5df65eb204b8672e41--

State changed from "open" to "closed" by samth at Tue, 07 Feb 2012 17:25:57 -0500
Reason>>> Sadly these files are required to jump through hoops on windows.

From: Sam Tobin-Hochstadt <samth@ccs.neu.edu>
To: Eli Barzilay <eli@barzilay.org>
Cc: Robby Findler <robby@eecs.northwestern.edu>,
        "bugs@plt-scheme.org" <bugs@plt-scheme.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [plt-bug] all/10015: plt-help on windows leaves junk files behind
 after running
Date: Tue, 7 Feb 2012 17:24:41 -0500

 The files are reported to be in the correct place, so I'm closing this bug.
 
 Also, what are the issues on linux?
 
 On Tue, Feb 7, 2012 at 5:20 PM, Eli Barzilay <eli@barzilay.org> wrote:
 > This files are expected, and there is no way to avoid them.  They contain
 > "trampoline" HTML files that have an HTML fragment or query since those are
 > not passed on to the browser when used on Windows.  There are now similar
 > problems with some of the newer Linux browser launchers, so it is likely to
 > be used there too.  The reason for leaving them behind is that there is no
 > way to know when the browser actually opened and jumped to the correct
 > place.  To make things semi-sane, every time the send-url function is used
 > it will delete some of the older files, so they should stay at some smallish
 > number of files overall.  Also, they should all be in the temp directory, so
 > if they got elsewhere then that's a real bug.
 >
 >
 > On Tuesday, February 7, 2012, Sam Tobin-Hochstadt <samth@ccs.neu.edu> wrote:
 >> This continues to be the case with current Racket, but the files all
 >> go in the tmp directory.
 >>
 >> [reproduced by Stephen Chang]
 >>
 >> On Thu, Jan 8, 2009 at 12:52 PM,  <robby@cs.uchicago.edu> wrote:
 >>> A new problem report is waiting at
 >>>  http://bugs.plt-scheme.org/query/?cmd=view&pr=10015
 >>>
 >>> Reported by Robby Findler for release: 4.1.3.9
 >>>
 >>> *** Description:
 >>> When running plt-help from the command line, it creates a file called
 >>> plt-sendurl-contents-file-<a-big-number>.html and these things end up all
 >>> over the place eventually.
 >>>
 >>> *** How to repeat:
 >>> [robby-laptop] ~/tmp> ls
 >>> [robby-laptop] ~/tmp> plt-help frame
 >>>
 >>> here I waited for the page to load. I then closed the page in the
 >>> browser.
 >>>
 >>> [robby-laptop] ~/tmp> ls
 >>> plt-sendurl-contents-file-1231436928928798255.html
 >>> [robby-laptop] ~/tmp> cat
 >>> plt-sendurl-contents-file-1231436928928798255.html
 >>> <html><head><meta http-equiv="refresh"
 >>> content="0;URL=file:///C:/Users/robby/AppData/Roaming/PLT%20Scheme/4.1.3.9/doc/search/index.html?q=frame"></head><body>Please
 >>> go <a
 >>> href="file:///C:/Users/robby/AppData/Roaming/PLT%20Scheme/4.1.3.9/doc/search/index.html?q=frame">here</a>.</body></html>[robby-laptop]
 >>> ~/tmp>
 >>> [robby-laptop] ~/tmp>
 >>>
 >>>
 >>> *** Environment:
 >>> Win32 / Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US)
 >>> AppleWebKit/525.19 (KHTML, like Gecko) Chrome/1.0.154.36 Safari/525.19
 >>>
 >>
 >>
 >>
 >> --
 >> sam th
 >> samth@ccs.neu.edu
 >>
 >
 > --
 >           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
 >                   http://www.barzilay.org/                 Maze is Life!
 
 
 
 -- 
 sam th
 samth@ccs.neu.edu
 
From: Eli Barzilay <eli@barzilay.org>
To: Sam Tobin-Hochstadt <samth@ccs.neu.edu>
Cc: Robby Findler <robby@eecs.northwestern.edu>,
        "bugs@plt-scheme.org" <bugs@plt-scheme.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [plt-bug] all/10015: plt-help on windows leaves junk files behind
 after running
Date: Tue, 7 Feb 2012 17:30:23 -0500

 --bcaec51b1e5d2a669c04b867531e
 Content-Type: text/plain; charset=UTF-8
 
 There is no issue on Linux now -- I'm just noting that a similar hack will
 eventually be done there too, with the same result of these temporary files
 appearing (but only for browser launchers that need it).
 
 On Tuesday, February 7, 2012, Sam Tobin-Hochstadt <samth@ccs.neu.edu> wrote:
 > The files are reported to be in the correct place, so I'm closing this
 bug.
 >
 > Also, what are the issues on linux?
 >
 > On Tue, Feb 7, 2012 at 5:20 PM, Eli Barzilay <eli@barzilay.org> wrote:
 >> This files are expected, and there is no way to avoid them.  They contain
 >> "trampoline" HTML files that have an HTML fragment or query since those
 are
 >> not passed on to the browser when used on Windows.  There are now similar
 >> problems with some of the newer Linux browser launchers, so it is likely
 to
 >> be used there too.  The reason for leaving them behind is that there is
 no
 >> way to know when the browser actually opened and jumped to the correct
 >> place.  To make things semi-sane, every time the send-url function is
 used
 >> it will delete some of the older files, so they should stay at some
 smallish
 >> number of files overall.  Also, they should all be in the temp
 directory, so
 >> if they got elsewhere then that's a real bug.
 >>
 >>
 >> On Tuesday, February 7, 2012, Sam Tobin-Hochstadt <samth@ccs.neu.edu>
 wrote:
 >>> This continues to be the case with current Racket, but the files all
 >>> go in the tmp directory.
 >>>
 >>> [reproduced by Stephen Chang]
 >>>
 >>> On Thu, Jan 8, 2009 at 12:52 PM,  <robby@cs.uchicago.edu> wrote:
 >>>> A new problem report is waiting at
 >>>>  http://bugs.plt-scheme.org/query/?cmd=view&pr=10015
 >>>>
 >>>> Reported by Robby Findler for release: 4.1.3.9
 >>>>
 >>>> *** Description:
 >>>> When running plt-help from the command line, it creates a file called
 >>>> plt-sendurl-contents-file-<a-big-number>.html and these things end up
 all
 >>>> over the place eventually.
 >>>>
 >>>> *** How to repeat:
 >>>> [robby-laptop] ~/tmp> ls
 >>>> [robby-laptop] ~/tmp> plt-help frame
 >>>>
 >>>> here I waited for the page to load. I then closed the page in the
 >>>> browser.
 >>>>
 >>>> [robby-laptop] ~/tmp> ls
 >>>> plt-sendurl-contents-file-1231436928928798255.html
 >>>> [robby-laptop] ~/tmp> cat
 >>>> plt-sendurl-contents-file-1231436928928798255.html
 >>>> <html><head><meta http-equiv="refresh"
 >>>> content="0;URL=file:///C:/Users/robby/AppData/Roaming/PLT%20Scheme/
 4.1.3.9/doc/search/index.html?q=frame"></head><body>Please
 >>>> go <a
 >>>> href="file:///C:/Users/robby/AppData/Roaming/PLT%20Scheme/
 4.1.3.9/doc/search/index.html?q=frame">here</a>.</body></html>[robby-laptop]
 >>>> ~/tmp>
 >>>> [robby-laptop] ~/tmp>
 >>>>
 >>>>
 >>>> *** Environment:
 >>>> Win32 / Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US)
 >>>> AppleWebKit/525.19 (KHTML, like Gecko) Chrome/1.0.154.36 Safari/525.19
 >>>>
 >>>
 >>>
 >>>
 >>> --
 >>> sam th
 >>> samth@ccs.neu.edu
 >>>
 >>
 >> --
 >>           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
 >>                   http://www.barzilay.org/                 Maze is Life!
 >
 >
 >
 > --
 > sam th
 > samth@ccs.neu.edu
 >
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
 
 --bcaec51b1e5d2a669c04b867531e
 Content-Type: text/html; charset=UTF-8
 Content-Transfer-Encoding: quoted-printable
 
 There is no issue on Linux now -- I&#39;m just noting that a similar hack w=
 ill eventually be done there too, with the same result of these temporary f=
 iles appearing (but only for browser launchers that need it).<br><br>On Tue=
 sday, February 7, 2012, Sam Tobin-Hochstadt &lt;<a href=3D"mailto:samth@ccs=
 .neu.edu">samth@ccs.neu.edu</a>&gt; wrote:<br>
 &gt; The files are reported to be in the correct place, so I&#39;m closing =
 this bug.<br>&gt;<br>&gt; Also, what are the issues on linux?<br>&gt;<br>&g=
 t; On Tue, Feb 7, 2012 at 5:20 PM, Eli Barzilay &lt;<a href=3D"mailto:eli@b=
 arzilay.org">eli@barzilay.org</a>&gt; wrote:<br>
 &gt;&gt; This files are expected, and there is no way to avoid them. =C2=A0=
 They contain<br>&gt;&gt; &quot;trampoline&quot; HTML files that have an HTM=
 L fragment or query since those are<br>&gt;&gt; not passed on to the browse=
 r when used on Windows. =C2=A0There are now similar<br>
 &gt;&gt; problems with some of the newer Linux browser launchers, so it is =
 likely to<br>&gt;&gt; be used there too. =C2=A0The reason for leaving them =
 behind is that there is no<br>&gt;&gt; way to know when the browser actuall=
 y opened and jumped to the correct<br>
 &gt;&gt; place. =C2=A0To make things semi-sane, every time the send-url fun=
 ction is used<br>&gt;&gt; it will delete some of the older files, so they s=
 hould stay at some smallish<br>&gt;&gt; number of files overall. =C2=A0Also=
 , they should all be in the temp directory, so<br>
 &gt;&gt; if they got elsewhere then that&#39;s a real bug.<br>&gt;&gt;<br>&=
 gt;&gt;<br>&gt;&gt; On Tuesday, February 7, 2012, Sam Tobin-Hochstadt &lt;<=
 a href=3D"mailto:samth@ccs.neu.edu">samth@ccs.neu.edu</a>&gt; wrote:<br>&gt=
 ;&gt;&gt; This continues to be the case with current Racket, but the files =
 all<br>
 &gt;&gt;&gt; go in the tmp directory.<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; [repr=
 oduced by Stephen Chang]<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; On Thu, Jan 8, 200=
 9 at 12:52 PM, =C2=A0&lt;<a href=3D"mailto:robby@cs.uchicago.edu">robby@cs.=
 uchicago.edu</a>&gt; wrote:<br>
 &gt;&gt;&gt;&gt; A new problem report is waiting at<br>&gt;&gt;&gt;&gt; =C2=
 =A0<a href=3D"http://bugs.plt-scheme.org/query/?cmd=3Dview&amp;pr=3D10015">=
 http://bugs.plt-scheme.org/query/?cmd=3Dview&amp;pr=3D10015</a><br>&gt;&gt;=
 &gt;&gt;<br>
 &gt;&gt;&gt;&gt; Reported by Robby Findler for release: 4.1.3.9<br>&gt;&gt;=
 &gt;&gt;<br>&gt;&gt;&gt;&gt; *** Description:<br>&gt;&gt;&gt;&gt; When runn=
 ing plt-help from the command line, it creates a file called<br>&gt;&gt;&gt=
 ;&gt; plt-sendurl-contents-file-&lt;a-big-number&gt;.html and these things =
 end up all<br>
 &gt;&gt;&gt;&gt; over the place eventually.<br>&gt;&gt;&gt;&gt;<br>&gt;&gt;=
 &gt;&gt; *** How to repeat:<br>&gt;&gt;&gt;&gt; [robby-laptop] ~/tmp&gt; ls=
 <br>&gt;&gt;&gt;&gt; [robby-laptop] ~/tmp&gt; plt-help frame<br>&gt;&gt;&gt=
 ;&gt;<br>
 &gt;&gt;&gt;&gt; here I waited for the page to load. I then closed the page=
  in the<br>&gt;&gt;&gt;&gt; browser.<br>&gt;&gt;&gt;&gt;<br>&gt;&gt;&gt;&gt=
 ; [robby-laptop] ~/tmp&gt; ls<br>&gt;&gt;&gt;&gt; plt-sendurl-contents-file=
 -1231436928928798255.html<br>
 &gt;&gt;&gt;&gt; [robby-laptop] ~/tmp&gt; cat<br>&gt;&gt;&gt;&gt; plt-sendu=
 rl-contents-file-1231436928928798255.html<br>&gt;&gt;&gt;&gt; &lt;html&gt;&=
 lt;head&gt;&lt;meta http-equiv=3D&quot;refresh&quot;<br>&gt;&gt;&gt;&gt; co=
 ntent=3D&quot;0;URL=3Dfile:///C:/Users/robby/AppData/Roaming/PLT%20Scheme/<=
 a href=3D"http://4.1.3.9/doc/search/index.html?q=3Dframe">4.1.3.9/doc/searc=
 h/index.html?q=3Dframe</a>&quot;&gt;&lt;/head&gt;&lt;body&gt;Please<br>
 &gt;&gt;&gt;&gt; go &lt;a<br>&gt;&gt;&gt;&gt; href=3D&quot;file:///C:/Users=
 /robby/AppData/Roaming/PLT%20Scheme/<a href=3D"http://4.1.3.9/doc/search/in=
 dex.html?q=3Dframe">4.1.3.9/doc/search/index.html?q=3Dframe</a>&quot;&gt;he=
 re&lt;/a&gt;.&lt;/body&gt;&lt;/html&gt;[robby-laptop]<br>
 &gt;&gt;&gt;&gt; ~/tmp&gt;<br>&gt;&gt;&gt;&gt; [robby-laptop] ~/tmp&gt;<br>=
 &gt;&gt;&gt;&gt;<br>&gt;&gt;&gt;&gt;<br>&gt;&gt;&gt;&gt; *** Environment:<b=
 r>&gt;&gt;&gt;&gt; Win32 / Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US)<=
 br>
 &gt;&gt;&gt;&gt; AppleWebKit/525.19 (KHTML, like Gecko) Chrome/<a href=3D"h=
 ttp://1.0.154.36">1.0.154.36</a> Safari/525.19<br>&gt;&gt;&gt;&gt;<br>&gt;&=
 gt;&gt;<br>&gt;&gt;&gt;<br>&gt;&gt;&gt;<br>&gt;&gt;&gt; --<br>&gt;&gt;&gt; =
 sam th<br>
 &gt;&gt;&gt; <a href=3D"mailto:samth@ccs.neu.edu">samth@ccs.neu.edu</a><br>=
 &gt;&gt;&gt;<br>&gt;&gt;<br>&gt;&gt; --<br>&gt;&gt; =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 ((lambda (x) (x x)) (lambda (x) (x x)))=C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 Eli Barzilay:<br>&gt;&gt; =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 <a href=3D"http://www.barzilay.org/">http://www=
 .barzilay.org/</a>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 Maze is Life!<br>
 &gt;<br>&gt;<br>&gt;<br>&gt; --<br>&gt; sam th<br>&gt; <a href=3D"mailto:sa=
 mth@ccs.neu.edu">samth@ccs.neu.edu</a><br>&gt;<br><br>-- <br>=C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 ((lambda (x) (x x)) (lambda (x) (x x)))=C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 Eli Barzilay:<br>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 <a href=3D"http://www.barzilay.org/">http://www=
 .barzilay.org/</a>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 Maze is Life!<br>
 
 --bcaec51b1e5d2a669c04b867531e--
From: Sam Tobin-Hochstadt <samth@ccs.neu.edu>
To: Eli Barzilay <eli@barzilay.org>
Cc: Robby Findler <robby@eecs.northwestern.edu>,
        "bugs@plt-scheme.org" <bugs@plt-scheme.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [plt-bug] all/10015: plt-help on windows leaves junk files behind
 after running
Date: Tue, 7 Feb 2012 17:32:59 -0500

 Right, I'm wondering what browsers need it, and why.
 
 On Tue, Feb 7, 2012 at 5:30 PM, Eli Barzilay <eli@barzilay.org> wrote:
 > There is no issue on Linux now -- I'm just noting that a similar hack will
 > eventually be done there too, with the same result of these temporary files
 > appearing (but only for browser launchers that need it).
 >
 >
 > On Tuesday, February 7, 2012, Sam Tobin-Hochstadt <samth@ccs.neu.edu> wrote:
 >> The files are reported to be in the correct place, so I'm closing this
 >> bug.
 >>
 >> Also, what are the issues on linux?
 >>
 >> On Tue, Feb 7, 2012 at 5:20 PM, Eli Barzilay <eli@barzilay.org> wrote:
 >>> This files are expected, and there is no way to avoid them.  They contain
 >>> "trampoline" HTML files that have an HTML fragment or query since those
 >>> are
 >>> not passed on to the browser when used on Windows.  There are now similar
 >>> problems with some of the newer Linux browser launchers, so it is likely
 >>> to
 >>> be used there too.  The reason for leaving them behind is that there is
 >>> no
 >>> way to know when the browser actually opened and jumped to the correct
 >>> place.  To make things semi-sane, every time the send-url function is
 >>> used
 >>> it will delete some of the older files, so they should stay at some
 >>> smallish
 >>> number of files overall.  Also, they should all be in the temp directory,
 >>> so
 >>> if they got elsewhere then that's a real bug.
 >>>
 >>>
 >>> On Tuesday, February 7, 2012, Sam Tobin-Hochstadt <samth@ccs.neu.edu>
 >>> wrote:
 >>>> This continues to be the case with current Racket, but the files all
 >>>> go in the tmp directory.
 >>>>
 >>>> [reproduced by Stephen Chang]
 >>>>
 >>>> On Thu, Jan 8, 2009 at 12:52 PM,  <robby@cs.uchicago.edu> wrote:
 >>>>> A new problem report is waiting at
 >>>>>  http://bugs.plt-scheme.org/query/?cmd=view&pr=10015
 >>>>>
 >>>>> Reported by Robby Findler for release: 4.1.3.9
 >>>>>
 >>>>> *** Description:
 >>>>> When running plt-help from the command line, it creates a file called
 >>>>> plt-sendurl-contents-file-<a-big-number>.html and these things end up
 >>>>> all
 >>>>> over the place eventually.
 >>>>>
 >>>>> *** How to repeat:
 >>>>> [robby-laptop] ~/tmp> ls
 >>>>> [robby-laptop] ~/tmp> plt-help frame
 >>>>>
 >>>>> here I waited for the page to load. I then closed the page in the
 >>>>> browser.
 >>>>>
 >>>>> [robby-laptop] ~/tmp> ls
 >>>>> plt-sendurl-contents-file-1231436928928798255.html
 >>>>> [robby-laptop] ~/tmp> cat
 >>>>> plt-sendurl-contents-file-1231436928928798255.html
 >>>>> <html><head><meta http-equiv="refresh"
 >>>>>
 >>>>> content="0;URL=file:///C:/Users/robby/AppData/Roaming/PLT%20Scheme/4.1.3.9/doc/search/index.html?q=frame"></head><body>Please
 >>>>> go <a
 >>>>>
 >>>>> href="file:///C:/Users/robby/AppData/Roaming/PLT%20Scheme/4.1.3.9/doc/search/index.html?q=frame">here</a>.</body></html>[robby-laptop]
 >>>>> ~/tmp>
 >>>>> [robby-laptop] ~/tmp>
 >>>>>
 >>>>>
 >>>>> *** Environment:
 >>>>> Win32 / Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US)
 >>>>> AppleWebKit/525.19 (KHTML, like Gecko) Chrome/1.0.154.36 Safari/525.19
 >>>>>
 >>>>
 >>>>
 >>>>
 >>>> --
 >>>> sam th
 >>>> samth@ccs.neu.edu
 >>>>
 >>>
 >>> --
 >>>           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
 >>>                   http://www.barzilay.org/                 Maze is Life!
 >>
 >>
 >>
 >> --
 >> sam th
 >> samth@ccs.neu.edu
 >>
 >
 > --
 >           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
 >                   http://www.barzilay.org/                 Maze is Life!
 
 
 
 -- 
 sam th
 samth@ccs.neu.edu
 
From: Eli Barzilay <eli@barzilay.org>
To: Sam Tobin-Hochstadt <samth@ccs.neu.edu>
Cc: Robby Findler <robby@eecs.northwestern.edu>,
        "bugs@plt-scheme.org" <bugs@plt-scheme.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [plt-bug] all/10015: plt-help on windows leaves junk files behind
 after running
Date: Tue, 7 Feb 2012 17:49:21 -0500

 --20cf307f3b0afd3c0e04b867969f
 Content-Type: text/plain; charset=UTF-8
 
 If you look in the send-url file, it's the one that was commented last, I
 think that Ryan reported the problem.  Maybe the XDG one.
 
 On Tuesday, February 7, 2012, Sam Tobin-Hochstadt <samth@ccs.neu.edu> wrote:
 > Right, I'm wondering what browsers need it, and why.
 >
 > On Tue, Feb 7, 2012 at 5:30 PM, Eli Barzilay <eli@barzilay.org> wrote:
 >> There is no issue on Linux now -- I'm just noting that a similar hack
 will
 >> eventually be done there too, with the same result of these temporary
 files
 >> appearing (but only for browser launchers that need it).
 
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
 
 --20cf307f3b0afd3c0e04b867969f
 Content-Type: text/html; charset=UTF-8
 Content-Transfer-Encoding: quoted-printable
 
 If you look in the send-url file, it&#39;s the one that was commented last,=
  I think that Ryan reported the problem. =C2=A0Maybe the XDG one.<br><br>On=
  Tuesday, February 7, 2012, Sam Tobin-Hochstadt &lt;<a href=3D"mailto:samth=
 @ccs.neu.edu">samth@ccs.neu.edu</a>&gt; wrote:<br>
 &gt; Right, I&#39;m wondering what browsers need it, and why.<br>&gt;<br>&g=
 t; On Tue, Feb 7, 2012 at 5:30 PM, Eli Barzilay &lt;<a href=3D"mailto:eli@b=
 arzilay.org">eli@barzilay.org</a>&gt; wrote:<br>&gt;&gt; There is no issue =
 on Linux now -- I&#39;m just noting that a similar hack will<br>
 &gt;&gt; eventually be done there too, with the same result of these tempor=
 ary files<br>&gt;&gt; appearing (but only for browser launchers that need i=
 t).<br><br><br>-- <br>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 ((lambda (x) (x x)=
 ) (lambda (x) (x x)))=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Eli Barzilay:<br>
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 <a href=3D"h=
 ttp://www.barzilay.org/">http://www.barzilay.org/</a>=C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0 Maze is Life!<br>
 
 --20cf307f3b0afd3c0e04b867969f--
From: Sam Tobin-Hochstadt <samth@ccs.neu.edu>
To: Eli Barzilay <eli@barzilay.org>
Cc: Robby Findler <robby@eecs.northwestern.edu>,
        "bugs@plt-scheme.org" <bugs@plt-scheme.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [plt-bug] all/10015: plt-help on windows leaves junk files behind
 after running
Date: Tue, 7 Feb 2012 18:02:59 -0500

 My current version of xdg-open works properly for this:
 
 $ xdg-open http://pre.racket-lang.org/docs/html/search/index.html?q=foo
 [... firefox opens with the appropriate query ...]
 
 So this should probably be added back.
 
 On Tue, Feb 7, 2012 at 5:49 PM, Eli Barzilay <eli@barzilay.org> wrote:
 > If you look in the send-url file, it's the one that was commented last, I
 > think that Ryan reported the problem.  Maybe the XDG one.
 >
 >
 > On Tuesday, February 7, 2012, Sam Tobin-Hochstadt <samth@ccs.neu.edu> wrote:
 >> Right, I'm wondering what browsers need it, and why.
 >>
 >> On Tue, Feb 7, 2012 at 5:30 PM, Eli Barzilay <eli@barzilay.org> wrote:
 >>> There is no issue on Linux now -- I'm just noting that a similar hack
 >>> will
 >>> eventually be done there too, with the same result of these temporary
 >>> files
 >>> appearing (but only for browser launchers that need it).
 >
 >
 > --
 >           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
 >                   http://www.barzilay.org/                 Maze is Life!
 
 
 
 -- 
 sam th
 samth@ccs.neu.edu
 
From: Eli Barzilay <eli@barzilay.org>
To: Sam Tobin-Hochstadt <samth@ccs.neu.edu>
Cc: Robby Findler <robby@eecs.northwestern.edu>,
        "bugs@plt-scheme.org" <bugs@plt-scheme.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [plt-bug] all/10015: plt-help on windows leaves junk files behind
 after running
Date: Tue, 7 Feb 2012 18:12:07 -0500

 --20cf307f3b0a71942304b867e8b8
 Content-Type: text/plain; charset=UTF-8
 
 Try it with a file:// URL.  Also, it might be a fragment that is the
 problem.
 
 On Tuesday, February 7, 2012, Sam Tobin-Hochstadt <samth@ccs.neu.edu> wrote:
 > My current version of xdg-open works properly for this:
 >
 > $ xdg-open http://pre.racket-lang.org/docs/html/search/index.html?q=foo
 > [... firefox opens with the appropriate query ...]
 >
 > So this should probably be added back.
 >
 > On Tue, Feb 7, 2012 at 5:49 PM, Eli Barzilay <eli@barzilay.org> wrote:
 >> If you look in the send-url file, it's the one that was commented last, I
 >> think that Ryan reported the problem.  Maybe the XDG one.
 >>
 >>
 >> On Tuesday, February 7, 2012, Sam Tobin-Hochstadt <samth@ccs.neu.edu>
 wrote:
 >>> Right, I'm wondering what browsers need it, and why.
 >>>
 >>> On Tue, Feb 7, 2012 at 5:30 PM, Eli Barzilay <eli@barzilay.org> wrote:
 >>>> There is no issue on Linux now -- I'm just noting that a similar hack
 >>>> will
 >>>> eventually be done there too, with the same result of these temporary
 >>>> files
 >>>> appearing (but only for browser launchers that need it).
 >>
 >>
 >> --
 >>           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
 >>                   http://www.barzilay.org/                 Maze is Life!
 >
 >
 >
 > --
 > sam th
 > samth@ccs.neu.edu
 >
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
 
 --20cf307f3b0a71942304b867e8b8
 Content-Type: text/html; charset=UTF-8
 Content-Transfer-Encoding: quoted-printable
 
 Try it with a file:// URL. =C2=A0Also, it might be a fragment that is the p=
 roblem.<br><br>On Tuesday, February 7, 2012, Sam Tobin-Hochstadt &lt;<a hre=
 f=3D"mailto:samth@ccs.neu.edu">samth@ccs.neu.edu</a>&gt; wrote:<br>&gt; My =
 current version of xdg-open works properly for this:<br>
 &gt;<br>&gt; $ xdg-open <a href=3D"http://pre.racket-lang.org/docs/html/sea=
 rch/index.html?q=3Dfoo">http://pre.racket-lang.org/docs/html/search/index.h=
 tml?q=3Dfoo</a><br>&gt; [... firefox opens with the appropriate query ...]<=
 br>
 &gt;<br>&gt; So this should probably be added back.<br>&gt;<br>&gt; On Tue,=
  Feb 7, 2012 at 5:49 PM, Eli Barzilay &lt;<a href=3D"mailto:eli@barzilay.or=
 g">eli@barzilay.org</a>&gt; wrote:<br>&gt;&gt; If you look in the send-url =
 file, it&#39;s the one that was commented last, I<br>
 &gt;&gt; think that Ryan reported the problem. =C2=A0Maybe the XDG one.<br>=
 &gt;&gt;<br>&gt;&gt;<br>&gt;&gt; On Tuesday, February 7, 2012, Sam Tobin-Ho=
 chstadt &lt;<a href=3D"mailto:samth@ccs.neu.edu">samth@ccs.neu.edu</a>&gt; =
 wrote:<br>
 &gt;&gt;&gt; Right, I&#39;m wondering what browsers need it, and why.<br>&g=
 t;&gt;&gt;<br>&gt;&gt;&gt; On Tue, Feb 7, 2012 at 5:30 PM, Eli Barzilay &lt=
 ;<a href=3D"mailto:eli@barzilay.org">eli@barzilay.org</a>&gt; wrote:<br>&gt=
 ;&gt;&gt;&gt; There is no issue on Linux now -- I&#39;m just noting that a =
 similar hack<br>
 &gt;&gt;&gt;&gt; will<br>&gt;&gt;&gt;&gt; eventually be done there too, wit=
 h the same result of these temporary<br>&gt;&gt;&gt;&gt; files<br>&gt;&gt;&=
 gt;&gt; appearing (but only for browser launchers that need it).<br>&gt;&gt=
 ;<br>
 &gt;&gt;<br>&gt;&gt; --<br>&gt;&gt; =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 ((la=
 mbda (x) (x x)) (lambda (x) (x x)))=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 Eli B=
 arzilay:<br>&gt;&gt; =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=
 =A0 =C2=A0 <a href=3D"http://www.barzilay.org/">http://www.barzilay.org/</a=
 >=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=C2=A0 Maze is Life=
 !<br>
 &gt;<br>&gt;<br>&gt;<br>&gt; --<br>&gt; sam th<br>&gt; <a href=3D"mailto:sa=
 mth@ccs.neu.edu">samth@ccs.neu.edu</a><br>&gt;<br><br>-- <br>=C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 ((lambda (x) (x x)) (lambda (x) (x x)))=C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 Eli Barzilay:<br>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =
 =C2=A0 =C2=A0 =C2=A0 =C2=A0 <a href=3D"http://www.barzilay.org/">http://www=
 .barzilay.org/</a>=C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0 =C2=A0=
 =C2=A0 Maze is Life!<br>
 
 --20cf307f3b0a71942304b867e8b8--
From: Ryan Culpepper <ryan@cs.utah.edu>
To: Sam Tobin-Hochstadt <samth@ccs.neu.edu>
Cc: Eli Barzilay <eli@barzilay.org>,
        Robby Findler <robby@eecs.northwestern.edu>,
        "bugs@plt-scheme.org" <bugs@plt-scheme.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [plt-bug] all/10015: plt-help on windows leaves junk files behind
 after running
Date: Tue, 07 Feb 2012 16:12:26 -0700

 The version of xdg-open that I have fails on "file:" URLs with query 
 components, which is what "raco docs" used.
 
 Ryan
 
 
 On 02/07/2012 04:02 PM, Sam Tobin-Hochstadt wrote:
 > My current version of xdg-open works properly for this:
 >
 > $ xdg-open http://pre.racket-lang.org/docs/html/search/index.html?q=foo
 > [... firefox opens with the appropriate query ...]
 >
 > So this should probably be added back.
 >
 > On Tue, Feb 7, 2012 at 5:49 PM, Eli Barzilay<eli@barzilay.org>  wrote:
 >> If you look in the send-url file, it's the one that was commented last, I
 >> think that Ryan reported the problem.  Maybe the XDG one.
 >>
 >>
 >> On Tuesday, February 7, 2012, Sam Tobin-Hochstadt<samth@ccs.neu.edu>  wrote:
 >>> Right, I'm wondering what browsers need it, and why.
 >>>
 >>> On Tue, Feb 7, 2012 at 5:30 PM, Eli Barzilay<eli@barzilay.org>  wrote:
 >>>> There is no issue on Linux now -- I'm just noting that a similar hack
 >>>> will
 >>>> eventually be done there too, with the same result of these temporary
 >>>> files
 >>>> appearing (but only for browser launchers that need it).
 >>
 >>
 >> --
 >>            ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
 >>                    http://www.barzilay.org/                 Maze is Life!
 >
 >
 >
From: Sam Tobin-Hochstadt <samth@ccs.neu.edu>
To: Ryan Culpepper <ryan@cs.utah.edu>
Cc: Eli Barzilay <eli@barzilay.org>,
        Robby Findler <robby@eecs.northwestern.edu>,
        "bugs@plt-scheme.org" <bugs@plt-scheme.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [plt-bug] all/10015: plt-help on windows leaves junk files behind
 after running
Date: Tue, 7 Feb 2012 18:17:18 -0500

 Ah yes, it does have that behavior for me too.
 
 On Tue, Feb 7, 2012 at 6:12 PM, Ryan Culpepper <ryan@cs.utah.edu> wrote:
 > The version of xdg-open that I have fails on "file:" URLs with query
 > components, which is what "raco docs" used.
 >
 > Ryan
 >
 >
 >
 > On 02/07/2012 04:02 PM, Sam Tobin-Hochstadt wrote:
 >>
 >> My current version of xdg-open works properly for this:
 >>
 >> $ xdg-open http://pre.racket-lang.org/docs/html/search/index.html?q=foo
 >> [... firefox opens with the appropriate query ...]
 >>
 >> So this should probably be added back.
 >>
 >> On Tue, Feb 7, 2012 at 5:49 PM, Eli Barzilay<eli@barzilay.org>  wrote:
 >>>
 >>> If you look in the send-url file, it's the one that was commented last, I
 >>> think that Ryan reported the problem.  Maybe the XDG one.
 >>>
 >>>
 >>> On Tuesday, February 7, 2012, Sam Tobin-Hochstadt<samth@ccs.neu.edu>
 >>>  wrote:
 >>>>
 >>>> Right, I'm wondering what browsers need it, and why.
 >>>>
 >>>> On Tue, Feb 7, 2012 at 5:30 PM, Eli Barzilay<eli@barzilay.org>  wrote:
 >>>>>
 >>>>> There is no issue on Linux now -- I'm just noting that a similar hack
 >>>>> will
 >>>>> eventually be done there too, with the same result of these temporary
 >>>>> files
 >>>>> appearing (but only for browser launchers that need it).
 >>>
 >>>
 >>>
 >>> --
 >>>           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
 >>>                   http://www.barzilay.org/                 Maze is Life!
 >>
 >>
 >>
 >>
 >
 
 
 
 -- 
 sam th
 samth@ccs.neu.edu
 
From: Eli Barzilay <eli@barzilay.org>
To: Sam Tobin-Hochstadt <samth@ccs.neu.edu>, Ryan Culpepper <ryan@cs.utah.edu>
Cc: Robby Findler <robby@eecs.northwestern.edu>,
        "bugs@plt-scheme.org" <bugs@plt-scheme.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [plt-bug] all/10015: plt-help on windows leaves junk files behind
 after running
Date: Thu, 9 Feb 2012 15:05:35 -0500

 Two days ago, Ryan Culpepper wrote:
 > The version of xdg-open that I have fails on "file:" URLs with query
 > components, which is what "raco docs" used.
 
 Two days ago, Sam Tobin-Hochstadt wrote:
 > Ah yes, it does have that behavior for me too.
 
 If either of you know of some way to get it to work, I would love to
 hear it.  (I really don't like the trampoline hack, and doing that on
 linux just sounds wrong... but I don't see any other way to resolve
 it.)
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                     http://barzilay.org/                   Maze is Life!
From: Sam Tobin-Hochstadt <samth@ccs.neu.edu>
To: Eli Barzilay <eli@barzilay.org>
Cc: Ryan Culpepper <ryan@cs.utah.edu>,
        Robby Findler <robby@eecs.northwestern.edu>,
        "bugs@plt-scheme.org" <bugs@plt-scheme.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [plt-bug] all/10015: plt-help on windows leaves junk files behind
 after running
Date: Thu, 9 Feb 2012 15:13:22 -0500

 On Thu, Feb 9, 2012 at 3:05 PM, Eli Barzilay <eli@barzilay.org> wrote:
 > Two days ago, Ryan Culpepper wrote:
 >> The version of xdg-open that I have fails on "file:" URLs with query
 >> components, which is what "raco docs" used.
 >
 > Two days ago, Sam Tobin-Hochstadt wrote:
 >> Ah yes, it does have that behavior for me too.
 >
 > If either of you know of some way to get it to work, I would love to
 > hear it.  (I really don't like the trampoline hack, and doing that on
 > linux just sounds wrong... but I don't see any other way to resolve
 > it.)
 
 One solution that occurs to me is to use a different way to
 communicate the search query to the page.  For example:
 
 file:///blah/search.html#query/foo
 
 which is how gmail works, currently, and which is passed correctly by
 xdg-open.  Might be worth testing on IE to see if it works there too.
 
 You would then extract the query using JS with 'window.location.hash'
 -- 
 sam th
 samth@ccs.neu.edu
 
From: Eli Barzilay <eli@barzilay.org>
To: Sam Tobin-Hochstadt <samth@ccs.neu.edu>
Cc: Ryan Culpepper <ryan@cs.utah.edu>,
        Robby Findler <robby@eecs.northwestern.edu>,
        "bugs@plt-scheme.org" <bugs@plt-scheme.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [plt-bug] all/10015: plt-help on windows leaves junk files behind
 after running
Date: Thu, 9 Feb 2012 15:18:25 -0500

 Just now, Sam Tobin-Hochstadt wrote:
 > 
 > One solution that occurs to me is to use a different way to
 > communicate the search query to the page.  For example:
 > 
 > file:///blah/search.html#query/foo
 > 
 > which is how gmail works, currently, and which is passed correctly
 > by xdg-open.  Might be worth testing on IE to see if it works there
 > too.
 > 
 > You would then extract the query using JS with
 > 'window.location.hash'
 
 I considered that in the past, and it's bad for several reasons:
 * first, IIRC, on windows it's the fragment that gets lost so making
   both work will make some fragile solution that will often break on
   one;
 * second, it makes the tool work only on pages that are prepared for
   it, and net/sendurl should be usable with other pages too;
 * finally, it makes it depend on JS to get things to work -- and
   that's an even bigger problem in the documentation pages case, since
   running off of a file:// makes for a lot more JS problems (since
   it's often much more restricted, especially on windows).
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                     http://barzilay.org/                   Maze is Life!
From: Sam Tobin-Hochstadt <samth@ccs.neu.edu>
To: Eli Barzilay <eli@barzilay.org>
Cc: Ryan Culpepper <ryan@cs.utah.edu>,
        Robby Findler <robby@eecs.northwestern.edu>,
        "bugs@plt-scheme.org" <bugs@plt-scheme.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [plt-bug] all/10015: plt-help on windows leaves junk files behind
 after running
Date: Thu, 9 Feb 2012 15:22:18 -0500

 On Thu, Feb 9, 2012 at 3:18 PM, Eli Barzilay <eli@barzilay.org> wrote:
 > Just now, Sam Tobin-Hochstadt wrote:
 >>
 >> One solution that occurs to me is to use a different way to
 >> communicate the search query to the page.  For example:
 >>
 >> file:///blah/search.html#query/foo
 >>
 >> which is how gmail works, currently, and which is passed correctly
 >> by xdg-open.  Might be worth testing on IE to see if it works there
 >> too.
 >>
 >> You would then extract the query using JS with
 >> 'window.location.hash'
 >
 > I considered that in the past, and it's bad for several reasons:
 > * first, IIRC, on windows it's the fragment that gets lost so making
 >  both work will make some fragile solution that will often break on
 >  one;
 
 Oh ugh.
 
 > * second, it makes the tool work only on pages that are prepared for
 >  it, and net/sendurl should be usable with other pages too;
 
 We're already in trouble for this, right?  `send-url' won't work on
 windows with fragments, can't use xdg-open with query parameters for
 file urls, etc.
 
 Anyway, I'm not suggesting that we should change `send-url' for other
 clients, just suggesting that we use a different query mechanism to
 make our own docs work better.
 
 > * finally, it makes it depend on JS to get things to work -- and
 >  that's an even bigger problem in the documentation pages case, since
 >  running off of a file:// makes for a lot more JS problems (since
 >  it's often much more restricted, especially on windows).
 
 I don't understand this -- search already requires JS to do anything.
 -- 
 sam th
 samth@ccs.neu.edu
 
From: Eli Barzilay <eli@barzilay.org>
To: Sam Tobin-Hochstadt <samth@ccs.neu.edu>
Cc: Ryan Culpepper <ryan@cs.utah.edu>,
        Robby Findler <robby@eecs.northwestern.edu>,
        "bugs@plt-scheme.org" <bugs@plt-scheme.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [plt-bug] all/10015: plt-help on windows leaves junk files behind
 after running
Date: Thu, 9 Feb 2012 15:44:55 -0500

 20 minutes ago, Sam Tobin-Hochstadt wrote:
 > On Thu, Feb 9, 2012 at 3:18 PM, Eli Barzilay <eli@barzilay.org> wrote:
 > > Just now, Sam Tobin-Hochstadt wrote:
 > >>
 > >> One solution that occurs to me is to use a different way to
 > >> communicate the search query to the page.  For example:
 > >>
 > >> file:///blah/search.html#query/foo
 > >>
 > >> which is how gmail works, currently, and which is passed correctly
 > >> by xdg-open.  Might be worth testing on IE to see if it works there
 > >> too.
 > >>
 > >> You would then extract the query using JS with
 > >> 'window.location.hash'
 > >
 > > I considered that in the past, and it's bad for several reasons:
 > > * first, IIRC, on windows it's the fragment that gets lost so making
 > >  both work will make some fragile solution that will often break on
 > >  one;
 > 
 > Oh ugh.
 > 
 > > * second, it makes the tool work only on pages that are prepared for
 > >  it, and net/sendurl should be usable with other pages too;
 > 
 > We're already in trouble for this, right?  `send-url' won't work on
 > windows with fragments, can't use xdg-open with query parameters for
 > file urls, etc.
 
 It does work on windows -- by making up these temporary trampoline
 files.  It doesn't work on xdg-open now, but will when I do the same
 hack there too.  (And only for browsers like xdg-open that require
 it.)
 
 
 > > * finally, it makes it depend on JS to get things to work -- and
 > >  that's an even bigger problem in the documentation pages case, since
 > >  running off of a file:// makes for a lot more JS problems (since
 > >  it's often much more restricted, especially on windows).
 > 
 > I don't understand this -- search already requires JS to do
 > anything.
 
 It's also used to jump to a known definition url, where no JS is
 involved.  (But yes, if xdg-open ignores the query part then this
 point doesn't apply there.)
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                     http://barzilay.org/                   Maze is Life!
 
From: Sam Tobin-Hochstadt <samth@ccs.neu.edu>
To: Eli Barzilay <eli@barzilay.org>
Cc: Ryan Culpepper <ryan@cs.utah.edu>,
        Robby Findler <robby@eecs.northwestern.edu>,
        "bugs@plt-scheme.org" <bugs@plt-scheme.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [plt-bug] all/10015: plt-help on windows leaves junk files behind
 after running
Date: Thu, 9 Feb 2012 15:52:27 -0500

 On Thu, Feb 9, 2012 at 3:44 PM, Eli Barzilay <eli@barzilay.org> wrote:
 
 >> > * second, it makes the tool work only on pages that are prepared for
 >> >  it, and net/sendurl should be usable with other pages too;
 >>
 >> We're already in trouble for this, right?  `send-url' won't work on
 >> windows with fragments, can't use xdg-open with query parameters for
 >> file urls, etc.
 >
 > It does work on windows -- by making up these temporary trampoline
 > files.  It doesn't work on xdg-open now, but will when I do the same
 > hack there too.  (And only for browsers like xdg-open that require
 > it.)
 
 Does it currently check if the URL requires the trampoline?
 
 >> > * finally, it makes it depend on JS to get things to work -- and
 >> >  that's an even bigger problem in the documentation pages case, since
 >> >  running off of a file:// makes for a lot more JS problems (since
 >> >  it's often much more restricted, especially on windows).
 >>
 >> I don't understand this -- search already requires JS to do
 >> anything.
 >
 > It's also used to jump to a known definition url, where no JS is
 > involved.  (But yes, if xdg-open ignores the query part then this
 > point doesn't apply there.)
 
 Unfortunately, xdg-open is worse than that -- it errors and produces
 nothing useful if you use a query part.
 
 -- 
 sam th
 samth@ccs.neu.edu
 
From: Eli Barzilay <eli@barzilay.org>
To: Sam Tobin-Hochstadt <samth@ccs.neu.edu>
Cc: Ryan Culpepper <ryan@cs.utah.edu>,
        Robby Findler <robby@eecs.northwestern.edu>,
        "bugs@plt-scheme.org" <bugs@plt-scheme.org>,
        bug-notification <bug-notification@racket-lang.org>
Subject: Re: [plt-bug] all/10015: plt-help on windows leaves junk files behind
 after running
Date: Thu, 9 Feb 2012 16:01:36 -0500

 Just now, Sam Tobin-Hochstadt wrote:
 > On Thu, Feb 9, 2012 at 3:44 PM, Eli Barzilay <eli@barzilay.org> wrote:
 > 
 > >> > * second, it makes the tool work only on pages that are prepared for
 > >> >  it, and net/sendurl should be usable with other pages too;
 > >>
 > >> We're already in trouble for this, right?  `send-url' won't work on
 > >> windows with fragments, can't use xdg-open with query parameters for
 > >> file urls, etc.
 > >
 > > It does work on windows -- by making up these temporary trampoline
 > > files.  It doesn't work on xdg-open now, but will when I do the same
 > > hack there too.  (And only for browsers like xdg-open that require
 > > it.)
 > 
 > Does it currently check if the URL requires the trampoline?
 
 Yes, it only uses that when the url matches #rx"[?#]", see the
 `send-url/win' function for the wonderful implementation.  There's
 also a big comment before that with a description of the problem and
 some of the other (failing) solutions.
 
 And now that I looked at it, windows is not passing either one, no
 query and no fragment.
 
 (Also, the code will delete the temporary files after 15 seconds, if
 the thread that does that is allowed to live that long, and files
 older than 15 minutes are removed otherwise with a random to avoid
 doing it on every call...)
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                     http://barzilay.org/                   Maze is Life!
 
