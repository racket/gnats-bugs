From apache@plt-scheme.org Mon Apr 26 16:08:10 2004
Received: from champlain.ccs.neu.edu (champlain.ccs.neu.edu [127.0.0.1])
	by champlain.ccs.neu.edu (8.12.10/8.12.10) with ESMTP id i3QK87kc018228
	for <bugs@plt-scheme.org>; Mon, 26 Apr 2004 16:08:07 -0400
Message-Id: <200404262008.i3QK87hK018226@champlain.ccs.neu.edu>
Date: Mon, 26 Apr 2004 16:08:07 -0400
From: khamenya@mail.ru
To: bugs@plt-scheme.org
Subject: plt-206p1-bin-i386-win32.exe install fails under WinXP

>Number:         6837
>Category:       mred
>Synopsis:       plt-206p1-bin-i386-win32.exe install fails under WinXP
>Class:          sw-bug
>Responsible:    eli
>Severity:       critical
>Priority:       medium
>State:          closed
>Confidential:   no
>Arrival-Date:   Mon Apr 26 16:10:00 -0400 2004
>Last-Modified:  Sat Jun 05 16:21:17 -0400 2004
>Originator:     Valery A.Khamenya
>Organization:
plt
>Submitter-Id:   unknown
>Release:        plt-206p1
>Environment:
windows-xp
>Description:
at the end of installation comes window titled PLT Installer.
There comes one message running setup and then "mred" crashes.

short dump:
AppName: mred.exe	 AppVer: 202.0.0.0	 ModName: libmred206p1_0.dll
ModVer: 0.0.0.0	 Offset: 000c420e

Exception Information
Code: 0xc0000005
Flags: 0x0
Record: 0x0
Address: 0x0100c420e

System Information
Windows NT 5.1 Build 2600 


other info related to the dump:

<?xml version="1.0" encoding="UTF-16"?>
<DATABASE>
<EXE NAME="MrEd.exe" FILTER="GRABMI_FILTER_PRIVACY">
    <MATCHING_FILE NAME="Finish Install.exe" SIZE="197988" CHECKSUM="0x433A0474" BIN_FILE_VERSION="202.0.0.0" BIN_PRODUCT_VERSION="202.0.0.0" PRODUCT_VERSION="202, 0, 0, 0" FILE_DESCRIPTION="mred" COMPANY_NAME="PLT" PRODUCT_NAME="MrEd" FILE_VERSION="202, 0, 0, 0" ORIGINAL_FILENAME="mred.exe" INTERNAL_NAME="mred" LEGAL_COPYRIGHT="Copyright © 1995-2002" VERFILEDATEHI="0x0" VERFILEDATELO="0x0" VERFILEOS="0x40004" VERFILETYPE="0x1" MODULE_TYPE="WIN32" PE_CHECKSUM="0x0" LINKER_VERSION="0x0" UPTO_BIN_FILE_VERSION="202.0.0.0" UPTO_BIN_PRODUCT_VERSION="202.0.0.0" LINK_DATE="02/15/2004 20:25:31" UPTO_LINK_DATE="02/15/2004 20:25:31" VER_LANGUAGE="Английский (США) [0x409]" />
    <MATCHING_FILE NAME="MrEd.exe" SIZE="196608" CHECKSUM="0x433A0474" BIN_FILE_VERSION="202.0.0.0" BIN_PRODUCT_VERSION="202.0.0.0" PRODUCT_VERSION="202, 0, 0, 0" FILE_DESCRIPTION="mred" COMPANY_NAME="PLT" PRODUCT_NAME="MrEd" FILE_VERSION="202, 0, 0, 0" ORIGINAL_FILENAME="mred.exe" INTERNAL_NAME="mred" LEGAL_COPYRIGHT="Copyright © 1995-2002" VERFILEDATEHI="0x0" VERFILEDATELO="0x0" VERFILEOS="0x40004" VERFILETYPE="0x1" MODULE_TYPE="WIN32" PE_CHECKSUM="0x0" LINKER_VERSION="0x0" UPTO_BIN_FILE_VERSION="202.0.0.0" UPTO_BIN_PRODUCT_VERSION="202.0.0.0" LINK_DATE="02/15/2004 20:25:31" UPTO_LINK_DATE="02/15/2004 20:25:31" VER_LANGUAGE="Английский (США) [0x409]" />
    <MATCHING_FILE NAME="MzScheme.exe" SIZE="81920" CHECKSUM="0xFF51A53" MODULE_TYPE="WIN32" PE_CHECKSUM="0x0" LINKER_VERSION="0x0" LINK_DATE="02/15/2004 20:23:10" UPTO_LINK_DATE="02/15/2004 20:23:10" />
    <MATCHING_FILE NAME="Uninstall.exe" SIZE="69372" CHECKSUM="0x49D42B4D" BIN_FILE_VERSION="206.0.0.0" BIN_PRODUCT_VERSION="206.0.0.0" FILE_DESCRIPTION="PLT Scheme Installer" COMPANY_NAME="PLT" PRODUCT_NAME="PLT Scheme" FILE_VERSION="206p1" LEGAL_COPYRIGHT="© PLT" VERFILEDATEHI="0x0" VERFILEDATELO="0x0" VERFILEOS="0x4" VERFILETYPE="0x1" MODULE_TYPE="WIN32" PE_CHECKSUM="0x0" LINKER_VERSION="0x0" UPTO_BIN_FILE_VERSION="206.0.0.0" UPTO_BIN_PRODUCT_VERSION="206.0.0.0" LINK_DATE="02/02/2004 15:08:57" UPTO_LINK_DATE="02/02/2004 15:08:57" VER_LANGUAGE="Английский (США) [0x409]" />
    <MATCHING_FILE NAME="collects\launcher\mrstart.exe" SIZE="49152" CHECKSUM="0xA963BB62" MODULE_TYPE="WIN32" PE_CHECKSUM="0x0" LINKER_VERSION="0x0" LINK_DATE="02/15/2004 20:34:53" UPTO_LINK_DATE="02/15/2004 20:34:53" />
    <MATCHING_FILE NAME="collects\launcher\mzstart.exe" SIZE="49152" CHECKSUM="0x54EC62D4" MODULE_TYPE="WIN32" PE_CHECKSUM="0x0" LINKER_VERSION="0x0" LINK_DATE="02/15/2004 20:34:49" UPTO_LINK_DATE="02/15/2004 20:34:49" />
    <MATCHING_FILE NAME="collects\mzcom\mzcom.exe" SIZE="77824" CHECKSUM="0xC0F379FB" BIN_FILE_VERSION="1.0.0.1" BIN_PRODUCT_VERSION="206.0.0.1" PRODUCT_VERSION="206, 0, 0, 1" FILE_DESCRIPTION="MzCOM Module" PRODUCT_NAME="MzCOM Module" FILE_VERSION="1, 0, 0, 1" ORIGINAL_FILENAME="MzCOM.EXE" INTERNAL_NAME="MzCOM" LEGAL_COPYRIGHT="Copyright 2000-2004 PLT (Paul Steckler)" VERFILEDATEHI="0x0" VERFILEDATELO="0x0" VERFILEOS="0x4" VERFILETYPE="0x1" MODULE_TYPE="WIN32" PE_CHECKSUM="0x0" LINKER_VERSION="0x0" UPTO_BIN_FILE_VERSION="1.0.0.1" UPTO_BIN_PRODUCT_VERSION="206.0.0.1" LINK_DATE="02/15/2004 20:35:17" UPTO_LINK_DATE="02/15/2004 20:35:17" VER_LANGUAGE="Английский (США) [0x409]" />
</EXE>
<EXE NAME="libmred206p1_0.dll" FILTER="GRABMI_FILTER_THISFILEONLY">
    <MATCHING_FILE NAME="libmred206p1_0.dll" SIZE="1413120" CHECKSUM="0xE0D7B350" MODULE_TYPE="WIN32" PE_CHECKSUM="0x0" LINKER_VERSION="0x0" LINK_DATE="02/15/2004 20:25:26" UPTO_LINK_DATE="02/15/2004 20:25:26" />
</EXE>
<EXE NAME="kernel32.dll" FILTER="GRABMI_FILTER_THISFILEONLY">
    <MATCHING_FILE NAME="kernel32.dll" SIZE="936448" CHECKSUM="0x1FDC099F" BIN_FILE_VERSION="5.1.2600.1106" BIN_PRODUCT_VERSION="5.1.2600.1106" PRODUCT_VERSION="5.1.2600.1106" FILE_DESCRIPTION="Библиотека клиента Windows NT BASE API" COMPANY_NAME="Корпорация Майкрософт" PRODUCT_NAME="Операционная система Microsoft® Windows®" FILE_VERSION="5.1.2600.1106 (xpsp1.020828-1920)" ORIGINAL_FILENAME="kernel32" INTERNAL_NAME="kernel32" LEGAL_COPYRIGHT="© Корпорация Майкрософт. Все права защищены." VERFILEDATEHI="0x0" VERFILEDATELO="0x0" VERFILEOS="0x40004" VERFILETYPE="0x2" MODULE_TYPE="WIN32" PE_CHECKSUM="0xEBB30" LINKER_VERSION="0x50001" UPTO_BIN_FILE_VERSION="5.1.2600.1106" UPTO_BIN_PRODUCT_VERSION="5.1.2600.1106" LINK_DATE="09/24/2002 18:31:47" UPTO_LINK_DATE="09/24/2002 18:31:47" VER_LANGUAGE="Русский [0x419]" />
</EXE>
</DATABASE>

>How-To-Repeat:
Just install plt-206p1 on WinXP :)
>Fix:
>Audit-Trail:
Responsible changed from "nobody" to "eli" by eli at Mon, 26 Apr 2004 18:04:32 -0400
Reason>>> Replying

State changed from "open" to "feedback" by eli at Mon, 26 Apr 2004 18:04:32 -0400
Reason>>> Replying

From: Eli Barzilay <eli@barzilay.org>
To: "Valery A.Khamenya" <khamenya@mail.ru>, bugs@plt-scheme.org
Cc: 
Subject: Re: all/6837: plt-206p1-bin-i386-win32.exe install fails under WinXP
Date: Mon, 26 Apr 2004 18:07:20 -0400

 On Apr 26, khamenya@mail.ru wrote:
 > at the end of installation comes window titled PLT Installer.
 > There comes one message running setup and then "mred" crashes.
 > 
 > short dump:
 > AppName: mred.exe	 AppVer: 202.0.0.0	 ModName: libmred206p1_0.dll
 > ModVer: 0.0.0.0	 Offset: 000c420e
 
 Hi Valery,
 
 This problem is known, but we did not locate what's causing it yet.  I
 have a quick question for you: you should have a PLT folder in your
 Program Files, and there should be a few executables there.  Does it
 work to run the MzScheme.exe executable?  What about MrEd.exe?
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
From: "=?koi8-r?Q?=22?=Valery A.Khamenya=?koi8-r?Q?=22=20?="<khamenya@mail.ru>
To: =?koi8-r?Q?=22?=Eli Barzilay=?koi8-r?Q?=22=20?=<eli@barzilay.org>
Cc: bugs@plt-scheme.org
Subject: Re[2]: all/6837: plt-206p1-bin-i386-win32.exe install fails under WinXP
Date: Tue, 27 Apr 2004 13:03:04 +0400

 > This problem is known, but we did not locate what's causing it yet.  I
 > have a quick question for you: you should have a PLT folder in your
 > Program Files, and there should be a few executables there.  Does it
 > work to run the MzScheme.exe executable? 
 
 Sorry, i am not next to my WinXP PC now, perhaps my memory serves 
 me good :)
 
 MzScheme.exe was really there, seemed to run OK and brought Scheme prompt.
 
 >  What about MrEd.exe?
 
 If i am not wrong, it was absent.
 
 DrScheme.exe was absent for sure.
 
 If i am not wrong, there were only 3 executables 
 (i could answer 8 hours later in more details)
 
 --
 Valery
From: Eli Barzilay <eli@barzilay.org>
To: "=?koi8-r?Q?=22?=Valery A.Khamenya=?koi8-r?Q?=22=20?=" <khamenya@mail.ru>
Cc: bugs@plt-scheme.org
Subject: Re: Re[2]: all/6837: plt-206p1-bin-i386-win32.exe install fails under WinXP
Date: Tue, 27 Apr 2004 09:17:20 -0400

 On Apr 27, "Valery A.Khamenya"  wrote:
 > > This problem is known, but we did not locate what's causing it yet.  I
 > > have a quick question for you: you should have a PLT folder in your
 > > Program Files, and there should be a few executables there.  Does it
 > > work to run the MzScheme.exe executable? 
 > 
 > Sorry, i am not next to my WinXP PC now, perhaps my memory serves 
 > me good :)
 > 
 > MzScheme.exe was really there, seemed to run OK and brought Scheme prompt.
 > 
 > >  What about MrEd.exe?
 > 
 > If i am not wrong, it was absent.
 
 MrEd.exe should definitely be there, the question is whether it starts
 without an error or not.
 
 
 > DrScheme.exe was absent for sure.
 > 
 > If i am not wrong, there were only 3 executables 
 > (i could answer 8 hours later in more details)
 
 Well, this is a problem that we could not track for more than a month
 now, so take your time...
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
From: Eli Barzilay <eli@barzilay.org>
To: "=?koi8-r?Q?=22?=Valery A.Khamenya=?koi8-r?Q?=22=20?=" <khamenya@mail.ru>
Cc: bugs@plt-scheme.org
Subject: Re: Re[4]: all/6837: plt-206p1-bin-i386-win32.exe install fails under WinXP
Date: Tue, 27 Apr 2004 17:58:40 -0400

 On Apr 27, "Valery A.Khamenya"  wrote:
 > yes, MrEd.exe is here, the Plt directory has the 
 > following entries only:
 > 
 > collects/
 > include/
 > lib/
 > notes/
 > teachpack/
 > install
 > install.bat
 > "Finish Install.exe"
 > MrEd.exe
 > MzScheme.exe
 > Uninstall.exe
 > readme.txt
 
 That's expected -- these are the files that are unpacked by the
 installer before invoking the MrEd installer.
 
 
 > MrEd.exe brings console with the following initial message:
 > -----------------------
 > Welcome to MrEd version 206p1.
 > Copyright (c) 2004 PLT Scheme, Inc.
 > This is a simple window for evaluating MrEd Scheme expressions.
 > Quit now and run DrScheme to get a better window.
 > The current input port always returns eof.
 > > 
 > ------------------------
 
 Can you try to double click install.bat and see if it causes the same
 problem?
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
From: "=?koi8-r?Q?=22?=Valery A.Khamenya=?koi8-r?Q?=22=20?=" <khamenya@mail.ru>
To: =?koi8-r?Q?=22?=Eli Barzilay=?koi8-r?Q?=22=20?= <eli@barzilay.org>
Cc: bugs@plt-scheme.org
Subject: Re[4]: all/6837: plt-206p1-bin-i386-win32.exe install fails under WinXP
Date: Tue, 27 Apr 2004 20:20:33 +0400

 i am at my WinXP PC now again.
 
 > > If i am not wrong, it was absent.
 > 
 > MrEd.exe should definitely be there, the question is whether it starts
 > without an error or not.
 
 yes, MrEd.exe is here, the Plt directory has the 
 following entries only:
 
 collects/
 include/
 lib/
 notes/
 teachpack/
 install
 install.bat
 "Finish Install.exe"
 MrEd.exe
 MzScheme.exe
 Uninstall.exe
 readme.txt
 
 MrEd.exe brings console with the following initial message:
 -----------------------
 Welcome to MrEd version 206p1.
 Copyright (c) 2004 PLT Scheme, Inc.
 This is a simple window for evaluating MrEd Scheme expressions.
 Quit now and run DrScheme to get a better window.
 The current input port always returns eof.
 > 
 ------------------------
 
 seems to work:
 ------------------------
 > (+ 2 3)
 5
 > 
 ------------------------
 
 best regards,
 Valery 
From: "=?koi8-r?Q?=22?=Valery A.Khamenya=?koi8-r?Q?=22=20?="<khamenya@mail.ru>
To: =?koi8-r?Q?=22?=Eli Barzilay=?koi8-r?Q?=22=20?=<eli@barzilay.org>
Cc: bugs@plt-scheme.org
Subject: Re[6]: all/6837: plt-206p1-bin-i386-win32.exe install fails under WinXP
Date: Wed, 28 Apr 2004 20:35:29 +0400

 > Can you try to double click install.bat and see if it causes the same
 > problem?
 
 wow, install.bat works fine i got DrScheme.exe and other 
 executables as appropriate. So, at least we have temporary 
 work-around for the bug :)
 
 probably install.bat executed from within installer 
 obtains not enogh memory/stack or smth like that.
 
 --
 Valery
 
From: Eli Barzilay <eli@barzilay.org>
To: "=?koi8-r?Q?=22?=Valery A.Khamenya=?koi8-r?Q?=22=20?=" <khamenya@mail.ru>
Cc: bugs@plt-scheme.org
Subject: Re: Re[6]: all/6837: plt-206p1-bin-i386-win32.exe install fails under WinXP
Date: Wed, 28 Apr 2004 14:16:48 -0400

 On Apr 28, "Valery A.Khamenya"  wrote:
 > 
 > > Can you try to double click install.bat and see if it causes the
 > > same problem?
 > 
 > wow, install.bat works fine i got DrScheme.exe and other 
 > executables as appropriate. So, at least we have temporary 
 > work-around for the bug :)
 > 
 > probably install.bat executed from within installer 
 > obtains not enogh memory/stack or smth like that.
 
 Well, that's the thing which we couldn't catch.  We know that
 disabling network is another way to get the problem go away, but we
 don't have a machine that shows the same problem.  Can you also try to
 re-install from scratch and when it fails try to run "Finish
 Install.exe" and see if that works?
 
 -- 
           ((lambda (x) (x x)) (lambda (x) (x x)))          Eli Barzilay:
                   http://www.barzilay.org/                 Maze is Life!
From: "=?koi8-r?Q?=22?=Valery A.Khamenya=?koi8-r?Q?=22=20?="<khamenya@mail.ru>
To: =?koi8-r?Q?=22?=Eli Barzilay=?koi8-r?Q?=22=20?=<eli@barzilay.org>
Cc: bugs@plt-scheme.org
Subject: Re[8]: all/6837: plt-206p1-bin-i386-win32.exe install fails under WinXP
Date: Fri, 30 Apr 2004 01:30:08 +0400

 > Well, that's the thing which we couldn't catch.  We know that
 > disabling network is another way to get the problem go away, but we
 > don't have a machine that shows the same problem.  Can you also try to
 > re-install from scratch and when it fails try to run "Finish
 > Install.exe" and see if that works?
 
 LOL, i have done this. re-install recommends to unistall, 
 i say "OK", then comes install process again and... 
 everything installed without any crash!
 
 I am wondering how you gonna find this bug...
 
 --
 Valery
 

State changed from "feedback" to "closed" by eli at Sat, 05 Jun 2004 16:21:17 -0400
Reason>>> Seems like this problem is finally solved.

