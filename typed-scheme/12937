From bugs+caf_=bugs=bugs.plt-scheme.org@plt-scheme.org Mon Jul 23 16:54:43 2012
Received: from mail-vb0-f44.google.com (mail-vb0-f44.google.com [209.85.212.44])
	by champlain.ccs.neu.edu (8.14.4/8.14.4) with ESMTP id q6NKsdnw029937
	for <bugs@bugs.plt-scheme.org>; Mon, 23 Jul 2012 16:54:39 -0400
Message-Id: <201207232054.q6NKsZHm029931@champlain.ccs.neu.edu>
Date: Mon, 23 Jul 2012 16:54:35 -0400
From: matthias@ccs.neu.edu
To: bugs@racket-lang.org
Subject: debugger reacts badly to simplest Typed Racket program

>Number:         12937
>Category:       typed-scheme
>Synopsis:       debugger reacts badly to simplest Typed Racket program
>Class:          sw-bug
>Responsible:    robby
>Severity:       serious
>Priority:       medium
>State:          closed
>Confidential:   no
>Arrival-Date:   Mon Jul 23 16:56:01 -0400 2012
>Closed-Date:    Tue Jul 01 17:49:48 -0400 2014
>Last-Modified:  Tue Jul 01 17:49:48 -0400 2014
>Originator:     matthias
>Organization:
plt
>Submitter-Id:   unknown
>Release:        5.3.0.16--2012-07-23(94d47234/d)
>Environment:
macosx "Darwin africa.westell.com 11.4.0 Darwin Kernel Version 11.4.0: Mon Apr  9 19:32:15 PDT 2012; root:xnu-1699.26.8~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
Human Language: english
(current-memory-use) 644140232
Links: (links) = (); (links #:user? #f) = (); (links #:root? #t) = (); (links #:user? #f #:root? #t) = ()


Collections:
("/Users/matthias/0Unison/collects/"
 ("._.DS_Store" ".DS_Store" "compiled" "date" "finance" "info-domain" "info.ss" "pdf.ss~" "session" "short" "testing" "tll-collects" "utils" "web"))
("/Users/matthias/Library/Racket/5.3.0.16/collects"
 (non-existent-path))
("/Users/matthias/plt/collects"
 (".gitignore" "2htdp" "afm" "algol60" "at-exp" "browser" "combinator-parser" "compiler" "config" "data" "datalog" "db" "defaults" "deinprogramm" "drracket" "drscheme" "dynext" "embedded-gui" "eopl" "errortrace" "ffi" "file" "framework" "frtime" "future-visualizer" "games" "graphics" "gui-debugger" "guibuilder" "handin-client" "handin-server" "help" "hierlist" "honu" "htdp" "html" "icons" "images" "info-domain" "json" "lang" "launcher" "lazy" "macro-debugger" "make" "meta" "mred" "mrlib" "mysterx" "mz" "mzcom" "mzlib" "mzscheme" "net" "openssl" "parser-tools" "picturing-programs" "plai" "planet" "plot" "preprocessor" "profile" "r5rs" "r6rs" "racket" "racklog" "rackunit" "raclog" "raco" "racunit" "reader" "readline" "redex" "repo-time-stamp" "repos-time-stamp" "rnrs" "s-exp" "schelog" "scheme" "schemeunit" "scribble" "scribblings" "scriblib" "setup" "sgl" "sirmail" "slatex" "slideshow" "srfi" "srpersist" "stepper" "string-constants" "swindle" "syntax" "syntax-color" "teachpac!
 k" "test-box-recovery" "test-engine" "tests" "tex2page" "texpict" "tool" "trace" "typed" "typed-racket" "typed-scheme" "unstable" "version" "waterworld" "web-server" "wxme" "xml" "xrepl"))

Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default) #() "#lang racket" #t #t ((main) (test))))
>Description:
Click on debugger icon when the def window contains TR program. 
Get this message:
Welcome to DrRacket, version 5.3.0.16--2012-07-23(94d47234/d) [3m].
Language: typed/racket.
. . plt/collects/typed-racket/base-env/base-special-env.rkt:26:0: require: unknown module
  module name: #<resolved-module-path:"/Users/matthias/plt/collects/racket/private/promise.rkt">

When you 'break' the debugger, you get the following: 


user break
  context...:
   /Users/matthias/plt/collects/typed-racket/base-env/base-special-env.rkt:26:0: make-template-identifier
   /Users/matthias/plt/collects/typed-racket/base-env/base-special-env.rkt: [running body]
   /Users/matthias/plt/collects/typed-racket/typed-racket.rkt:18:0: do-standard-inits
   success
   /Users/matthias/plt/collects/typed-racket/typed-racket.rkt:38:4
   /Users/matthias/plt/collects/racket/private/more-scheme.rkt:268:2: call-with-exception-handler
   /Users/matthias/plt/collects/drracket/private/rep.rkt:1090:34: loop
   /Users/matthias/plt/collects/drracket/private/rep.rkt:1077:24: loop
   /Users/matthias/plt/collects/racket/private/more-scheme.rkt:151:2: call-with-break-parameterization
   /Users/matthias/plt/collects/drracket/private/rep.rkt:1051:9
   /Users/matthias/plt/collects/drracket/private/rep.rkt:1354:17: loop
   /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:445:6
   /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:485:32
   /Users/matthias/plt/collects/racket/private/more-scheme.rkt:151:2: call-with-break-parameterization
   /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:397:18: loop
> 
>How-To-Repeat:
I reduced the program that triggers this bug to: 

#lang typed/racket
(= 5 5)
>Fix:
>Audit-Trail:
From: Robby Findler <robby@eecs.northwestern.edu>
To: matthias@ccs.neu.edu, bugs@racket-lang.org
Cc: nobody@racket-lang.org, bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/12937: debugger reacts badly to simplest Typed
 Racket program
Date: Mon, 23 Jul 2012 18:40:52 -0500

 This doesn't make a lot of sense to me; it would be helpful if there
 could be a program that doesn't involve so much TR code.
 
 Robby
 
 On Mon, Jul 23, 2012 at 3:56 PM,  <matthias@ccs.neu.edu> wrote:
 > A new problem report is waiting at
 >   http://bugs.racket-lang.org/query/?cmd=view&pr=12937
 >
 > Reported by matthias for release: 5.3.0.16--2012-07-23(94d47234/d)
 >
 > *** Description:
 > Click on debugger icon when the def window contains TR program.
 > Get this message:
 > Welcome to DrRacket, version 5.3.0.16--2012-07-23(94d47234/d) [3m].
 > Language: typed/racket.
 > . . plt/collects/typed-racket/base-env/base-special-env.rkt:26:0: require: unknown module
 >   module name: #<resolved-module-path:"/Users/matthias/plt/collects/racket/private/promise.rkt">
 >
 > When you 'break' the debugger, you get the following:
 >
 >
 > user break
 >   context...:
 >    /Users/matthias/plt/collects/typed-racket/base-env/base-special-env.rkt:26:0: make-template-identifier
 >    /Users/matthias/plt/collects/typed-racket/base-env/base-special-env.rkt: [running body]
 >    /Users/matthias/plt/collects/typed-racket/typed-racket.rkt:18:0: do-standard-inits
 >    success
 >    /Users/matthias/plt/collects/typed-racket/typed-racket.rkt:38:4
 >    /Users/matthias/plt/collects/racket/private/more-scheme.rkt:268:2: call-with-exception-handler
 >    /Users/matthias/plt/collects/drracket/private/rep.rkt:1090:34: loop
 >    /Users/matthias/plt/collects/drracket/private/rep.rkt:1077:24: loop
 >    /Users/matthias/plt/collects/racket/private/more-scheme.rkt:151:2: call-with-break-parameterization
 >    /Users/matthias/plt/collects/drracket/private/rep.rkt:1051:9
 >    /Users/matthias/plt/collects/drracket/private/rep.rkt:1354:17: loop
 >    /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:445:6
 >    /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:485:32
 >    /Users/matthias/plt/collects/racket/private/more-scheme.rkt:151:2: call-with-break-parameterization
 >    /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:397:18: loop
 >>
 >
 > *** How to repeat:
 > I reduced the program that triggers this bug to:
 >
 > #lang typed/racket
 > (= 5 5)
 >
 > *** Environment:
 > macosx "Darwin africa.westell.com 11.4.0 Darwin Kernel Version 11.4.0: Mon Apr  9 19:32:15 PDT 2012; root:xnu-1699.26.8~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
 > Human Language: english
 > (current-memory-use) 644140232
 > Links: (links) = (); (links #:user? #f) = (); (links #:root? #t) = (); (links #:user? #f #:root? #t) = ()
 >
 >
 > Collections:
 > ("/Users/matthias/0Unison/collects/"
 >  ("._.DS_Store" ".DS_Store" "compiled" "date" "finance" "info-domain" "info.ss" "pdf.ss~" "session" "short" "testing" "tll-collects" "utils" "web"))
 > ("/Users/matthias/Library/Racket/5.3.0.16/collects"
 >  (non-existent-path))
 > ("/Users/matthias/plt/collects"
 >  (".gitignore" "2htdp" "afm" "algol60" "at-exp" "browser" "combinator-parser" "compiler" "config" "data" "datalog" "db" "defaults" "deinprogramm" "drracket" "drscheme" "dynext" "embedded-gui" "eopl" "errortrace" "ffi" "file" "framework" "frtime" "future-visualizer" "games" "graphics" "gui-debugger" "guibuilder" "handin-client" "handin-server" "help" "hierlist" "honu" "htdp" "html" "icons" "images" "info-domain" "json" "lang" "launcher" "lazy" "macro-debugger" "make" "meta" "mred" "mrlib" "mysterx" "mz" "mzcom" "mzlib" "mzscheme" "net" "openssl" "parser-tools" "picturing-programs" "plai" "planet" "plot" "preprocessor" "profile" "r5rs" "r6rs" "racket" "racklog" "rackunit" "raclog" "raco" "racunit" "reader" "readline" "redex" "repo-time-stamp" "repos-time-stamp" "rnrs" "s-exp" "schelog" "scheme" "schemeunit" "scribble" "scribblings" "scriblib" "setup" "sgl" "sirmail" "slatex" "slideshow" "srfi" "srpersist" "stepper" "string-constants" "swindle" "syntax" "syntax-color" "teachpac!
 >  k" "test-box-recovery" "test-engine" "tests" "tex2page" "texpict" "tool" "trace" "typed" "typed-racket" "typed-scheme" "unstable" "version" "waterworld" "web-server" "wxme" "xml" "xrepl"))
 >
 > Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default) #() "#lang racket" #t #t ((main) (test))))
 >
 
From: Robby Findler <robby@eecs.northwestern.edu>
To: matthias@ccs.neu.edu, bugs@racket-lang.org
Cc: nobody@racket-lang.org, bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/12937: debugger reacts badly to simplest Typed
 Racket program
Date: Mon, 23 Jul 2012 18:50:14 -0500

 Oh: and clicking on the stacktrace button that you get when you debug
 this program may give someone a clue how to make a smaller program.
 
 Robby
 
 On Mon, Jul 23, 2012 at 6:40 PM, Robby Findler
 <robby@eecs.northwestern.edu> wrote:
 > This doesn't make a lot of sense to me; it would be helpful if there
 > could be a program that doesn't involve so much TR code.
 >
 > Robby
 >
 > On Mon, Jul 23, 2012 at 3:56 PM,  <matthias@ccs.neu.edu> wrote:
 >> A new problem report is waiting at
 >>   http://bugs.racket-lang.org/query/?cmd=view&pr=12937
 >>
 >> Reported by matthias for release: 5.3.0.16--2012-07-23(94d47234/d)
 >>
 >> *** Description:
 >> Click on debugger icon when the def window contains TR program.
 >> Get this message:
 >> Welcome to DrRacket, version 5.3.0.16--2012-07-23(94d47234/d) [3m].
 >> Language: typed/racket.
 >> . . plt/collects/typed-racket/base-env/base-special-env.rkt:26:0: require: unknown module
 >>   module name: #<resolved-module-path:"/Users/matthias/plt/collects/racket/private/promise.rkt">
 >>
 >> When you 'break' the debugger, you get the following:
 >>
 >>
 >> user break
 >>   context...:
 >>    /Users/matthias/plt/collects/typed-racket/base-env/base-special-env.rkt:26:0: make-template-identifier
 >>    /Users/matthias/plt/collects/typed-racket/base-env/base-special-env.rkt: [running body]
 >>    /Users/matthias/plt/collects/typed-racket/typed-racket.rkt:18:0: do-standard-inits
 >>    success
 >>    /Users/matthias/plt/collects/typed-racket/typed-racket.rkt:38:4
 >>    /Users/matthias/plt/collects/racket/private/more-scheme.rkt:268:2: call-with-exception-handler
 >>    /Users/matthias/plt/collects/drracket/private/rep.rkt:1090:34: loop
 >>    /Users/matthias/plt/collects/drracket/private/rep.rkt:1077:24: loop
 >>    /Users/matthias/plt/collects/racket/private/more-scheme.rkt:151:2: call-with-break-parameterization
 >>    /Users/matthias/plt/collects/drracket/private/rep.rkt:1051:9
 >>    /Users/matthias/plt/collects/drracket/private/rep.rkt:1354:17: loop
 >>    /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:445:6
 >>    /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:485:32
 >>    /Users/matthias/plt/collects/racket/private/more-scheme.rkt:151:2: call-with-break-parameterization
 >>    /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:397:18: loop
 >>>
 >>
 >> *** How to repeat:
 >> I reduced the program that triggers this bug to:
 >>
 >> #lang typed/racket
 >> (= 5 5)
 >>
 >> *** Environment:
 >> macosx "Darwin africa.westell.com 11.4.0 Darwin Kernel Version 11.4.0: Mon Apr  9 19:32:15 PDT 2012; root:xnu-1699.26.8~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
 >> Human Language: english
 >> (current-memory-use) 644140232
 >> Links: (links) = (); (links #:user? #f) = (); (links #:root? #t) = (); (links #:user? #f #:root? #t) = ()
 >>
 >>
 >> Collections:
 >> ("/Users/matthias/0Unison/collects/"
 >>  ("._.DS_Store" ".DS_Store" "compiled" "date" "finance" "info-domain" "info.ss" "pdf.ss~" "session" "short" "testing" "tll-collects" "utils" "web"))
 >> ("/Users/matthias/Library/Racket/5.3.0.16/collects"
 >>  (non-existent-path))
 >> ("/Users/matthias/plt/collects"
 >>  (".gitignore" "2htdp" "afm" "algol60" "at-exp" "browser" "combinator-parser" "compiler" "config" "data" "datalog" "db" "defaults" "deinprogramm" "drracket" "drscheme" "dynext" "embedded-gui" "eopl" "errortrace" "ffi" "file" "framework" "frtime" "future-visualizer" "games" "graphics" "gui-debugger" "guibuilder" "handin-client" "handin-server" "help" "hierlist" "honu" "htdp" "html" "icons" "images" "info-domain" "json" "lang" "launcher" "lazy" "macro-debugger" "make" "meta" "mred" "mrlib" "mysterx" "mz" "mzcom" "mzlib" "mzscheme" "net" "openssl" "parser-tools" "picturing-programs" "plai" "planet" "plot" "preprocessor" "profile" "r5rs" "r6rs" "racket" "racklog" "rackunit" "raclog" "raco" "racunit" "reader" "readline" "redex" "repo-time-stamp" "repos-time-stamp" "rnrs" "s-exp" "schelog" "scheme" "schemeunit" "scribble" "scribblings" "scriblib" "setup" "sgl" "sirmail" "slatex" "slideshow" "srfi" "srpersist" "stepper" "string-constants" "swindle" "syntax" "syntax-color" "teachpac!
 >>  k" "test-box-recovery" "test-engine" "tests" "tex2page" "texpict" "tool" "trace" "typed" "typed-racket" "typed-scheme" "unstable" "version" "waterworld" "web-server" "wxme" "xml" "xrepl"))
 >>
 >> Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default) #() "#lang racket" #t #t ((main) (test))))
 >>
 
From: Matthias Felleisen <matthias@ccs.neu.edu>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/12937: debugger reacts badly to simplest Typed Racket program
Date: Mon, 23 Jul 2012 19:54:14 -0400

 It is a one-line TR program. 
 
 
 On Jul 23, 2012, at 7:40 PM, Robby Findler wrote:
 
 > This doesn't make a lot of sense to me; it would be helpful if there
 > could be a program that doesn't involve so much TR code.
 > 
 > Robby
 > 
 > On Mon, Jul 23, 2012 at 3:56 PM,  <matthias@ccs.neu.edu> wrote:
 >> A new problem report is waiting at
 >>  http://bugs.racket-lang.org/query/?cmd=view&pr=12937
 >> 
 >> Reported by matthias for release: 5.3.0.16--2012-07-23(94d47234/d)
 >> 
 >> *** Description:
 >> Click on debugger icon when the def window contains TR program.
 >> Get this message:
 >> Welcome to DrRacket, version 5.3.0.16--2012-07-23(94d47234/d) [3m].
 >> Language: typed/racket.
 >> . . plt/collects/typed-racket/base-env/base-special-env.rkt:26:0: require: unknown module
 >>  module name: #<resolved-module-path:"/Users/matthias/plt/collects/racket/private/promise.rkt">
 >> 
 >> When you 'break' the debugger, you get the following:
 >> 
 >> 
 >> user break
 >>  context...:
 >>   /Users/matthias/plt/collects/typed-racket/base-env/base-special-env.rkt:26:0: make-template-identifier
 >>   /Users/matthias/plt/collects/typed-racket/base-env/base-special-env.rkt: [running body]
 >>   /Users/matthias/plt/collects/typed-racket/typed-racket.rkt:18:0: do-standard-inits
 >>   success
 >>   /Users/matthias/plt/collects/typed-racket/typed-racket.rkt:38:4
 >>   /Users/matthias/plt/collects/racket/private/more-scheme.rkt:268:2: call-with-exception-handler
 >>   /Users/matthias/plt/collects/drracket/private/rep.rkt:1090:34: loop
 >>   /Users/matthias/plt/collects/drracket/private/rep.rkt:1077:24: loop
 >>   /Users/matthias/plt/collects/racket/private/more-scheme.rkt:151:2: call-with-break-parameterization
 >>   /Users/matthias/plt/collects/drracket/private/rep.rkt:1051:9
 >>   /Users/matthias/plt/collects/drracket/private/rep.rkt:1354:17: loop
 >>   /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:445:6
 >>   /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:485:32
 >>   /Users/matthias/plt/collects/racket/private/more-scheme.rkt:151:2: call-with-break-parameterization
 >>   /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:397:18: loop
 >>> 
 >> 
 >> *** How to repeat:
 >> I reduced the program that triggers this bug to:
 >> 
 >> #lang typed/racket
 >> (= 5 5)
 >> 
 >> *** Environment:
 >> macosx "Darwin africa.westell.com 11.4.0 Darwin Kernel Version 11.4.0: Mon Apr  9 19:32:15 PDT 2012; root:xnu-1699.26.8~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
 >> Human Language: english
 >> (current-memory-use) 644140232
 >> Links: (links) = (); (links #:user? #f) = (); (links #:root? #t) = (); (links #:user? #f #:root? #t) = ()
 >> 
 >> 
 >> Collections:
 >> ("/Users/matthias/0Unison/collects/"
 >> ("._.DS_Store" ".DS_Store" "compiled" "date" "finance" "info-domain" "info.ss" "pdf.ss~" "session" "short" "testing" "tll-collects" "utils" "web"))
 >> ("/Users/matthias/Library/Racket/5.3.0.16/collects"
 >> (non-existent-path))
 >> ("/Users/matthias/plt/collects"
 >> (".gitignore" "2htdp" "afm" "algol60" "at-exp" "browser" "combinator-parser" "compiler" "config" "data" "datalog" "db" "defaults" "deinprogramm" "drracket" "drscheme" "dynext" "embedded-gui" "eopl" "errortrace" "ffi" "file" "framework" "frtime" "future-visualizer" "games" "graphics" "gui-debugger" "guibuilder" "handin-client" "handin-server" "help" "hierlist" "honu" "htdp" "html" "icons" "images" "info-domain" "json" "lang" "launcher" "lazy" "macro-debugger" "make" "meta" "mred" "mrlib" "mysterx" "mz" "mzcom" "mzlib" "mzscheme" "net" "openssl" "parser-tools" "picturing-programs" "plai" "planet" "plot" "preprocessor" "profile" "r5rs" "r6rs" "racket" "racklog" "rackunit" "raclog" "raco" "racunit" "reader" "readline" "redex" "repo-time-stamp" "repos-time-stamp" "rnrs" "s-exp" "schelog" "scheme" "schemeunit" "scribble" "scribblings" "scriblib" "setup" "sgl" "sirmail" "slatex" "slideshow" "srfi" "srpersist" "stepper" "string-constants" "swindle" "syntax" "syntax-color" "teachpac!
 >> k" "test-box-recovery" "test-engine" "tests" "tex2page" "texpict" "tool" "trace" "typed" "typed-racket" "typed-scheme" "unstable" "version" "waterworld" "web-server" "wxme" "xml" "xrepl"))
 >> 
 >> Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default) #() "#lang racket" #t #t ((main) (test))))
 >> 
 
 
From: Robby Findler <robby@eecs.northwestern.edu>
To: Matthias Felleisen <matthias@ccs.neu.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/12937: debugger reacts badly to simplest Typed
 Racket program
Date: Mon, 23 Jul 2012 19:08:50 -0500

 By "TR code" I mean "code that implements TR"
 
 On Mon, Jul 23, 2012 at 6:54 PM, Matthias Felleisen
 <matthias@ccs.neu.edu> wrote:
 >
 > It is a one-line TR program.
 >
 >
 > On Jul 23, 2012, at 7:40 PM, Robby Findler wrote:
 >
 >> This doesn't make a lot of sense to me; it would be helpful if there
 >> could be a program that doesn't involve so much TR code.
 >>
 >> Robby
 >>
 >> On Mon, Jul 23, 2012 at 3:56 PM,  <matthias@ccs.neu.edu> wrote:
 >>> A new problem report is waiting at
 >>>  http://bugs.racket-lang.org/query/?cmd=view&pr=12937
 >>>
 >>> Reported by matthias for release: 5.3.0.16--2012-07-23(94d47234/d)
 >>>
 >>> *** Description:
 >>> Click on debugger icon when the def window contains TR program.
 >>> Get this message:
 >>> Welcome to DrRacket, version 5.3.0.16--2012-07-23(94d47234/d) [3m].
 >>> Language: typed/racket.
 >>> . . plt/collects/typed-racket/base-env/base-special-env.rkt:26:0: require: unknown module
 >>>  module name: #<resolved-module-path:"/Users/matthias/plt/collects/racket/private/promise.rkt">
 >>>
 >>> When you 'break' the debugger, you get the following:
 >>>
 >>>
 >>> user break
 >>>  context...:
 >>>   /Users/matthias/plt/collects/typed-racket/base-env/base-special-env.rkt:26:0: make-template-identifier
 >>>   /Users/matthias/plt/collects/typed-racket/base-env/base-special-env.rkt: [running body]
 >>>   /Users/matthias/plt/collects/typed-racket/typed-racket.rkt:18:0: do-standard-inits
 >>>   success
 >>>   /Users/matthias/plt/collects/typed-racket/typed-racket.rkt:38:4
 >>>   /Users/matthias/plt/collects/racket/private/more-scheme.rkt:268:2: call-with-exception-handler
 >>>   /Users/matthias/plt/collects/drracket/private/rep.rkt:1090:34: loop
 >>>   /Users/matthias/plt/collects/drracket/private/rep.rkt:1077:24: loop
 >>>   /Users/matthias/plt/collects/racket/private/more-scheme.rkt:151:2: call-with-break-parameterization
 >>>   /Users/matthias/plt/collects/drracket/private/rep.rkt:1051:9
 >>>   /Users/matthias/plt/collects/drracket/private/rep.rkt:1354:17: loop
 >>>   /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:445:6
 >>>   /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:485:32
 >>>   /Users/matthias/plt/collects/racket/private/more-scheme.rkt:151:2: call-with-break-parameterization
 >>>   /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:397:18: loop
 >>>>
 >>>
 >>> *** How to repeat:
 >>> I reduced the program that triggers this bug to:
 >>>
 >>> #lang typed/racket
 >>> (= 5 5)
 >>>
 >>> *** Environment:
 >>> macosx "Darwin africa.westell.com 11.4.0 Darwin Kernel Version 11.4.0: Mon Apr  9 19:32:15 PDT 2012; root:xnu-1699.26.8~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
 >>> Human Language: english
 >>> (current-memory-use) 644140232
 >>> Links: (links) = (); (links #:user? #f) = (); (links #:root? #t) = (); (links #:user? #f #:root? #t) = ()
 >>>
 >>>
 >>> Collections:
 >>> ("/Users/matthias/0Unison/collects/"
 >>> ("._.DS_Store" ".DS_Store" "compiled" "date" "finance" "info-domain" "info.ss" "pdf.ss~" "session" "short" "testing" "tll-collects" "utils" "web"))
 >>> ("/Users/matthias/Library/Racket/5.3.0.16/collects"
 >>> (non-existent-path))
 >>> ("/Users/matthias/plt/collects"
 >>> (".gitignore" "2htdp" "afm" "algol60" "at-exp" "browser" "combinator-parser" "compiler" "config" "data" "datalog" "db" "defaults" "deinprogramm" "drracket" "drscheme" "dynext" "embedded-gui" "eopl" "errortrace" "ffi" "file" "framework" "frtime" "future-visualizer" "games" "graphics" "gui-debugger" "guibuilder" "handin-client" "handin-server" "help" "hierlist" "honu" "htdp" "html" "icons" "images" "info-domain" "json" "lang" "launcher" "lazy" "macro-debugger" "make" "meta" "mred" "mrlib" "mysterx" "mz" "mzcom" "mzlib" "mzscheme" "net" "openssl" "parser-tools" "picturing-programs" "plai" "planet" "plot" "preprocessor" "profile" "r5rs" "r6rs" "racket" "racklog" "rackunit" "raclog" "raco" "racunit" "reader" "readline" "redex" "repo-time-stamp" "repos-time-stamp" "rnrs" "s-exp" "schelog" "scheme" "schemeunit" "scribble" "scribblings" "scriblib" "setup" "sgl" "sirmail" "slatex" "slideshow" "srfi" "srpersist" "stepper" "string-constants" "swindle" "syntax" "syntax-color" "teachpac!
 >>> k" "test-box-recovery" "test-engine" "tests" "tex2page" "texpict" "tool" "trace" "typed" "typed-racket" "typed-scheme" "unstable" "version" "waterworld" "web-server" "wxme" "xml" "xrepl"))
 >>>
 >>> Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default) #() "#lang racket" #t #t ((main) (test))))
 >>>
 >
 
From: Matthias Felleisen <matthias@ccs.neu.edu>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/12937: debugger reacts badly to simplest Typed Racket program
Date: Mon, 23 Jul 2012 20:35:20 -0400

 And how do you expect me to reduce this? I am not the implementor of TR. Perhaps Sam should assign the TR to himself until he can push it back to the Debugger (Greg?). 
 
 
 
 
 On Jul 23, 2012, at 8:08 PM, Robby Findler wrote:
 
 > By "TR code" I mean "code that implements TR"
 > 
 > On Mon, Jul 23, 2012 at 6:54 PM, Matthias Felleisen
 > <matthias@ccs.neu.edu> wrote:
 >> 
 >> It is a one-line TR program.
 >> 
 >> 
 >> On Jul 23, 2012, at 7:40 PM, Robby Findler wrote:
 >> 
 >>> This doesn't make a lot of sense to me; it would be helpful if there
 >>> could be a program that doesn't involve so much TR code.
 >>> 
 >>> Robby
 >>> 
 >>> On Mon, Jul 23, 2012 at 3:56 PM,  <matthias@ccs.neu.edu> wrote:
 >>>> A new problem report is waiting at
 >>>> http://bugs.racket-lang.org/query/?cmd=view&pr=12937
 >>>> 
 >>>> Reported by matthias for release: 5.3.0.16--2012-07-23(94d47234/d)
 >>>> 
 >>>> *** Description:
 >>>> Click on debugger icon when the def window contains TR program.
 >>>> Get this message:
 >>>> Welcome to DrRacket, version 5.3.0.16--2012-07-23(94d47234/d) [3m].
 >>>> Language: typed/racket.
 >>>> . . plt/collects/typed-racket/base-env/base-special-env.rkt:26:0: require: unknown module
 >>>> module name: #<resolved-module-path:"/Users/matthias/plt/collects/racket/private/promise.rkt">
 >>>> 
 >>>> When you 'break' the debugger, you get the following:
 >>>> 
 >>>> 
 >>>> user break
 >>>> context...:
 >>>>  /Users/matthias/plt/collects/typed-racket/base-env/base-special-env.rkt:26:0: make-template-identifier
 >>>>  /Users/matthias/plt/collects/typed-racket/base-env/base-special-env.rkt: [running body]
 >>>>  /Users/matthias/plt/collects/typed-racket/typed-racket.rkt:18:0: do-standard-inits
 >>>>  success
 >>>>  /Users/matthias/plt/collects/typed-racket/typed-racket.rkt:38:4
 >>>>  /Users/matthias/plt/collects/racket/private/more-scheme.rkt:268:2: call-with-exception-handler
 >>>>  /Users/matthias/plt/collects/drracket/private/rep.rkt:1090:34: loop
 >>>>  /Users/matthias/plt/collects/drracket/private/rep.rkt:1077:24: loop
 >>>>  /Users/matthias/plt/collects/racket/private/more-scheme.rkt:151:2: call-with-break-parameterization
 >>>>  /Users/matthias/plt/collects/drracket/private/rep.rkt:1051:9
 >>>>  /Users/matthias/plt/collects/drracket/private/rep.rkt:1354:17: loop
 >>>>  /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:445:6
 >>>>  /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:485:32
 >>>>  /Users/matthias/plt/collects/racket/private/more-scheme.rkt:151:2: call-with-break-parameterization
 >>>>  /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:397:18: loop
 >>>>> 
 >>>> 
 >>>> *** How to repeat:
 >>>> I reduced the program that triggers this bug to:
 >>>> 
 >>>> #lang typed/racket
 >>>> (= 5 5)
 >>>> 
 >>>> *** Environment:
 >>>> macosx "Darwin africa.westell.com 11.4.0 Darwin Kernel Version 11.4.0: Mon Apr  9 19:32:15 PDT 2012; root:xnu-1699.26.8~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
 >>>> Human Language: english
 >>>> (current-memory-use) 644140232
 >>>> Links: (links) = (); (links #:user? #f) = (); (links #:root? #t) = (); (links #:user? #f #:root? #t) = ()
 >>>> 
 >>>> 
 >>>> Collections:
 >>>> ("/Users/matthias/0Unison/collects/"
 >>>> ("._.DS_Store" ".DS_Store" "compiled" "date" "finance" "info-domain" "info.ss" "pdf.ss~" "session" "short" "testing" "tll-collects" "utils" "web"))
 >>>> ("/Users/matthias/Library/Racket/5.3.0.16/collects"
 >>>> (non-existent-path))
 >>>> ("/Users/matthias/plt/collects"
 >>>> (".gitignore" "2htdp" "afm" "algol60" "at-exp" "browser" "combinator-parser" "compiler" "config" "data" "datalog" "db" "defaults" "deinprogramm" "drracket" "drscheme" "dynext" "embedded-gui" "eopl" "errortrace" "ffi" "file" "framework" "frtime" "future-visualizer" "games" "graphics" "gui-debugger" "guibuilder" "handin-client" "handin-server" "help" "hierlist" "honu" "htdp" "html" "icons" "images" "info-domain" "json" "lang" "launcher" "lazy" "macro-debugger" "make" "meta" "mred" "mrlib" "mysterx" "mz" "mzcom" "mzlib" "mzscheme" "net" "openssl" "parser-tools" "picturing-programs" "plai" "planet" "plot" "preprocessor" "profile" "r5rs" "r6rs" "racket" "racklog" "rackunit" "raclog" "raco" "racunit" "reader" "readline" "redex" "repo-time-stamp" "repos-time-stamp" "rnrs" "s-exp" "schelog" "scheme" "schemeunit" "scribble" "scribblings" "scriblib" "setup" "sgl" "sirmail" "slatex" "slideshow" "srfi" "srpersist" "stepper" "string-constants" "swindle" "syntax" "syntax-color" "teachpac!
 >>>> k" "test-box-recovery" "test-engine" "tests" "tex2page" "texpict" "tool" "trace" "typed" "typed-racket" "typed-scheme" "unstable" "version" "waterworld" "web-server" "wxme" "xml" "xrepl"))
 >>>> 
 >>>> Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default) #() "#lang racket" #t #t ((main) (test))))
 >>>> 
 >> 
 
 
From: Matthias Felleisen <matthias@ccs.neu.edu>
To: Robby Findler <robby@eecs.northwestern.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/12937: debugger reacts badly to simplest Typed Racket program
Date: Mon, 23 Jul 2012 20:39:05 -0400

 Hah, I just conducted an experiment: 
 
 #lang racket
 (require racket/private/promise)
 
 fails, too IFF the def window isn't saved: 
 
 Different error message however: 
 
 > Welcome to DrRacket, version 5.3.0.16--2012-07-23(f9724f38/d) [3m].
 > Language: racket.
 > . . plt/collects/drracket/private/module-language.rkt:402:8: module->language-info: unknown module in the current namespace
 >   name: #<resolved-module-path:'anonymous-module>
 
 
 If you save this buffer, the debugger works. For TR, it doesn't work no matter whether it is saved. 
 
 HtH 
 
 
 On Jul 23, 2012, at 8:35 PM, Matthias Felleisen wrote:
 
 > 
 > And how do you expect me to reduce this? I am not the implementor of TR. Perhaps Sam should assign the TR to himself until he can push it back to the Debugger (Greg?). 
 > 
 > 
 > 
 > 
 > On Jul 23, 2012, at 8:08 PM, Robby Findler wrote:
 > 
 >> By "TR code" I mean "code that implements TR"
 >> 
 >> On Mon, Jul 23, 2012 at 6:54 PM, Matthias Felleisen
 >> <matthias@ccs.neu.edu> wrote:
 >>> 
 >>> It is a one-line TR program.
 >>> 
 >>> 
 >>> On Jul 23, 2012, at 7:40 PM, Robby Findler wrote:
 >>> 
 >>>> This doesn't make a lot of sense to me; it would be helpful if there
 >>>> could be a program that doesn't involve so much TR code.
 >>>> 
 >>>> Robby
 >>>> 
 >>>> On Mon, Jul 23, 2012 at 3:56 PM,  <matthias@ccs.neu.edu> wrote:
 >>>>> A new problem report is waiting at
 >>>>> http://bugs.racket-lang.org/query/?cmd=view&pr=12937
 >>>>> 
 >>>>> Reported by matthias for release: 5.3.0.16--2012-07-23(94d47234/d)
 >>>>> 
 >>>>> *** Description:
 >>>>> Click on debugger icon when the def window contains TR program.
 >>>>> Get this message:
 >>>>> Welcome to DrRacket, version 5.3.0.16--2012-07-23(94d47234/d) [3m].
 >>>>> Language: typed/racket.
 >>>>> . . plt/collects/typed-racket/base-env/base-special-env.rkt:26:0: require: unknown module
 >>>>> module name: #<resolved-module-path:"/Users/matthias/plt/collects/racket/private/promise.rkt">
 >>>>> 
 >>>>> When you 'break' the debugger, you get the following:
 >>>>> 
 >>>>> 
 >>>>> user break
 >>>>> context...:
 >>>>> /Users/matthias/plt/collects/typed-racket/base-env/base-special-env.rkt:26:0: make-template-identifier
 >>>>> /Users/matthias/plt/collects/typed-racket/base-env/base-special-env.rkt: [running body]
 >>>>> /Users/matthias/plt/collects/typed-racket/typed-racket.rkt:18:0: do-standard-inits
 >>>>> success
 >>>>> /Users/matthias/plt/collects/typed-racket/typed-racket.rkt:38:4
 >>>>> /Users/matthias/plt/collects/racket/private/more-scheme.rkt:268:2: call-with-exception-handler
 >>>>> /Users/matthias/plt/collects/drracket/private/rep.rkt:1090:34: loop
 >>>>> /Users/matthias/plt/collects/drracket/private/rep.rkt:1077:24: loop
 >>>>> /Users/matthias/plt/collects/racket/private/more-scheme.rkt:151:2: call-with-break-parameterization
 >>>>> /Users/matthias/plt/collects/drracket/private/rep.rkt:1051:9
 >>>>> /Users/matthias/plt/collects/drracket/private/rep.rkt:1354:17: loop
 >>>>> /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:445:6
 >>>>> /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:485:32
 >>>>> /Users/matthias/plt/collects/racket/private/more-scheme.rkt:151:2: call-with-break-parameterization
 >>>>> /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:397:18: loop
 >>>>>> 
 >>>>> 
 >>>>> *** How to repeat:
 >>>>> I reduced the program that triggers this bug to:
 >>>>> 
 >>>>> #lang typed/racket
 >>>>> (= 5 5)
 >>>>> 
 >>>>> *** Environment:
 >>>>> macosx "Darwin africa.westell.com 11.4.0 Darwin Kernel Version 11.4.0: Mon Apr  9 19:32:15 PDT 2012; root:xnu-1699.26.8~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
 >>>>> Human Language: english
 >>>>> (current-memory-use) 644140232
 >>>>> Links: (links) = (); (links #:user? #f) = (); (links #:root? #t) = (); (links #:user? #f #:root? #t) = ()
 >>>>> 
 >>>>> 
 >>>>> Collections:
 >>>>> ("/Users/matthias/0Unison/collects/"
 >>>>> ("._.DS_Store" ".DS_Store" "compiled" "date" "finance" "info-domain" "info.ss" "pdf.ss~" "session" "short" "testing" "tll-collects" "utils" "web"))
 >>>>> ("/Users/matthias/Library/Racket/5.3.0.16/collects"
 >>>>> (non-existent-path))
 >>>>> ("/Users/matthias/plt/collects"
 >>>>> (".gitignore" "2htdp" "afm" "algol60" "at-exp" "browser" "combinator-parser" "compiler" "config" "data" "datalog" "db" "defaults" "deinprogramm" "drracket" "drscheme" "dynext" "embedded-gui" "eopl" "errortrace" "ffi" "file" "framework" "frtime" "future-visualizer" "games" "graphics" "gui-debugger" "guibuilder" "handin-client" "handin-server" "help" "hierlist" "honu" "htdp" "html" "icons" "images" "info-domain" "json" "lang" "launcher" "lazy" "macro-debugger" "make" "meta" "mred" "mrlib" "mysterx" "mz" "mzcom" "mzlib" "mzscheme" "net" "openssl" "parser-tools" "picturing-programs" "plai" "planet" "plot" "preprocessor" "profile" "r5rs" "r6rs" "racket" "racklog" "rackunit" "raclog" "raco" "racunit" "reader" "readline" "redex" "repo-time-stamp" "repos-time-stamp" "rnrs" "s-exp" "schelog" "scheme" "schemeunit" "scribble" "scribblings" "scriblib" "setup" "sgl" "sirmail" "slatex" "slideshow" "srfi" "srpersist" "stepper" "string-constants" "swindle" "syntax" "syntax-color" "teachpac!
 >>>>> k" "test-box-recovery" "test-engine" "tests" "tex2page" "texpict" "tool" "trace" "typed" "typed-racket" "typed-scheme" "unstable" "version" "waterworld" "web-server" "wxme" "xml" "xrepl"))
 >>>>> 
 >>>>> Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default) #() "#lang racket" #t #t ((main) (test))))
 >>>>> 
 >>> 
 > 
 
 
From: Robby Findler <robby@eecs.northwestern.edu>
To: Matthias Felleisen <matthias@ccs.neu.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/12937: debugger reacts badly to simplest Typed
 Racket program
Date: Tue, 24 Jul 2012 01:40:00 -0500

 On Mon, Jul 23, 2012 at 7:35 PM, Matthias Felleisen
 <matthias@ccs.neu.edu> wrote:
 >
 > And how do you expect me to reduce this? I am not the implementor of TR. Perhaps Sam should assign the TR to himself until he can push it back to the Debugger (Greg?).
 >
 
 My email was not directed to you. Sorry for the confusion.
 
 >
 >
 > On Jul 23, 2012, at 8:08 PM, Robby Findler wrote:
 >
 >> By "TR code" I mean "code that implements TR"
 >>
 >> On Mon, Jul 23, 2012 at 6:54 PM, Matthias Felleisen
 >> <matthias@ccs.neu.edu> wrote:
 >>>
 >>> It is a one-line TR program.
 >>>
 >>>
 >>> On Jul 23, 2012, at 7:40 PM, Robby Findler wrote:
 >>>
 >>>> This doesn't make a lot of sense to me; it would be helpful if there
 >>>> could be a program that doesn't involve so much TR code.
 >>>>
 >>>> Robby
 >>>>
 >>>> On Mon, Jul 23, 2012 at 3:56 PM,  <matthias@ccs.neu.edu> wrote:
 >>>>> A new problem report is waiting at
 >>>>> http://bugs.racket-lang.org/query/?cmd=view&pr=12937
 >>>>>
 >>>>> Reported by matthias for release: 5.3.0.16--2012-07-23(94d47234/d)
 >>>>>
 >>>>> *** Description:
 >>>>> Click on debugger icon when the def window contains TR program.
 >>>>> Get this message:
 >>>>> Welcome to DrRacket, version 5.3.0.16--2012-07-23(94d47234/d) [3m].
 >>>>> Language: typed/racket.
 >>>>> . . plt/collects/typed-racket/base-env/base-special-env.rkt:26:0: require: unknown module
 >>>>> module name: #<resolved-module-path:"/Users/matthias/plt/collects/racket/private/promise.rkt">
 >>>>>
 >>>>> When you 'break' the debugger, you get the following:
 >>>>>
 >>>>>
 >>>>> user break
 >>>>> context...:
 >>>>>  /Users/matthias/plt/collects/typed-racket/base-env/base-special-env.rkt:26:0: make-template-identifier
 >>>>>  /Users/matthias/plt/collects/typed-racket/base-env/base-special-env.rkt: [running body]
 >>>>>  /Users/matthias/plt/collects/typed-racket/typed-racket.rkt:18:0: do-standard-inits
 >>>>>  success
 >>>>>  /Users/matthias/plt/collects/typed-racket/typed-racket.rkt:38:4
 >>>>>  /Users/matthias/plt/collects/racket/private/more-scheme.rkt:268:2: call-with-exception-handler
 >>>>>  /Users/matthias/plt/collects/drracket/private/rep.rkt:1090:34: loop
 >>>>>  /Users/matthias/plt/collects/drracket/private/rep.rkt:1077:24: loop
 >>>>>  /Users/matthias/plt/collects/racket/private/more-scheme.rkt:151:2: call-with-break-parameterization
 >>>>>  /Users/matthias/plt/collects/drracket/private/rep.rkt:1051:9
 >>>>>  /Users/matthias/plt/collects/drracket/private/rep.rkt:1354:17: loop
 >>>>>  /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:445:6
 >>>>>  /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:485:32
 >>>>>  /Users/matthias/plt/collects/racket/private/more-scheme.rkt:151:2: call-with-break-parameterization
 >>>>>  /Users/matthias/plt/collects/mred/private/wx/common/queue.rkt:397:18: loop
 >>>>>>
 >>>>>
 >>>>> *** How to repeat:
 >>>>> I reduced the program that triggers this bug to:
 >>>>>
 >>>>> #lang typed/racket
 >>>>> (= 5 5)
 >>>>>
 >>>>> *** Environment:
 >>>>> macosx "Darwin africa.westell.com 11.4.0 Darwin Kernel Version 11.4.0: Mon Apr  9 19:32:15 PDT 2012; root:xnu-1699.26.8~1/RELEASE_X86_64 x86_64" (x86_64-macosx/3m) (get-display-depth) = 32
 >>>>> Human Language: english
 >>>>> (current-memory-use) 644140232
 >>>>> Links: (links) = (); (links #:user? #f) = (); (links #:root? #t) = (); (links #:user? #f #:root? #t) = ()
 >>>>>
 >>>>>
 >>>>> Collections:
 >>>>> ("/Users/matthias/0Unison/collects/"
 >>>>> ("._.DS_Store" ".DS_Store" "compiled" "date" "finance" "info-domain" "info.ss" "pdf.ss~" "session" "short" "testing" "tll-collects" "utils" "web"))
 >>>>> ("/Users/matthias/Library/Racket/5.3.0.16/collects"
 >>>>> (non-existent-path))
 >>>>> ("/Users/matthias/plt/collects"
 >>>>> (".gitignore" "2htdp" "afm" "algol60" "at-exp" "browser" "combinator-parser" "compiler" "config" "data" "datalog" "db" "defaults" "deinprogramm" "drracket" "drscheme" "dynext" "embedded-gui" "eopl" "errortrace" "ffi" "file" "framework" "frtime" "future-visualizer" "games" "graphics" "gui-debugger" "guibuilder" "handin-client" "handin-server" "help" "hierlist" "honu" "htdp" "html" "icons" "images" "info-domain" "json" "lang" "launcher" "lazy" "macro-debugger" "make" "meta" "mred" "mrlib" "mysterx" "mz" "mzcom" "mzlib" "mzscheme" "net" "openssl" "parser-tools" "picturing-programs" "plai" "planet" "plot" "preprocessor" "profile" "r5rs" "r6rs" "racket" "racklog" "rackunit" "raclog" "raco" "racunit" "reader" "readline" "redex" "repo-time-stamp" "repos-time-stamp" "rnrs" "s-exp" "schelog" "scheme" "schemeunit" "scribble" "scribblings" "scriblib" "setup" "sgl" "sirmail" "slatex" "slideshow" "srfi" "srpersist" "stepper" "string-constants" "swindle" "syntax" "syntax-color" "teachpac!
 >>>>> k" "test-box-recovery" "test-engine" "tests" "tex2page" "texpict" "tool" "trace" "typed" "typed-racket" "typed-scheme" "unstable" "version" "waterworld" "web-server" "wxme" "xml" "xrepl"))
 >>>>>
 >>>>> Computer Language: (("Determine language from source") (#(#t print mixed-fraction-e #f #t debug) (default) #() "#lang racket" #t #t ((main) (test))))
 >>>>>
 >>>
 >
 
From: Robby Findler <robby@eecs.northwestern.edu>
To: Matthias Felleisen <matthias@ccs.neu.edu>
Cc: bugs@racket-lang.org, nobody@racket-lang.org,
        bug-notification@racket-lang.org
Subject: Re: [racket-bug] all/12937: debugger reacts badly to simplest Typed
 Racket program
Date: Tue, 24 Jul 2012 03:39:57 -0500

 On Mon, Jul 23, 2012 at 7:39 PM, Matthias Felleisen
 <matthias@ccs.neu.edu> wrote:
 >
 > Hah, I just conducted an experiment:
 >
 > #lang racket
 > (require racket/private/promise)
 >
 > fails, too IFF the def window isn't saved:
 >
 > Different error message however:
 >
 >> Welcome to DrRacket, version 5.3.0.16--2012-07-23(f9724f38/d) [3m].
 >> Language: racket.
 >> . . plt/collects/drracket/private/module-language.rkt:402:8: module->language-info: unknown module in the current namespace
 >>   name: #<resolved-module-path:'anonymous-module>
 >
 >
 > If you save this buffer, the debugger works. For TR, it doesn't work no matter whether it is saved.
 >
 > HtH
 
 I've looked into this now a little bit and I think that this is
 something that I broke in this commit:
 
   http://git.racket-lang.org/plt/commit/232188e7
 
 Robby
Responsible changed from "nobody" to "robby" by robby@racket-lang.org at Tue, 24 Jul 2012 05:13:25 -0400
Reason>>> A commit by robby@racket-lang.org was marked as relevant
  http://git.racket-lang.org/plt/commit/fadd1d9714


State changed from "open" to "closed" by asumu at Tue, 01 Jul 2014 17:49:48 -0400
Reason>>> Appears to work now in Racket 6.0.1.13

